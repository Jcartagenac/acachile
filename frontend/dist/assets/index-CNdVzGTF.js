var bx=Object.defineProperty;var jx=(e,t,s)=>t in e?bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var dt=(e,t,s)=>jx(e,typeof t!="symbol"?t+"":t,s);function wx(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const o=Object.getOwnPropertyDescriptor(a,n);o&&Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function Nx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oh={exports:{}},ni={},ih={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=Symbol.for("react.element"),kx=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),_x=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),Ix=Symbol.for("react.suspense"),Tx=Symbol.for("react.memo"),Rx=Symbol.for("react.lazy"),Wd=Symbol.iterator;function Lx(e){return e===null||typeof e!="object"?null:(e=Wd&&e[Wd]||e["@@iterator"],typeof e=="function"?e:null)}var lh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ch=Object.assign,dh={};function ba(e,t,s){this.props=e,this.context=t,this.refs=dh,this.updater=s||lh}ba.prototype.isReactComponent={};ba.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ba.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uh(){}uh.prototype=ba.prototype;function Pc(e,t,s){this.props=e,this.context=t,this.refs=dh,this.updater=s||lh}var Ic=Pc.prototype=new uh;Ic.constructor=Pc;ch(Ic,ba.prototype);Ic.isPureReactComponent=!0;var Gd=Array.isArray,mh=Object.prototype.hasOwnProperty,Tc={current:null},hh={key:!0,ref:!0,__self:!0,__source:!0};function fh(e,t,s){var a,n={},o=null,i=null;if(t!=null)for(a in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)mh.call(t,a)&&!hh.hasOwnProperty(a)&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:En,type:e,key:o,ref:i,props:n,_owner:Tc.current}}function Mx(e,t){return{$$typeof:En,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===En}function $x(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Zd=/\/+/g;function Ti(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$x(""+e.key):t.toString(36)}function co(e,t,s,a,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case En:case kx:i=!0}}if(i)return i=e,n=n(i),e=a===""?"."+Ti(i,0):a,Gd(n)?(s="",e!=null&&(s=e.replace(Zd,"$&/")+"/"),co(n,t,s,"",function(d){return d})):n!=null&&(Rc(n)&&(n=Mx(n,s+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(Zd,"$&/")+"/")+e)),t.push(n)),1;if(i=0,a=a===""?".":a+":",Gd(e))for(var l=0;l<e.length;l++){o=e[l];var c=a+Ti(o,l);i+=co(o,t,s,c,n)}else if(c=Lx(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=a+Ti(o,l++),i+=co(o,t,s,c,n);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Bn(e,t,s){if(e==null)return e;var a=[],n=0;return co(e,a,"","",function(o){return t.call(s,o,n++)}),a}function Dx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},uo={transition:null},Ox={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:uo,ReactCurrentOwner:Tc};function ph(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Bn,forEach:function(e,t,s){Bn(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Bn(e,function(){t++}),t},toArray:function(e){return Bn(e,function(t){return t})||[]},only:function(e){if(!Rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=ba;me.Fragment=Sx;me.Profiler=_x;me.PureComponent=Pc;me.StrictMode=Cx;me.Suspense=Ix;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox;me.act=ph;me.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=ch({},e.props),n=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Tc.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mh.call(t,c)&&!hh.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:En,type:e.type,key:n,ref:o,props:a,_owner:i}};me.createContext=function(e){return e={$$typeof:Ax,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ex,_context:e},e.Consumer=e};me.createElement=fh;me.createFactory=function(e){var t=fh.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Px,render:e}};me.isValidElement=Rc;me.lazy=function(e){return{$$typeof:Rx,_payload:{_status:-1,_result:e},_init:Dx}};me.memo=function(e,t){return{$$typeof:Tx,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=uo.transition;uo.transition={};try{e()}finally{uo.transition=t}};me.unstable_act=ph;me.useCallback=function(e,t){return ht.current.useCallback(e,t)};me.useContext=function(e){return ht.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};me.useEffect=function(e,t){return ht.current.useEffect(e,t)};me.useId=function(){return ht.current.useId()};me.useImperativeHandle=function(e,t,s){return ht.current.useImperativeHandle(e,t,s)};me.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return ht.current.useMemo(e,t)};me.useReducer=function(e,t,s){return ht.current.useReducer(e,t,s)};me.useRef=function(e){return ht.current.useRef(e)};me.useState=function(e){return ht.current.useState(e)};me.useSyncExternalStore=function(e,t,s){return ht.current.useSyncExternalStore(e,t,s)};me.useTransition=function(){return ht.current.useTransition()};me.version="18.3.1";ih.exports=me;var g=ih.exports;const Pe=Nx(g),zx=wx({__proto__:null,default:Pe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=g,Fx=Symbol.for("react.element"),Vx=Symbol.for("react.fragment"),Bx=Object.prototype.hasOwnProperty,Hx=Ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qx={key:!0,ref:!0,__self:!0,__source:!0};function xh(e,t,s){var a,n={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(a in t)Bx.call(t,a)&&!qx.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:Fx,type:e,key:o,ref:i,props:n,_owner:Hx.current}}ni.Fragment=Vx;ni.jsx=xh;ni.jsxs=xh;oh.exports=ni;var r=oh.exports,gh={exports:{}},It={},yh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,H){var J=$.length;$.push(H);e:for(;0<J;){var D=J-1>>>1,z=$[D];if(0<n(z,H))$[D]=H,$[J]=z,J=D;else break e}}function s($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var H=$[0],J=$.pop();if(J!==H){$[0]=J;e:for(var D=0,z=$.length,W=z>>>1;D<W;){var G=2*(D+1)-1,K=$[G],le=G+1,ve=$[le];if(0>n(K,J))le<z&&0>n(ve,K)?($[D]=ve,$[le]=J,D=le):($[D]=K,$[G]=J,D=G);else if(le<z&&0>n(ve,J))$[D]=ve,$[le]=J,D=le;else break e}}return H}function n($,H){var J=$.sortIndex-H.sortIndex;return J!==0?J:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],m=1,h=null,x=3,N=!1,w=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var H=s(d);H!==null;){if(H.callback===null)a(d);else if(H.startTime<=$)a(d),H.sortIndex=H.expirationTime,t(c,H);else break;H=s(d)}}function v($){if(j=!1,y($),!w)if(s(c)!==null)w=!0,P(S);else{var H=s(d);H!==null&&V(v,H.startTime-$)}}function S($,H){w=!1,j&&(j=!1,f(p),p=-1),N=!0;var J=x;try{for(y(H),h=s(c);h!==null&&(!(h.expirationTime>H)||$&&!_());){var D=h.callback;if(typeof D=="function"){h.callback=null,x=h.priorityLevel;var z=D(h.expirationTime<=H);H=e.unstable_now(),typeof z=="function"?h.callback=z:h===s(c)&&a(c),y(H)}else a(c);h=s(c)}if(h!==null)var W=!0;else{var G=s(d);G!==null&&V(v,G.startTime-H),W=!1}return W}finally{h=null,x=J,N=!1}}var A=!1,T=null,p=-1,k=5,C=-1;function _(){return!(e.unstable_now()-C<k)}function I(){if(T!==null){var $=e.unstable_now();C=$;var H=!0;try{H=T(!0,$)}finally{H?L():(A=!1,T=null)}}else A=!1}var L;if(typeof u=="function")L=function(){u(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=I,L=function(){U.postMessage(null)}}else L=function(){b(I,0)};function P($){T=$,A||(A=!0,L())}function V($,H){p=b(function(){$(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||N||(w=!0,P(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var J=x;x=H;try{return $()}finally{x=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=x;x=$;try{return H()}finally{x=J}},e.unstable_scheduleCallback=function($,H,J){var D=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=J+z,$={id:m++,callback:H,priorityLevel:$,startTime:J,expirationTime:z,sortIndex:-1},J>D?($.sortIndex=J,t(d,$),s(c)===null&&$===s(d)&&(j?(f(p),p=-1):j=!0,V(v,J-D))):($.sortIndex=z,t(c,$),w||N||(w=!0,P(S))),$},e.unstable_shouldYield=_,e.unstable_wrapCallback=function($){var H=x;return function(){var J=x;x=H;try{return $.apply(this,arguments)}finally{x=J}}}})(vh);yh.exports=vh;var Wx=yh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=g,At=Wx;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bh=new Set,sn={};function As(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(sn[e]=t,e=0;e<t.length;e++)bh.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=Object.prototype.hasOwnProperty,Zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jd={},Qd={};function Jx(e){return fl.call(Qd,e)?!0:fl.call(Jd,e)?!1:Zx.test(e)?Qd[e]=!0:(Jd[e]=!0,!1)}function Qx(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kx(e,t,s,a){if(t===null||typeof t>"u"||Qx(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,s,a,n,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;function Mc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lc,Mc);tt[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lc,Mc);tt[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lc,Mc);tt[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function $c(e,t,s,a){var n=tt.hasOwnProperty(t)?tt[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kx(t,s,n,a)&&(s=null),a||n===null?Jx(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var Er=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hn=Symbol.for("react.element"),Os=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),jh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),xl=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),Nh=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function Sa(e){return e===null||typeof e!="object"?null:(e=Kd&&e[Kd]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Ri;function Ua(e){if(Ri===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ri=t&&t[1]||""}return`
`+Ri+e}var Li=!1;function Mi(e,t){if(!e||Li)return"";Li=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),o=a.stack.split(`
`),i=n.length-1,l=o.length-1;1<=i&&0<=l&&n[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||n[i]!==o[l]){var c=`
`+n[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Li=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ua(e):""}function Yx(e){switch(e.tag){case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return e=Mi(e.type,!1),e;case 11:return e=Mi(e.type.render,!1),e;case 1:return e=Mi(e.type,!0),e;default:return""}}function yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case Os:return"Portal";case pl:return"Profiler";case Dc:return"StrictMode";case xl:return"Suspense";case gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wh:return(e.displayName||"Context")+".Consumer";case jh:return(e._context.displayName||"Context")+".Provider";case Oc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zc:return t=e.displayName||null,t!==null?t:yl(e.type)||"Memo";case $r:t=e._payload,e=e._init;try{return yl(e(t))}catch{}}return null}function Xx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yl(t);case 8:return t===Dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e0(e){var t=kh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qn(e){e._valueTracker||(e._valueTracker=e0(e))}function Sh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=kh(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,t){var s=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Yd(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=ss(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ch(e,t){t=t.checked,t!=null&&$c(e,"checked",t,!1)}function bl(e,t){Ch(e,t);var s=ss(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jl(e,t.type,s):t.hasOwnProperty("defaultValue")&&jl(e,t.type,ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xd(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function jl(e,t,s){(t!=="number"||ko(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Fa=Array.isArray;function Qs(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+ss(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(F(92));if(Fa(s)){if(1<s.length)throw Error(F(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ss(s)}}function _h(e,t){var s=ss(t.value),a=ss(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function tu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Eh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Eh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wn,Ah=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wn=Wn||document.createElement("div"),Wn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function an(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t0=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(e){t0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wa[t]=Wa[e]})});function Ph(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Wa.hasOwnProperty(e)&&Wa[e]?(""+t).trim():t+"px"}function Ih(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=Ph(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var r0=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(e,t){if(t){if(r0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function Uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,Ks=null,Ys=null;function ru(e){if(e=In(e)){if(typeof _l!="function")throw Error(F(280));var t=e.stateNode;t&&(t=di(t),_l(e.stateNode,e.type,t))}}function Th(e){Ks?Ys?Ys.push(e):Ys=[e]:Ks=e}function Rh(){if(Ks){var e=Ks,t=Ys;if(Ys=Ks=null,ru(e),t)for(e=0;e<t.length;e++)ru(t[e])}}function Lh(e,t){return e(t)}function Mh(){}var $i=!1;function $h(e,t,s){if($i)return e(t,s);$i=!0;try{return Lh(e,t,s)}finally{$i=!1,(Ks!==null||Ys!==null)&&(Mh(),Rh())}}function nn(e,t){var s=e.stateNode;if(s===null)return null;var a=di(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(F(231,t,typeof s));return s}var El=!1;if(jr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){El=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{El=!1}function s0(e,t,s,a,n,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(m){this.onError(m)}}var Ga=!1,So=null,Co=!1,Al=null,a0={onError:function(e){Ga=!0,So=e}};function n0(e,t,s,a,n,o,i,l,c){Ga=!1,So=null,s0.apply(a0,arguments)}function o0(e,t,s,a,n,o,i,l,c){if(n0.apply(this,arguments),Ga){if(Ga){var d=So;Ga=!1,So=null}else throw Error(F(198));Co||(Co=!0,Al=d)}}function Ps(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Dh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function su(e){if(Ps(e)!==e)throw Error(F(188))}function i0(e){var t=e.alternate;if(!t){if(t=Ps(e),t===null)throw Error(F(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var o=n.alternate;if(o===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===s)return su(n),e;if(o===a)return su(n),t;o=o.sibling}throw Error(F(188))}if(s.return!==a.return)s=n,a=o;else{for(var i=!1,l=n.child;l;){if(l===s){i=!0,s=n,a=o;break}if(l===a){i=!0,a=n,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,a=n;break}if(l===a){i=!0,a=o,s=n;break}l=l.sibling}if(!i)throw Error(F(189))}}if(s.alternate!==a)throw Error(F(190))}if(s.tag!==3)throw Error(F(188));return s.stateNode.current===s?e:t}function Oh(e){return e=i0(e),e!==null?zh(e):null}function zh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zh(e);if(t!==null)return t;e=e.sibling}return null}var Uh=At.unstable_scheduleCallback,au=At.unstable_cancelCallback,l0=At.unstable_shouldYield,c0=At.unstable_requestPaint,ze=At.unstable_now,d0=At.unstable_getCurrentPriorityLevel,Fc=At.unstable_ImmediatePriority,Fh=At.unstable_UserBlockingPriority,_o=At.unstable_NormalPriority,u0=At.unstable_LowPriority,Vh=At.unstable_IdlePriority,oi=null,lr=null;function m0(e){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(oi,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:p0,h0=Math.log,f0=Math.LN2;function p0(e){return e>>>=0,e===0?32:31-(h0(e)/f0|0)|0}var Gn=64,Zn=4194304;function Va(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eo(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~n;l!==0?a=Va(l):(o&=i,o!==0&&(a=Va(o)))}else i=s&~n,i!==0?a=Va(i):o!==0&&(a=Va(o));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,o=t&-t,n>=o||n===16&&(o&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-Kt(t),n=1<<s,a|=e[s],t&=~n;return a}function x0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Kt(o),l=1<<i,c=n[i];c===-1?(!(l&s)||l&a)&&(n[i]=x0(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bh(){var e=Gn;return Gn<<=1,!(Gn&4194240)&&(Gn=64),e}function Di(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function An(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=s}function y0(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Kt(s),o=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~o}}function Vc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Kt(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var je=0;function Hh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qh,Bc,Wh,Gh,Zh,Il=!1,Jn=[],Gr=null,Zr=null,Jr=null,on=new Map,ln=new Map,zr=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(e,t){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":on.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(t.pointerId)}}function _a(e,t,s,a,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:o,targetContainers:[n]},t!==null&&(t=In(t),t!==null&&Bc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function b0(e,t,s,a,n){switch(t){case"focusin":return Gr=_a(Gr,e,t,s,a,n),!0;case"dragenter":return Zr=_a(Zr,e,t,s,a,n),!0;case"mouseover":return Jr=_a(Jr,e,t,s,a,n),!0;case"pointerover":var o=n.pointerId;return on.set(o,_a(on.get(o)||null,e,t,s,a,n)),!0;case"gotpointercapture":return o=n.pointerId,ln.set(o,_a(ln.get(o)||null,e,t,s,a,n)),!0}return!1}function Jh(e){var t=fs(e.target);if(t!==null){var s=Ps(t);if(s!==null){if(t=s.tag,t===13){if(t=Dh(s),t!==null){e.blockedOn=t,Zh(e.priority,function(){Wh(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Tl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Cl=a,s.target.dispatchEvent(a),Cl=null}else return t=In(s),t!==null&&Bc(t),e.blockedOn=s,!1;t.shift()}return!0}function ou(e,t,s){mo(e)&&s.delete(t)}function j0(){Il=!1,Gr!==null&&mo(Gr)&&(Gr=null),Zr!==null&&mo(Zr)&&(Zr=null),Jr!==null&&mo(Jr)&&(Jr=null),on.forEach(ou),ln.forEach(ou)}function Ea(e,t){e.blockedOn===t&&(e.blockedOn=null,Il||(Il=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,j0)))}function cn(e){function t(n){return Ea(n,e)}if(0<Jn.length){Ea(Jn[0],e);for(var s=1;s<Jn.length;s++){var a=Jn[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Gr!==null&&Ea(Gr,e),Zr!==null&&Ea(Zr,e),Jr!==null&&Ea(Jr,e),on.forEach(t),ln.forEach(t),s=0;s<zr.length;s++)a=zr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<zr.length&&(s=zr[0],s.blockedOn===null);)Jh(s),s.blockedOn===null&&zr.shift()}var Xs=Er.ReactCurrentBatchConfig,Ao=!0;function w0(e,t,s,a){var n=je,o=Xs.transition;Xs.transition=null;try{je=1,Hc(e,t,s,a)}finally{je=n,Xs.transition=o}}function N0(e,t,s,a){var n=je,o=Xs.transition;Xs.transition=null;try{je=4,Hc(e,t,s,a)}finally{je=n,Xs.transition=o}}function Hc(e,t,s,a){if(Ao){var n=Tl(e,t,s,a);if(n===null)Gi(e,t,a,Po,s),nu(e,a);else if(b0(n,e,t,s,a))a.stopPropagation();else if(nu(e,a),t&4&&-1<v0.indexOf(e)){for(;n!==null;){var o=In(n);if(o!==null&&qh(o),o=Tl(e,t,s,a),o===null&&Gi(e,t,a,Po,s),o===n)break;n=o}n!==null&&a.stopPropagation()}else Gi(e,t,a,null,s)}}var Po=null;function Tl(e,t,s,a){if(Po=null,e=Uc(a),e=fs(e),e!==null)if(t=Ps(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Dh(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Po=e,null}function Qh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d0()){case Fc:return 1;case Fh:return 4;case _o:case u0:return 16;case Vh:return 536870912;default:return 16}default:return 16}}var Vr=null,qc=null,ho=null;function Kh(){if(ho)return ho;var e,t=qc,s=t.length,a,n="value"in Vr?Vr.value:Vr.textContent,o=n.length;for(e=0;e<s&&t[e]===n[e];e++);var i=s-e;for(a=1;a<=i&&t[s-a]===n[o-a];a++);return ho=n.slice(e,1<a?1-a:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function iu(){return!1}function Tt(e){function t(s,a,n,o,i){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qn:iu,this.isPropagationStopped=iu,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),t}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=Tt(ja),Pn=Me({},ja,{view:0,detail:0}),k0=Tt(Pn),Oi,zi,Aa,ii=Me({},Pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(Oi=e.screenX-Aa.screenX,zi=e.screenY-Aa.screenY):zi=Oi=0,Aa=e),Oi)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),lu=Tt(ii),S0=Me({},ii,{dataTransfer:0}),C0=Tt(S0),_0=Me({},Pn,{relatedTarget:0}),Ui=Tt(_0),E0=Me({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),A0=Tt(E0),P0=Me({},ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I0=Tt(P0),T0=Me({},ja,{data:0}),cu=Tt(T0),R0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M0[e])?!!t[e]:!1}function Gc(){return $0}var D0=Me({},Pn,{key:function(e){if(e.key){var t=R0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O0=Tt(D0),z0=Me({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),du=Tt(z0),U0=Me({},Pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),F0=Tt(U0),V0=Me({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=Tt(V0),H0=Me({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=Tt(H0),W0=[9,13,27,32],Zc=jr&&"CompositionEvent"in window,Za=null;jr&&"documentMode"in document&&(Za=document.documentMode);var G0=jr&&"TextEvent"in window&&!Za,Yh=jr&&(!Zc||Za&&8<Za&&11>=Za),uu=" ",mu=!1;function Xh(e,t){switch(e){case"keyup":return W0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function Z0(e,t){switch(e){case"compositionend":return ef(t);case"keypress":return t.which!==32?null:(mu=!0,uu);case"textInput":return e=t.data,e===uu&&mu?null:e;default:return null}}function J0(e,t){if(Us)return e==="compositionend"||!Zc&&Xh(e,t)?(e=Kh(),ho=qc=Vr=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yh&&t.locale!=="ko"?null:t.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q0[e.type]:t==="textarea"}function tf(e,t,s,a){Th(a),t=Io(t,"onChange"),0<t.length&&(s=new Wc("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Ja=null,dn=null;function K0(e){hf(e,0)}function li(e){var t=Bs(e);if(Sh(t))return e}function Y0(e,t){if(e==="change")return t}var rf=!1;if(jr){var Fi;if(jr){var Vi="oninput"in document;if(!Vi){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),Vi=typeof fu.oninput=="function"}Fi=Vi}else Fi=!1;rf=Fi&&(!document.documentMode||9<document.documentMode)}function pu(){Ja&&(Ja.detachEvent("onpropertychange",sf),dn=Ja=null)}function sf(e){if(e.propertyName==="value"&&li(dn)){var t=[];tf(t,dn,e,Uc(e)),$h(K0,t)}}function X0(e,t,s){e==="focusin"?(pu(),Ja=t,dn=s,Ja.attachEvent("onpropertychange",sf)):e==="focusout"&&pu()}function eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(dn)}function tg(e,t){if(e==="click")return li(t)}function rg(e,t){if(e==="input"||e==="change")return li(t)}function sg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:sg;function un(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!fl.call(t,n)||!Xt(e[n],t[n]))return!1}return!0}function xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var s=xu(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xu(s)}}function af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nf(){for(var e=window,t=ko();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ko(e.document)}return t}function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ag(e){var t=nf(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&af(s.ownerDocument.documentElement,s)){if(a!==null&&Jc(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,o=Math.min(a.start,n);a=a.end===void 0?o:Math.min(a.end,n),!e.extend&&o>a&&(n=a,a=o,o=n),n=gu(s,o);var i=gu(s,a);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),o>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ng=jr&&"documentMode"in document&&11>=document.documentMode,Fs=null,Rl=null,Qa=null,Ll=!1;function yu(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ll||Fs==null||Fs!==ko(a)||(a=Fs,"selectionStart"in a&&Jc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Qa&&un(Qa,a)||(Qa=a,a=Io(Rl,"onSelect"),0<a.length&&(t=new Wc("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Fs)))}function Kn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Vs={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionend:Kn("Transition","TransitionEnd")},Bi={},of={};jr&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function ci(e){if(Bi[e])return Bi[e];if(!Vs[e])return e;var t=Vs[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in of)return Bi[e]=t[s];return e}var lf=ci("animationend"),cf=ci("animationiteration"),df=ci("animationstart"),uf=ci("transitionend"),mf=new Map,vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){mf.set(e,t),As(t,[e])}for(var Hi=0;Hi<vu.length;Hi++){var qi=vu[Hi],og=qi.toLowerCase(),ig=qi[0].toUpperCase()+qi.slice(1);is(og,"on"+ig)}is(lf,"onAnimationEnd");is(cf,"onAnimationIteration");is(df,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(uf,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function bu(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,o0(a,t,void 0,e),e.currentTarget=null}function hf(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var i=a.length-1;0<=i;i--){var l=a[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&n.isPropagationStopped())break e;bu(n,l,d),o=c}else for(i=0;i<a.length;i++){if(l=a[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&n.isPropagationStopped())break e;bu(n,l,d),o=c}}}if(Co)throw e=Al,Co=!1,Al=null,e}function Ee(e,t){var s=t[zl];s===void 0&&(s=t[zl]=new Set);var a=e+"__bubble";s.has(a)||(ff(t,e,2,!1),s.add(a))}function Wi(e,t,s){var a=0;t&&(a|=4),ff(s,e,a,t)}var Yn="_reactListening"+Math.random().toString(36).slice(2);function mn(e){if(!e[Yn]){e[Yn]=!0,bh.forEach(function(s){s!=="selectionchange"&&(lg.has(s)||Wi(s,!1,e),Wi(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yn]||(t[Yn]=!0,Wi("selectionchange",!1,t))}}function ff(e,t,s,a){switch(Qh(t)){case 1:var n=w0;break;case 4:n=N0;break;default:n=Hc}s=n.bind(null,t,s,e),n=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Gi(e,t,s,a,n){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;l!==null;){if(i=fs(l),i===null)return;if(c=i.tag,c===5||c===6){a=o=i;continue e}l=l.parentNode}}a=a.return}$h(function(){var d=o,m=Uc(s),h=[];e:{var x=mf.get(e);if(x!==void 0){var N=Wc,w=e;switch(e){case"keypress":if(fo(s)===0)break e;case"keydown":case"keyup":N=O0;break;case"focusin":w="focus",N=Ui;break;case"focusout":w="blur",N=Ui;break;case"beforeblur":case"afterblur":N=Ui;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=F0;break;case lf:case cf:case df:N=A0;break;case uf:N=B0;break;case"scroll":N=k0;break;case"wheel":N=q0;break;case"copy":case"cut":case"paste":N=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=du}var j=(t&4)!==0,b=!j&&e==="scroll",f=j?x!==null?x+"Capture":null:x;j=[];for(var u=d,y;u!==null;){y=u;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,f!==null&&(v=nn(u,f),v!=null&&j.push(hn(u,v,y)))),b)break;u=u.return}0<j.length&&(x=new N(x,w,null,s,m),h.push({event:x,listeners:j}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",x&&s!==Cl&&(w=s.relatedTarget||s.fromElement)&&(fs(w)||w[wr]))break e;if((N||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,N?(w=s.relatedTarget||s.toElement,N=d,w=w?fs(w):null,w!==null&&(b=Ps(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(N=null,w=d),N!==w)){if(j=lu,v="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(j=du,v="onPointerLeave",f="onPointerEnter",u="pointer"),b=N==null?x:Bs(N),y=w==null?x:Bs(w),x=new j(v,u+"leave",N,s,m),x.target=b,x.relatedTarget=y,v=null,fs(m)===d&&(j=new j(f,u+"enter",w,s,m),j.target=y,j.relatedTarget=b,v=j),b=v,N&&w)t:{for(j=N,f=w,u=0,y=j;y;y=Ts(y))u++;for(y=0,v=f;v;v=Ts(v))y++;for(;0<u-y;)j=Ts(j),u--;for(;0<y-u;)f=Ts(f),y--;for(;u--;){if(j===f||f!==null&&j===f.alternate)break t;j=Ts(j),f=Ts(f)}j=null}else j=null;N!==null&&ju(h,x,N,j,!1),w!==null&&b!==null&&ju(h,b,w,j,!0)}}e:{if(x=d?Bs(d):window,N=x.nodeName&&x.nodeName.toLowerCase(),N==="select"||N==="input"&&x.type==="file")var S=Y0;else if(hu(x))if(rf)S=rg;else{S=eg;var A=X0}else(N=x.nodeName)&&N.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=tg);if(S&&(S=S(e,d))){tf(h,S,s,m);break e}A&&A(e,x,d),e==="focusout"&&(A=x._wrapperState)&&A.controlled&&x.type==="number"&&jl(x,"number",x.value)}switch(A=d?Bs(d):window,e){case"focusin":(hu(A)||A.contentEditable==="true")&&(Fs=A,Rl=d,Qa=null);break;case"focusout":Qa=Rl=Fs=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,yu(h,s,m);break;case"selectionchange":if(ng)break;case"keydown":case"keyup":yu(h,s,m)}var T;if(Zc)e:{switch(e){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Us?Xh(e,s)&&(p="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(p="onCompositionStart");p&&(Yh&&s.locale!=="ko"&&(Us||p!=="onCompositionStart"?p==="onCompositionEnd"&&Us&&(T=Kh()):(Vr=m,qc="value"in Vr?Vr.value:Vr.textContent,Us=!0)),A=Io(d,p),0<A.length&&(p=new cu(p,e,null,s,m),h.push({event:p,listeners:A}),T?p.data=T:(T=ef(s),T!==null&&(p.data=T)))),(T=G0?Z0(e,s):J0(e,s))&&(d=Io(d,"onBeforeInput"),0<d.length&&(m=new cu("onBeforeInput","beforeinput",null,s,m),h.push({event:m,listeners:d}),m.data=T))}hf(h,t)})}function hn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Io(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=nn(e,s),o!=null&&a.unshift(hn(e,o,n)),o=nn(e,t),o!=null&&a.push(hn(e,o,n))),e=e.return}return a}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ju(e,t,s,a,n){for(var o=t._reactName,i=[];s!==null&&s!==a;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,n?(c=nn(s,o),c!=null&&i.unshift(hn(s,c,l))):n||(c=nn(s,o),c!=null&&i.push(hn(s,c,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var cg=/\r\n?/g,dg=/\u0000|\uFFFD/g;function wu(e){return(typeof e=="string"?e:""+e).replace(cg,`
`).replace(dg,"")}function Xn(e,t,s){if(t=wu(t),wu(e)!==t&&s)throw Error(F(425))}function To(){}var Ml=null,$l=null;function Dl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,ug=typeof clearTimeout=="function"?clearTimeout:void 0,Nu=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Nu<"u"?function(e){return Nu.resolve(null).then(e).catch(hg)}:Ol;function hg(e){setTimeout(function(){throw e})}function Zi(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),cn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);cn(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var wa=Math.random().toString(36).slice(2),nr="__reactFiber$"+wa,fn="__reactProps$"+wa,wr="__reactContainer$"+wa,zl="__reactEvents$"+wa,fg="__reactListeners$"+wa,pg="__reactHandles$"+wa;function fs(e){var t=e[nr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[wr]||s[nr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=ku(e);e!==null;){if(s=e[nr])return s;e=ku(e)}return t}e=s,s=e.parentNode}return null}function In(e){return e=e[nr]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function di(e){return e[fn]||null}var Ul=[],Hs=-1;function ls(e){return{current:e}}function Ae(e){0>Hs||(e.current=Ul[Hs],Ul[Hs]=null,Hs--)}function Ce(e,t){Hs++,Ul[Hs]=e.current,e.current=t}var as={},lt=ls(as),jt=ls(!1),ws=as;function ia(e,t){var s=e.type.contextTypes;if(!s)return as;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in s)n[o]=t[o];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function wt(e){return e=e.childContextTypes,e!=null}function Ro(){Ae(jt),Ae(lt)}function Su(e,t,s){if(lt.current!==as)throw Error(F(168));Ce(lt,t),Ce(jt,s)}function pf(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(F(108,Xx(e)||"Unknown",n));return Me({},s,a)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||as,ws=lt.current,Ce(lt,e),Ce(jt,jt.current),!0}function Cu(e,t,s){var a=e.stateNode;if(!a)throw Error(F(169));s?(e=pf(e,t,ws),a.__reactInternalMemoizedMergedChildContext=e,Ae(jt),Ae(lt),Ce(lt,e)):Ae(jt),Ce(jt,s)}var gr=null,ui=!1,Ji=!1;function xf(e){gr===null?gr=[e]:gr.push(e)}function xg(e){ui=!0,xf(e)}function cs(){if(!Ji&&gr!==null){Ji=!0;var e=0,t=je;try{var s=gr;for(je=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}gr=null,ui=!1}catch(n){throw gr!==null&&(gr=gr.slice(e+1)),Uh(Fc,cs),n}finally{je=t,Ji=!1}}return null}var qs=[],Ws=0,Mo=null,$o=0,$t=[],Dt=0,Ns=null,yr=1,vr="";function ms(e,t){qs[Ws++]=$o,qs[Ws++]=Mo,Mo=e,$o=t}function gf(e,t,s){$t[Dt++]=yr,$t[Dt++]=vr,$t[Dt++]=Ns,Ns=e;var a=yr;e=vr;var n=32-Kt(a)-1;a&=~(1<<n),s+=1;var o=32-Kt(t)+n;if(30<o){var i=n-n%5;o=(a&(1<<i)-1).toString(32),a>>=i,n-=i,yr=1<<32-Kt(t)+n|s<<n|a,vr=o+e}else yr=1<<o|s<<n|a,vr=e}function Qc(e){e.return!==null&&(ms(e,1),gf(e,1,0))}function Kc(e){for(;e===Mo;)Mo=qs[--Ws],qs[Ws]=null,$o=qs[--Ws],qs[Ws]=null;for(;e===Ns;)Ns=$t[--Dt],$t[Dt]=null,vr=$t[--Dt],$t[Dt]=null,yr=$t[--Dt],$t[Dt]=null}var Et=null,_t=null,Ie=!1,Gt=null;function yf(e,t){var s=Ot(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function _u(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,_t=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Ns!==null?{id:yr,overflow:vr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ot(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Et=e,_t=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vl(e){if(Ie){var t=_t;if(t){var s=t;if(!_u(e,t)){if(Fl(e))throw Error(F(418));t=Qr(s.nextSibling);var a=Et;t&&_u(e,t)?yf(a,s):(e.flags=e.flags&-4097|2,Ie=!1,Et=e)}}else{if(Fl(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ie=!1,Et=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function eo(e){if(e!==Et)return!1;if(!Ie)return Eu(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dl(e.type,e.memoizedProps)),t&&(t=_t)){if(Fl(e))throw vf(),Error(F(418));for(;t;)yf(e,t),t=Qr(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){_t=Qr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Et?Qr(e.stateNode.nextSibling):null;return!0}function vf(){for(var e=_t;e;)e=Qr(e.nextSibling)}function la(){_t=Et=null,Ie=!1}function Yc(e){Gt===null?Gt=[e]:Gt.push(e)}var gg=Er.ReactCurrentBatchConfig;function Pa(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(F(309));var a=s.stateNode}if(!a)throw Error(F(147,e));var n=a,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=n.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!s._owner)throw Error(F(290,e))}return e}function to(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Au(e){var t=e._init;return t(e._payload)}function bf(e){function t(f,u){if(e){var y=f.deletions;y===null?(f.deletions=[u],f.flags|=16):y.push(u)}}function s(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function a(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function n(f,u){return f=es(f,u),f.index=0,f.sibling=null,f}function o(f,u,y){return f.index=y,e?(y=f.alternate,y!==null?(y=y.index,y<u?(f.flags|=2,u):y):(f.flags|=2,u)):(f.flags|=1048576,u)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,u,y,v){return u===null||u.tag!==6?(u=rl(y,f.mode,v),u.return=f,u):(u=n(u,y),u.return=f,u)}function c(f,u,y,v){var S=y.type;return S===zs?m(f,u,y.props.children,v,y.key):u!==null&&(u.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$r&&Au(S)===u.type)?(v=n(u,y.props),v.ref=Pa(f,u,y),v.return=f,v):(v=jo(y.type,y.key,y.props,null,f.mode,v),v.ref=Pa(f,u,y),v.return=f,v)}function d(f,u,y,v){return u===null||u.tag!==4||u.stateNode.containerInfo!==y.containerInfo||u.stateNode.implementation!==y.implementation?(u=sl(y,f.mode,v),u.return=f,u):(u=n(u,y.children||[]),u.return=f,u)}function m(f,u,y,v,S){return u===null||u.tag!==7?(u=vs(y,f.mode,v,S),u.return=f,u):(u=n(u,y),u.return=f,u)}function h(f,u,y){if(typeof u=="string"&&u!==""||typeof u=="number")return u=rl(""+u,f.mode,y),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Hn:return y=jo(u.type,u.key,u.props,null,f.mode,y),y.ref=Pa(f,null,u),y.return=f,y;case Os:return u=sl(u,f.mode,y),u.return=f,u;case $r:var v=u._init;return h(f,v(u._payload),y)}if(Fa(u)||Sa(u))return u=vs(u,f.mode,y,null),u.return=f,u;to(f,u)}return null}function x(f,u,y,v){var S=u!==null?u.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(f,u,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hn:return y.key===S?c(f,u,y,v):null;case Os:return y.key===S?d(f,u,y,v):null;case $r:return S=y._init,x(f,u,S(y._payload),v)}if(Fa(y)||Sa(y))return S!==null?null:m(f,u,y,v,null);to(f,y)}return null}function N(f,u,y,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(y)||null,l(u,f,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hn:return f=f.get(v.key===null?y:v.key)||null,c(u,f,v,S);case Os:return f=f.get(v.key===null?y:v.key)||null,d(u,f,v,S);case $r:var A=v._init;return N(f,u,y,A(v._payload),S)}if(Fa(v)||Sa(v))return f=f.get(y)||null,m(u,f,v,S,null);to(u,v)}return null}function w(f,u,y,v){for(var S=null,A=null,T=u,p=u=0,k=null;T!==null&&p<y.length;p++){T.index>p?(k=T,T=null):k=T.sibling;var C=x(f,T,y[p],v);if(C===null){T===null&&(T=k);break}e&&T&&C.alternate===null&&t(f,T),u=o(C,u,p),A===null?S=C:A.sibling=C,A=C,T=k}if(p===y.length)return s(f,T),Ie&&ms(f,p),S;if(T===null){for(;p<y.length;p++)T=h(f,y[p],v),T!==null&&(u=o(T,u,p),A===null?S=T:A.sibling=T,A=T);return Ie&&ms(f,p),S}for(T=a(f,T);p<y.length;p++)k=N(T,f,p,y[p],v),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?p:k.key),u=o(k,u,p),A===null?S=k:A.sibling=k,A=k);return e&&T.forEach(function(_){return t(f,_)}),Ie&&ms(f,p),S}function j(f,u,y,v){var S=Sa(y);if(typeof S!="function")throw Error(F(150));if(y=S.call(y),y==null)throw Error(F(151));for(var A=S=null,T=u,p=u=0,k=null,C=y.next();T!==null&&!C.done;p++,C=y.next()){T.index>p?(k=T,T=null):k=T.sibling;var _=x(f,T,C.value,v);if(_===null){T===null&&(T=k);break}e&&T&&_.alternate===null&&t(f,T),u=o(_,u,p),A===null?S=_:A.sibling=_,A=_,T=k}if(C.done)return s(f,T),Ie&&ms(f,p),S;if(T===null){for(;!C.done;p++,C=y.next())C=h(f,C.value,v),C!==null&&(u=o(C,u,p),A===null?S=C:A.sibling=C,A=C);return Ie&&ms(f,p),S}for(T=a(f,T);!C.done;p++,C=y.next())C=N(T,f,p,C.value,v),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?p:C.key),u=o(C,u,p),A===null?S=C:A.sibling=C,A=C);return e&&T.forEach(function(I){return t(f,I)}),Ie&&ms(f,p),S}function b(f,u,y,v){if(typeof y=="object"&&y!==null&&y.type===zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Hn:e:{for(var S=y.key,A=u;A!==null;){if(A.key===S){if(S=y.type,S===zs){if(A.tag===7){s(f,A.sibling),u=n(A,y.props.children),u.return=f,f=u;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$r&&Au(S)===A.type){s(f,A.sibling),u=n(A,y.props),u.ref=Pa(f,A,y),u.return=f,f=u;break e}s(f,A);break}else t(f,A);A=A.sibling}y.type===zs?(u=vs(y.props.children,f.mode,v,y.key),u.return=f,f=u):(v=jo(y.type,y.key,y.props,null,f.mode,v),v.ref=Pa(f,u,y),v.return=f,f=v)}return i(f);case Os:e:{for(A=y.key;u!==null;){if(u.key===A)if(u.tag===4&&u.stateNode.containerInfo===y.containerInfo&&u.stateNode.implementation===y.implementation){s(f,u.sibling),u=n(u,y.children||[]),u.return=f,f=u;break e}else{s(f,u);break}else t(f,u);u=u.sibling}u=sl(y,f.mode,v),u.return=f,f=u}return i(f);case $r:return A=y._init,b(f,u,A(y._payload),v)}if(Fa(y))return w(f,u,y,v);if(Sa(y))return j(f,u,y,v);to(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,u!==null&&u.tag===6?(s(f,u.sibling),u=n(u,y),u.return=f,f=u):(s(f,u),u=rl(y,f.mode,v),u.return=f,f=u),i(f)):s(f,u)}return b}var ca=bf(!0),jf=bf(!1),Do=ls(null),Oo=null,Gs=null,Xc=null;function ed(){Xc=Gs=Oo=null}function td(e){var t=Do.current;Ae(Do),e._currentValue=t}function Bl(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function ea(e,t){Oo=e,Xc=Gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(Xc!==e)if(e={context:e,memoizedValue:t,next:null},Gs===null){if(Oo===null)throw Error(F(308));Gs=e,Oo.dependencies={lanes:0,firstContext:e}}else Gs=Gs.next=e;return t}var ps=null;function rd(e){ps===null?ps=[e]:ps.push(e)}function wf(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,rd(t)):(s.next=n.next,n.next=s),t.interleaved=s,Nr(e,a)}function Nr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Dr=!1;function sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,he&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Nr(e,s)}return n=a.interleaved,n===null?(t.next=t,rd(a)):(t.next=n.next,n.next=t),a.interleaved=t,Nr(e,s)}function po(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Vc(e,s)}}function Pu(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?n=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?n=o=t:o=o.next=t}else n=o=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function zo(e,t,s,a){var n=e.updateQueue;Dr=!1;var o=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==i&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(o!==null){var h=n.baseState;i=0,m=d=c=null,l=o;do{var x=l.lane,N=l.eventTime;if((a&x)===x){m!==null&&(m=m.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,j=l;switch(x=t,N=s,j.tag){case 1:if(w=j.payload,typeof w=="function"){h=w.call(N,h,x);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=j.payload,x=typeof w=="function"?w.call(N,h,x):w,x==null)break e;h=Me({},h,x);break e;case 2:Dr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[l]:x.push(l))}else N={eventTime:N,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=N,c=h):m=m.next=N,i|=x;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;x=l,l=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(m===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=m,t=n.shared.interleaved,t!==null){n=t;do i|=n.lane,n=n.next;while(n!==t)}else o===null&&(n.shared.lanes=0);Ss|=i,e.lanes=i,e.memoizedState=h}}function Iu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(F(191,n));n.call(a)}}}var Tn={},cr=ls(Tn),pn=ls(Tn),xn=ls(Tn);function xs(e){if(e===Tn)throw Error(F(174));return e}function ad(e,t){switch(Ce(xn,t),Ce(pn,e),Ce(cr,Tn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nl(t,e)}Ae(cr),Ce(cr,t)}function da(){Ae(cr),Ae(pn),Ae(xn)}function kf(e){xs(xn.current);var t=xs(cr.current),s=Nl(t,e.type);t!==s&&(Ce(pn,e),Ce(cr,s))}function nd(e){pn.current===e&&(Ae(cr),Ae(pn))}var Te=ls(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qi=[];function od(){for(var e=0;e<Qi.length;e++)Qi[e]._workInProgressVersionPrimary=null;Qi.length=0}var xo=Er.ReactCurrentDispatcher,Ki=Er.ReactCurrentBatchConfig,ks=0,Le=null,We=null,Je=null,Fo=!1,Ka=!1,gn=0,yg=0;function rt(){throw Error(F(321))}function id(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Xt(e[s],t[s]))return!1;return!0}function ld(e,t,s,a,n,o){if(ks=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xo.current=e===null||e.memoizedState===null?wg:Ng,e=s(a,n),Ka){o=0;do{if(Ka=!1,gn=0,25<=o)throw Error(F(301));o+=1,Je=We=null,t.updateQueue=null,xo.current=kg,e=s(a,n)}while(Ka)}if(xo.current=Vo,t=We!==null&&We.next!==null,ks=0,Je=We=Le=null,Fo=!1,t)throw Error(F(300));return e}function cd(){var e=gn!==0;return gn=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Le.memoizedState=Je=e:Je=Je.next=e,Je}function Ft(){if(We===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Je===null?Le.memoizedState:Je.next;if(t!==null)Je=t,We=e;else{if(e===null)throw Error(F(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?Le.memoizedState=Je=e:Je=Je.next=e}return Je}function yn(e,t){return typeof t=="function"?t(e):t}function Yi(e){var t=Ft(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var a=We,n=a.baseQueue,o=s.pending;if(o!==null){if(n!==null){var i=n.next;n.next=o.next,o.next=i}a.baseQueue=n=o,s.pending=null}if(n!==null){o=n.next,a=a.baseState;var l=i=null,c=null,d=o;do{var m=d.lane;if((ks&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=a):c=c.next=h,Le.lanes|=m,Ss|=m}d=d.next}while(d!==null&&d!==o);c===null?i=a:c.next=l,Xt(a,t.memoizedState)||(vt=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do o=n.lane,Le.lanes|=o,Ss|=o,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Xi(e){var t=Ft(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,o=t.memoizedState;if(n!==null){s.pending=null;var i=n=n.next;do o=e(o,i.action),i=i.next;while(i!==n);Xt(o,t.memoizedState)||(vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,a]}function Sf(){}function Cf(e,t){var s=Le,a=Ft(),n=t(),o=!Xt(a.memoizedState,n);if(o&&(a.memoizedState=n,vt=!0),a=a.queue,dd(Af.bind(null,s,a,e),[e]),a.getSnapshot!==t||o||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,vn(9,Ef.bind(null,s,a,n,t),void 0,null),Ke===null)throw Error(F(349));ks&30||_f(s,t,n)}return n}function _f(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ef(e,t,s,a){t.value=s,t.getSnapshot=a,Pf(t)&&If(e)}function Af(e,t,s){return s(function(){Pf(t)&&If(e)})}function Pf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Xt(e,s)}catch{return!0}}function If(e){var t=Nr(e,1);t!==null&&Yt(t,e,1,-1)}function Tu(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t.queue=e,e=e.dispatch=jg.bind(null,Le,e),[t.memoizedState,e]}function vn(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Tf(){return Ft().memoizedState}function go(e,t,s,a){var n=sr();Le.flags|=e,n.memoizedState=vn(1|t,s,void 0,a===void 0?null:a)}function mi(e,t,s,a){var n=Ft();a=a===void 0?null:a;var o=void 0;if(We!==null){var i=We.memoizedState;if(o=i.destroy,a!==null&&id(a,i.deps)){n.memoizedState=vn(t,s,o,a);return}}Le.flags|=e,n.memoizedState=vn(1|t,s,o,a)}function Ru(e,t){return go(8390656,8,e,t)}function dd(e,t){return mi(2048,8,e,t)}function Rf(e,t){return mi(4,2,e,t)}function Lf(e,t){return mi(4,4,e,t)}function Mf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $f(e,t,s){return s=s!=null?s.concat([e]):null,mi(4,4,Mf.bind(null,t,e),s)}function ud(){}function Df(e,t){var s=Ft();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&id(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Of(e,t){var s=Ft();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&id(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function zf(e,t,s){return ks&21?(Xt(s,t)||(s=Bh(),Le.lanes|=s,Ss|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=s)}function vg(e,t){var s=je;je=s!==0&&4>s?s:4,e(!0);var a=Ki.transition;Ki.transition={};try{e(!1),t()}finally{je=s,Ki.transition=a}}function Uf(){return Ft().memoizedState}function bg(e,t,s){var a=Xr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Ff(e))Vf(t,s);else if(s=wf(e,t,s,a),s!==null){var n=mt();Yt(s,e,a,n),Bf(s,t,a)}}function jg(e,t,s){var a=Xr(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ff(e))Vf(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(n.hasEagerState=!0,n.eagerState=l,Xt(l,i)){var c=t.interleaved;c===null?(n.next=n,rd(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=wf(e,t,n,a),s!==null&&(n=mt(),Yt(s,e,a,n),Bf(s,t,a))}}function Ff(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Vf(e,t){Ka=Fo=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Bf(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Vc(e,s)}}var Vo={readContext:Ut,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},wg={readContext:Ut,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Ru,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,go(4194308,4,Mf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var s=sr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=sr();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=bg.bind(null,Le,e),[a.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:Tu,useDebugValue:ud,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=Tu(!1),t=e[0];return e=vg.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Le,n=sr();if(Ie){if(s===void 0)throw Error(F(407));s=s()}else{if(s=t(),Ke===null)throw Error(F(349));ks&30||_f(a,t,s)}n.memoizedState=s;var o={value:s,getSnapshot:t};return n.queue=o,Ru(Af.bind(null,a,o,e),[e]),a.flags|=2048,vn(9,Ef.bind(null,a,o,s,t),void 0,null),s},useId:function(){var e=sr(),t=Ke.identifierPrefix;if(Ie){var s=vr,a=yr;s=(a&~(1<<32-Kt(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=gn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=yg++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ng={readContext:Ut,useCallback:Df,useContext:Ut,useEffect:dd,useImperativeHandle:$f,useInsertionEffect:Rf,useLayoutEffect:Lf,useMemo:Of,useReducer:Yi,useRef:Tf,useState:function(){return Yi(yn)},useDebugValue:ud,useDeferredValue:function(e){var t=Ft();return zf(t,We.memoizedState,e)},useTransition:function(){var e=Yi(yn)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:Cf,useId:Uf,unstable_isNewReconciler:!1},kg={readContext:Ut,useCallback:Df,useContext:Ut,useEffect:dd,useImperativeHandle:$f,useInsertionEffect:Rf,useLayoutEffect:Lf,useMemo:Of,useReducer:Xi,useRef:Tf,useState:function(){return Xi(yn)},useDebugValue:ud,useDeferredValue:function(e){var t=Ft();return We===null?t.memoizedState=e:zf(t,We.memoizedState,e)},useTransition:function(){var e=Xi(yn)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:Cf,useId:Uf,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Hl(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:Me({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var hi={isMounted:function(e){return(e=e._reactInternals)?Ps(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=mt(),n=Xr(e),o=br(a,n);o.payload=t,s!=null&&(o.callback=s),t=Kr(e,o,n),t!==null&&(Yt(t,e,n,a),po(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=mt(),n=Xr(e),o=br(a,n);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Kr(e,o,n),t!==null&&(Yt(t,e,n,a),po(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=mt(),a=Xr(e),n=br(s,a);n.tag=2,t!=null&&(n.callback=t),t=Kr(e,n,a),t!==null&&(Yt(t,e,a,s),po(t,e,a))}};function Lu(e,t,s,a,n,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,i):t.prototype&&t.prototype.isPureReactComponent?!un(s,a)||!un(n,o):!0}function Hf(e,t,s){var a=!1,n=as,o=t.contextType;return typeof o=="object"&&o!==null?o=Ut(o):(n=wt(t)?ws:lt.current,a=t.contextTypes,o=(a=a!=null)?ia(e,n):as),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mu(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function ql(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},sd(e);var o=t.contextType;typeof o=="object"&&o!==null?n.context=Ut(o):(o=wt(t)?ws:lt.current,n.context=ia(e,o)),n.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Hl(e,t,o,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&hi.enqueueReplaceState(n,n.state,null),zo(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ua(e,t){try{var s="",a=t;do s+=Yx(a),a=a.return;while(a);var n=s}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:n,digest:null}}function el(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Sg=typeof WeakMap=="function"?WeakMap:Map;function qf(e,t,s){s=br(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Ho||(Ho=!0,rc=a),Wl(e,t)},s}function Wf(e,t,s){s=br(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){Wl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){Wl(e,t),typeof a!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function $u(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Sg;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=zg.bind(null,e,t,s),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ou(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=br(-1,1),t.tag=2,Kr(s,t,1))),s.lanes|=1),e)}var Cg=Er.ReactCurrentOwner,vt=!1;function ut(e,t,s,a){t.child=e===null?jf(t,null,s,a):ca(t,e.child,s,a)}function zu(e,t,s,a,n){s=s.render;var o=t.ref;return ea(t,n),a=ld(e,t,s,a,o,n),s=cd(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,kr(e,t,n)):(Ie&&s&&Qc(t),t.flags|=1,ut(e,t,a,n),t.child)}function Uu(e,t,s,a,n){if(e===null){var o=s.type;return typeof o=="function"&&!vd(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,Gf(e,t,o,a,n)):(e=jo(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&n)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:un,s(i,a)&&e.ref===t.ref)return kr(e,t,n)}return t.flags|=1,e=es(o,a),e.ref=t.ref,e.return=t,t.child=e}function Gf(e,t,s,a,n){if(e!==null){var o=e.memoizedProps;if(un(o,a)&&e.ref===t.ref)if(vt=!1,t.pendingProps=a=o,(e.lanes&n)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,kr(e,t,n)}return Gl(e,t,s,a,n)}function Zf(e,t,s){var a=t.pendingProps,n=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Js,St),St|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Js,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:s,Ce(Js,St),St|=a}else o!==null?(a=o.baseLanes|s,t.memoizedState=null):a=s,Ce(Js,St),St|=a;return ut(e,t,n,s),t.child}function Jf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Gl(e,t,s,a,n){var o=wt(s)?ws:lt.current;return o=ia(t,o),ea(t,n),s=ld(e,t,s,a,o,n),a=cd(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,kr(e,t,n)):(Ie&&a&&Qc(t),t.flags|=1,ut(e,t,s,n),t.child)}function Fu(e,t,s,a,n){if(wt(s)){var o=!0;Lo(t)}else o=!1;if(ea(t,n),t.stateNode===null)yo(e,t),Hf(t,s,a),ql(t,s,a,n),a=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=Ut(d):(d=wt(s)?ws:lt.current,d=ia(t,d));var m=s.getDerivedStateFromProps,h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==a||c!==d)&&Mu(t,i,a,d),Dr=!1;var x=t.memoizedState;i.state=x,zo(t,a,i,n),c=t.memoizedState,l!==a||x!==c||jt.current||Dr?(typeof m=="function"&&(Hl(t,s,m,a),c=t.memoizedState),(l=Dr||Lu(t,s,l,a,x,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),i.props=a,i.state=c,i.context=d,a=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Nf(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:qt(t.type,l),i.props=d,h=t.pendingProps,x=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=wt(s)?ws:lt.current,c=ia(t,c));var N=s.getDerivedStateFromProps;(m=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||x!==c)&&Mu(t,i,a,c),Dr=!1,x=t.memoizedState,i.state=x,zo(t,a,i,n);var w=t.memoizedState;l!==h||x!==w||jt.current||Dr?(typeof N=="function"&&(Hl(t,s,N,a),w=t.memoizedState),(d=Dr||Lu(t,s,d,a,x,w,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=w),i.props=a,i.state=w,i.context=c,a=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),a=!1)}return Zl(e,t,s,a,o,n)}function Zl(e,t,s,a,n,o){Jf(e,t);var i=(t.flags&128)!==0;if(!a&&!i)return n&&Cu(t,s,!1),kr(e,t,o);a=t.stateNode,Cg.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&i?(t.child=ca(t,e.child,null,o),t.child=ca(t,null,l,o)):ut(e,t,l,o),t.memoizedState=a.state,n&&Cu(t,s,!0),t.child}function Qf(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),ad(e,t.containerInfo)}function Vu(e,t,s,a,n){return la(),Yc(n),t.flags|=256,ut(e,t,s,a),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kf(e,t,s){var a=t.pendingProps,n=Te.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ce(Te,n&1),e===null)return Vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=a.children,e=a.fallback,o?(a=t.mode,o=t.child,i={mode:"hidden",children:i},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=xi(i,a,0,null),e=vs(e,a,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ql(s),t.memoizedState=Jl,e):md(t,i));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return _g(e,t,i,a,l,n,s);if(o){o=a.fallback,i=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=es(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?o=es(l,o):(o=vs(o,i,s,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,i=e.child.memoizedState,i=i===null?Ql(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=Jl,a}return o=e.child,e=o.sibling,a=es(o,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function md(e,t){return t=xi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ro(e,t,s,a){return a!==null&&Yc(a),ca(t,e.child,null,s),e=md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _g(e,t,s,a,n,o,i){if(s)return t.flags&256?(t.flags&=-257,a=el(Error(F(422))),ro(e,t,i,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=a.fallback,n=t.mode,a=xi({mode:"visible",children:a.children},n,0,null),o=vs(o,n,i,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,t.mode&1&&ca(t,e.child,null,i),t.child.memoizedState=Ql(i),t.memoizedState=Jl,o);if(!(t.mode&1))return ro(e,t,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,o=Error(F(419)),a=el(o,a,void 0),ro(e,t,i,a)}if(l=(i&e.childLanes)!==0,vt||l){if(a=Ke,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,Nr(e,n),Yt(a,e,n,-1))}return yd(),a=el(Error(F(421))),ro(e,t,i,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Ug.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,_t=Qr(n.nextSibling),Et=t,Ie=!0,Gt=null,e!==null&&($t[Dt++]=yr,$t[Dt++]=vr,$t[Dt++]=Ns,yr=e.id,vr=e.overflow,Ns=t),t=md(t,a.children),t.flags|=4096,t)}function Bu(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Bl(e.return,t,s)}function tl(e,t,s,a,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=s,o.tailMode=n)}function Yf(e,t,s){var a=t.pendingProps,n=a.revealOrder,o=a.tail;if(ut(e,t,a.children,s),a=Te.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bu(e,s,t);else if(e.tag===19)Bu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ce(Te,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Uo(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),tl(t,!1,n,s,o);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Uo(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}tl(t,!0,s,null,o);break;case"together":tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ss|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,s=es(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=es(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Eg(e,t,s){switch(t.tag){case 3:Qf(t),la();break;case 5:kf(t);break;case 1:wt(t.type)&&Lo(t);break;case 4:ad(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Ce(Do,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ce(Te,Te.current&1),t.flags|=128,null):s&t.child.childLanes?Kf(e,t,s):(Ce(Te,Te.current&1),e=kr(e,t,s),e!==null?e.sibling:null);Ce(Te,Te.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return Yf(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ce(Te,Te.current),a)break;return null;case 22:case 23:return t.lanes=0,Zf(e,t,s)}return kr(e,t,s)}var Xf,Kl,ep,tp;Xf=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Kl=function(){};ep=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,xs(cr.current);var o=null;switch(s){case"input":n=vl(e,n),a=vl(e,a),o=[];break;case"select":n=Me({},n,{value:void 0}),a=Me({},a,{value:void 0}),o=[];break;case"textarea":n=wl(e,n),a=wl(e,a),o=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=To)}kl(s,a);var i;s=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sn.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in a){var c=a[d];if(l=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(sn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}s&&(o=o||[]).push("style",s);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};tp=function(e,t,s,a){s!==a&&(t.flags|=4)};function Ia(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Ag(e,t,s){var a=t.pendingProps;switch(Kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return wt(t.type)&&Ro(),st(t),null;case 3:return a=t.stateNode,da(),Ae(jt),Ae(lt),od(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(eo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(nc(Gt),Gt=null))),Kl(e,t),st(t),null;case 5:nd(t);var n=xs(xn.current);if(s=t.type,e!==null&&t.stateNode!=null)ep(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(F(166));return st(t),null}if(e=xs(cr.current),eo(t)){a=t.stateNode,s=t.type;var o=t.memoizedProps;switch(a[nr]=t,a[fn]=o,e=(t.mode&1)!==0,s){case"dialog":Ee("cancel",a),Ee("close",a);break;case"iframe":case"object":case"embed":Ee("load",a);break;case"video":case"audio":for(n=0;n<Ba.length;n++)Ee(Ba[n],a);break;case"source":Ee("error",a);break;case"img":case"image":case"link":Ee("error",a),Ee("load",a);break;case"details":Ee("toggle",a);break;case"input":Yd(a,o),Ee("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",a);break;case"textarea":eu(a,o),Ee("invalid",a)}kl(s,o),n=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?a.textContent!==l&&(o.suppressHydrationWarning!==!0&&Xn(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Xn(a.textContent,l,e),n=["children",""+l]):sn.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ee("scroll",a)}switch(s){case"input":qn(a),Xd(a,o,!0);break;case"textarea":qn(a),tu(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=To)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Eh(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(s,{is:a.is}):(e=i.createElement(s),s==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,s),e[nr]=t,e[fn]=a,Xf(e,t,!1,!1),t.stateNode=e;e:{switch(i=Sl(s,a),s){case"dialog":Ee("cancel",e),Ee("close",e),n=a;break;case"iframe":case"object":case"embed":Ee("load",e),n=a;break;case"video":case"audio":for(n=0;n<Ba.length;n++)Ee(Ba[n],e);n=a;break;case"source":Ee("error",e),n=a;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),n=a;break;case"details":Ee("toggle",e),n=a;break;case"input":Yd(e,a),n=vl(e,a),Ee("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Me({},a,{value:void 0}),Ee("invalid",e);break;case"textarea":eu(e,a),n=wl(e,a),Ee("invalid",e);break;default:n=a}kl(s,n),l=n;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Ih(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ah(e,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&an(e,c):typeof c=="number"&&an(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sn.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ee("scroll",e):c!=null&&$c(e,o,c,i))}switch(s){case"input":qn(e),Xd(e,a,!1);break;case"textarea":qn(e),tu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ss(a.value));break;case"select":e.multiple=!!a.multiple,o=a.value,o!=null?Qs(e,!!a.multiple,o,!1):a.defaultValue!=null&&Qs(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=To)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)tp(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(F(166));if(s=xs(xn.current),xs(cr.current),eo(t)){if(a=t.stateNode,s=t.memoizedProps,a[nr]=t,(o=a.nodeValue!==s)&&(e=Et,e!==null))switch(e.tag){case 3:Xn(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xn(a.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[nr]=t,t.stateNode=a}return st(t),null;case 13:if(Ae(Te),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&_t!==null&&t.mode&1&&!(t.flags&128))vf(),la(),t.flags|=98560,o=!1;else if(o=eo(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[nr]=t}else la(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),o=!1}else Gt!==null&&(nc(Gt),Gt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ge===0&&(Ge=3):yd())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return da(),Kl(e,t),e===null&&mn(t.stateNode.containerInfo),st(t),null;case 10:return td(t.type._context),st(t),null;case 17:return wt(t.type)&&Ro(),st(t),null;case 19:if(Ae(Te),o=t.memoizedState,o===null)return st(t),null;if(a=(t.flags&128)!==0,i=o.rendering,i===null)if(a)Ia(o,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Uo(e),i!==null){for(t.flags|=128,Ia(o,!1),a=i.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)o=s,e=a,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ce(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>ma&&(t.flags|=128,a=!0,Ia(o,!1),t.lanes=4194304)}else{if(!a)if(e=Uo(i),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ie)return st(t),null}else 2*ze()-o.renderingStartTime>ma&&s!==1073741824&&(t.flags|=128,a=!0,Ia(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,s=Te.current,Ce(Te,a?s&1|2:s&1),t):(st(t),null);case 22:case 23:return gd(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?St&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Pg(e,t){switch(Kc(t),t.tag){case 1:return wt(t.type)&&Ro(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(),Ae(jt),Ae(lt),od(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nd(t),null;case 13:if(Ae(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Te),null;case 4:return da(),null;case 10:return td(t.type._context),null;case 22:case 23:return gd(),null;case 24:return null;default:return null}}var so=!1,nt=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Zs(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){De(e,t,a)}else s.current=null}function Yl(e,t,s){try{s()}catch(a){De(e,t,a)}}var Hu=!1;function Tg(e,t){if(Ml=Ao,e=nf(),Jc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,c=-1,d=0,m=0,h=e,x=null;t:for(;;){for(var N;h!==s||n!==0&&h.nodeType!==3||(l=i+n),h!==o||a!==0&&h.nodeType!==3||(c=i+a),h.nodeType===3&&(i+=h.nodeValue.length),(N=h.firstChild)!==null;)x=h,h=N;for(;;){if(h===e)break t;if(x===s&&++d===n&&(l=i),x===o&&++m===a&&(c=i),(N=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=N}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for($l={focusedElem:e,selectionRange:s},Ao=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var j=w.memoizedProps,b=w.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?j:qt(t.type,j),b);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(v){De(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return w=Hu,Hu=!1,w}function Ya(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,o!==void 0&&Yl(t,s,o)}n=n.next}while(n!==a)}}function fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function Xl(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function rp(e){var t=e.alternate;t!==null&&(e.alternate=null,rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[fn],delete t[zl],delete t[fg],delete t[pg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sp(e){return e.tag===5||e.tag===3||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=To));else if(a!==4&&(e=e.child,e!==null))for(ec(e,t,s),e=e.sibling;e!==null;)ec(e,t,s),e=e.sibling}function tc(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(tc(e,t,s),e=e.sibling;e!==null;)tc(e,t,s),e=e.sibling}var Xe=null,Wt=!1;function Ir(e,t,s){for(s=s.child;s!==null;)ap(e,t,s),s=s.sibling}function ap(e,t,s){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(oi,s)}catch{}switch(s.tag){case 5:nt||Zs(s,t);case 6:var a=Xe,n=Wt;Xe=null,Ir(e,t,s),Xe=a,Wt=n,Xe!==null&&(Wt?(e=Xe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Xe.removeChild(s.stateNode));break;case 18:Xe!==null&&(Wt?(e=Xe,s=s.stateNode,e.nodeType===8?Zi(e.parentNode,s):e.nodeType===1&&Zi(e,s),cn(e)):Zi(Xe,s.stateNode));break;case 4:a=Xe,n=Wt,Xe=s.stateNode.containerInfo,Wt=!0,Ir(e,t,s),Xe=a,Wt=n;break;case 0:case 11:case 14:case 15:if(!nt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var o=n,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Yl(s,t,i),n=n.next}while(n!==a)}Ir(e,t,s);break;case 1:if(!nt&&(Zs(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(l){De(s,t,l)}Ir(e,t,s);break;case 21:Ir(e,t,s);break;case 22:s.mode&1?(nt=(a=nt)||s.memoizedState!==null,Ir(e,t,s),nt=a):Ir(e,t,s);break;default:Ir(e,t,s)}}function Wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ig),t.forEach(function(a){var n=Fg.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function Bt(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Wt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Wt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(Xe===null)throw Error(F(160));ap(o,i,n),Xe=null,Wt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){De(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)np(t,e),t=t.sibling}function np(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),tr(e),a&4){try{Ya(3,e,e.return),fi(3,e)}catch(j){De(e,e.return,j)}try{Ya(5,e,e.return)}catch(j){De(e,e.return,j)}}break;case 1:Bt(t,e),tr(e),a&512&&s!==null&&Zs(s,s.return);break;case 5:if(Bt(t,e),tr(e),a&512&&s!==null&&Zs(s,s.return),e.flags&32){var n=e.stateNode;try{an(n,"")}catch(j){De(e,e.return,j)}}if(a&4&&(n=e.stateNode,n!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ch(n,o),Sl(l,i);var d=Sl(l,o);for(i=0;i<c.length;i+=2){var m=c[i],h=c[i+1];m==="style"?Ih(n,h):m==="dangerouslySetInnerHTML"?Ah(n,h):m==="children"?an(n,h):$c(n,m,h,d)}switch(l){case"input":bl(n,o);break;case"textarea":_h(n,o);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var N=o.value;N!=null?Qs(n,!!o.multiple,N,!1):x!==!!o.multiple&&(o.defaultValue!=null?Qs(n,!!o.multiple,o.defaultValue,!0):Qs(n,!!o.multiple,o.multiple?[]:"",!1))}n[fn]=o}catch(j){De(e,e.return,j)}}break;case 6:if(Bt(t,e),tr(e),a&4){if(e.stateNode===null)throw Error(F(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(j){De(e,e.return,j)}}break;case 3:if(Bt(t,e),tr(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{cn(t.containerInfo)}catch(j){De(e,e.return,j)}break;case 4:Bt(t,e),tr(e);break;case 13:Bt(t,e),tr(e),n=e.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(pd=ze())),a&4&&Wu(e);break;case 22:if(m=s!==null&&s.memoizedState!==null,e.mode&1?(nt=(d=nt)||m,Bt(t,e),nt=d):Bt(t,e),tr(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(ee=e,m=e.child;m!==null;){for(h=ee=m;ee!==null;){switch(x=ee,N=x.child,x.tag){case 0:case 11:case 14:case 15:Ya(4,x,x.return);break;case 1:Zs(x,x.return);var w=x.stateNode;if(typeof w.componentWillUnmount=="function"){a=x,s=x.return;try{t=a,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(j){De(a,s,j)}}break;case 5:Zs(x,x.return);break;case 22:if(x.memoizedState!==null){Zu(h);continue}}N!==null?(N.return=x,ee=N):Zu(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{n=h.stateNode,d?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ph("display",i))}catch(j){De(e,e.return,j)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){De(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bt(t,e),tr(e),a&4&&Wu(e);break;case 21:break;default:Bt(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(sp(s)){var a=s;break e}s=s.return}throw Error(F(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(an(n,""),a.flags&=-33);var o=qu(e);tc(e,o,n);break;case 3:case 4:var i=a.stateNode.containerInfo,l=qu(e);ec(e,l,i);break;default:throw Error(F(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rg(e,t,s){ee=e,op(e)}function op(e,t,s){for(var a=(e.mode&1)!==0;ee!==null;){var n=ee,o=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||so;if(!i){var l=n.alternate,c=l!==null&&l.memoizedState!==null||nt;l=so;var d=nt;if(so=i,(nt=c)&&!d)for(ee=n;ee!==null;)i=ee,c=i.child,i.tag===22&&i.memoizedState!==null?Ju(n):c!==null?(c.return=i,ee=c):Ju(n);for(;o!==null;)ee=o,op(o),o=o.sibling;ee=n,so=l,nt=d}Gu(e)}else n.subtreeFlags&8772&&o!==null?(o.return=n,ee=o):Gu(e)}}function Gu(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||fi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!nt)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:qt(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Iu(t,o,a);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Iu(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&cn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}nt||t.flags&512&&Xl(t)}catch(x){De(t,t.return,x)}}if(t===e){ee=null;break}if(s=t.sibling,s!==null){s.return=t.return,ee=s;break}ee=t.return}}function Zu(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}function Ju(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{fi(4,t)}catch(c){De(t,s,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){De(t,n,c)}}var o=t.return;try{Xl(t)}catch(c){De(t,o,c)}break;case 5:var i=t.return;try{Xl(t)}catch(c){De(t,i,c)}}}catch(c){De(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var Lg=Math.ceil,Bo=Er.ReactCurrentDispatcher,hd=Er.ReactCurrentOwner,zt=Er.ReactCurrentBatchConfig,he=0,Ke=null,Be=null,et=0,St=0,Js=ls(0),Ge=0,bn=null,Ss=0,pi=0,fd=0,Xa=null,yt=null,pd=0,ma=1/0,xr=null,Ho=!1,rc=null,Yr=null,ao=!1,Br=null,qo=0,en=0,sc=null,vo=-1,bo=0;function mt(){return he&6?ze():vo!==-1?vo:vo=ze()}function Xr(e){return e.mode&1?he&2&&et!==0?et&-et:gg.transition!==null?(bo===0&&(bo=Bh()),bo):(e=je,e!==0||(e=window.event,e=e===void 0?16:Qh(e.type)),e):1}function Yt(e,t,s,a){if(50<en)throw en=0,sc=null,Error(F(185));An(e,s,a),(!(he&2)||e!==Ke)&&(e===Ke&&(!(he&2)&&(pi|=s),Ge===4&&Ur(e,et)),Nt(e,a),s===1&&he===0&&!(t.mode&1)&&(ma=ze()+500,ui&&cs()))}function Nt(e,t){var s=e.callbackNode;g0(e,t);var a=Eo(e,e===Ke?et:0);if(a===0)s!==null&&au(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&au(s),t===1)e.tag===0?xg(Qu.bind(null,e)):xf(Qu.bind(null,e)),mg(function(){!(he&6)&&cs()}),s=null;else{switch(Hh(a)){case 1:s=Fc;break;case 4:s=Fh;break;case 16:s=_o;break;case 536870912:s=Vh;break;default:s=_o}s=fp(s,ip.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ip(e,t){if(vo=-1,bo=0,he&6)throw Error(F(327));var s=e.callbackNode;if(ta()&&e.callbackNode!==s)return null;var a=Eo(e,e===Ke?et:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Wo(e,a);else{t=a;var n=he;he|=2;var o=cp();(Ke!==e||et!==t)&&(xr=null,ma=ze()+500,ys(e,t));do try{Dg();break}catch(l){lp(e,l)}while(!0);ed(),Bo.current=o,he=n,Be!==null?t=0:(Ke=null,et=0,t=Ge)}if(t!==0){if(t===2&&(n=Pl(e),n!==0&&(a=n,t=ac(e,n))),t===1)throw s=bn,ys(e,0),Ur(e,a),Nt(e,ze()),s;if(t===6)Ur(e,a);else{if(n=e.current.alternate,!(a&30)&&!Mg(n)&&(t=Wo(e,a),t===2&&(o=Pl(e),o!==0&&(a=o,t=ac(e,o))),t===1))throw s=bn,ys(e,0),Ur(e,a),Nt(e,ze()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(F(345));case 2:hs(e,yt,xr);break;case 3:if(Ur(e,a),(a&130023424)===a&&(t=pd+500-ze(),10<t)){if(Eo(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){mt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Ol(hs.bind(null,e,yt,xr),t);break}hs(e,yt,xr);break;case 4:if(Ur(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var i=31-Kt(a);o=1<<i,i=t[i],i>n&&(n=i),a&=~o}if(a=n,a=ze()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Lg(a/1960))-a,10<a){e.timeoutHandle=Ol(hs.bind(null,e,yt,xr),a);break}hs(e,yt,xr);break;case 5:hs(e,yt,xr);break;default:throw Error(F(329))}}}return Nt(e,ze()),e.callbackNode===s?ip.bind(null,e):null}function ac(e,t){var s=Xa;return e.current.memoizedState.isDehydrated&&(ys(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=yt,yt=s,t!==null&&nc(t)),e}function nc(e){yt===null?yt=e:yt.push.apply(yt,e)}function Mg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],o=n.getSnapshot;n=n.value;try{if(!Xt(o(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~fd,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Kt(t),a=1<<s;e[s]=-1,t&=~a}}function Qu(e){if(he&6)throw Error(F(327));ta();var t=Eo(e,0);if(!(t&1))return Nt(e,ze()),null;var s=Wo(e,t);if(e.tag!==0&&s===2){var a=Pl(e);a!==0&&(t=a,s=ac(e,a))}if(s===1)throw s=bn,ys(e,0),Ur(e,t),Nt(e,ze()),s;if(s===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,yt,xr),Nt(e,ze()),null}function xd(e,t){var s=he;he|=1;try{return e(t)}finally{he=s,he===0&&(ma=ze()+500,ui&&cs())}}function Cs(e){Br!==null&&Br.tag===0&&!(he&6)&&ta();var t=he;he|=1;var s=zt.transition,a=je;try{if(zt.transition=null,je=1,e)return e()}finally{je=a,zt.transition=s,he=t,!(he&6)&&cs()}}function gd(){St=Js.current,Ae(Js)}function ys(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ug(s)),Be!==null)for(s=Be.return;s!==null;){var a=s;switch(Kc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ro();break;case 3:da(),Ae(jt),Ae(lt),od();break;case 5:nd(a);break;case 4:da();break;case 13:Ae(Te);break;case 19:Ae(Te);break;case 10:td(a.type._context);break;case 22:case 23:gd()}s=s.return}if(Ke=e,Be=e=es(e.current,null),et=St=t,Ge=0,bn=null,fd=pi=Ss=0,yt=Xa=null,ps!==null){for(t=0;t<ps.length;t++)if(s=ps[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,o=s.pending;if(o!==null){var i=o.next;o.next=n,a.next=i}s.pending=a}ps=null}return e}function lp(e,t){do{var s=Be;try{if(ed(),xo.current=Vo,Fo){for(var a=Le.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Fo=!1}if(ks=0,Je=We=Le=null,Ka=!1,gn=0,hd.current=null,s===null||s.return===null){Ge=1,bn=t,Be=null;break}e:{var o=e,i=s.return,l=s,c=t;if(t=et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var N=Du(i);if(N!==null){N.flags&=-257,Ou(N,i,l,o,t),N.mode&1&&$u(o,d,t),t=N,c=d;var w=t.updateQueue;if(w===null){var j=new Set;j.add(c),t.updateQueue=j}else w.add(c);break e}else{if(!(t&1)){$u(o,d,t),yd();break e}c=Error(F(426))}}else if(Ie&&l.mode&1){var b=Du(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ou(b,i,l,o,t),Yc(ua(c,l));break e}}o=c=ua(c,l),Ge!==4&&(Ge=2),Xa===null?Xa=[o]:Xa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=qf(o,c,t);Pu(o,f);break e;case 1:l=c;var u=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof u.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yr===null||!Yr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var v=Wf(o,l,t);Pu(o,v);break e}}o=o.return}while(o!==null)}up(s)}catch(S){t=S,Be===s&&s!==null&&(Be=s=s.return);continue}break}while(!0)}function cp(){var e=Bo.current;return Bo.current=Vo,e===null?Vo:e}function yd(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ke===null||!(Ss&268435455)&&!(pi&268435455)||Ur(Ke,et)}function Wo(e,t){var s=he;he|=2;var a=cp();(Ke!==e||et!==t)&&(xr=null,ys(e,t));do try{$g();break}catch(n){lp(e,n)}while(!0);if(ed(),he=s,Bo.current=a,Be!==null)throw Error(F(261));return Ke=null,et=0,Ge}function $g(){for(;Be!==null;)dp(Be)}function Dg(){for(;Be!==null&&!l0();)dp(Be)}function dp(e){var t=hp(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?up(e):Be=t,hd.current=null}function up(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Pg(s,t),s!==null){s.flags&=32767,Be=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Be=null;return}}else if(s=Ag(s,t,St),s!==null){Be=s;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ge===0&&(Ge=5)}function hs(e,t,s){var a=je,n=zt.transition;try{zt.transition=null,je=1,Og(e,t,s,a)}finally{zt.transition=n,je=a}return null}function Og(e,t,s,a){do ta();while(Br!==null);if(he&6)throw Error(F(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(y0(e,o),e===Ke&&(Be=Ke=null,et=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ao||(ao=!0,fp(_o,function(){return ta(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var i=je;je=1;var l=he;he|=4,hd.current=null,Tg(e,s),np(s,e),ag($l),Ao=!!Ml,$l=Ml=null,e.current=s,Rg(s),c0(),he=l,je=i,zt.transition=o}else e.current=s;if(ao&&(ao=!1,Br=e,qo=n),o=e.pendingLanes,o===0&&(Yr=null),m0(s.stateNode),Nt(e,ze()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Ho)throw Ho=!1,e=rc,rc=null,e;return qo&1&&e.tag!==0&&ta(),o=e.pendingLanes,o&1?e===sc?en++:(en=0,sc=e):en=0,cs(),null}function ta(){if(Br!==null){var e=Hh(qo),t=zt.transition,s=je;try{if(zt.transition=null,je=16>e?16:e,Br===null)var a=!1;else{if(e=Br,Br=null,qo=0,he&6)throw Error(F(331));var n=he;for(he|=4,ee=e.current;ee!==null;){var o=ee,i=o.child;if(ee.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ee=d;ee!==null;){var m=ee;switch(m.tag){case 0:case 11:case 15:Ya(8,m,o)}var h=m.child;if(h!==null)h.return=m,ee=h;else for(;ee!==null;){m=ee;var x=m.sibling,N=m.return;if(rp(m),m===d){ee=null;break}if(x!==null){x.return=N,ee=x;break}ee=N}}}var w=o.alternate;if(w!==null){var j=w.child;if(j!==null){w.child=null;do{var b=j.sibling;j.sibling=null,j=b}while(j!==null)}}ee=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ee=i;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ya(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,ee=f;break e}ee=o.return}}var u=e.current;for(ee=u;ee!==null;){i=ee;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ee=y;else e:for(i=u;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fi(9,l)}}catch(S){De(l,l.return,S)}if(l===i){ee=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,ee=v;break e}ee=l.return}}if(he=n,cs(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(oi,e)}catch{}a=!0}return a}finally{je=s,zt.transition=t}}return!1}function Ku(e,t,s){t=ua(s,t),t=qf(e,t,1),e=Kr(e,t,1),t=mt(),e!==null&&(An(e,1,t),Nt(e,t))}function De(e,t,s){if(e.tag===3)Ku(e,e,s);else for(;t!==null;){if(t.tag===3){Ku(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yr===null||!Yr.has(a))){e=ua(s,e),e=Wf(t,e,1),t=Kr(t,e,1),e=mt(),t!==null&&(An(t,1,e),Nt(t,e));break}}t=t.return}}function zg(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&s,Ke===e&&(et&s)===s&&(Ge===4||Ge===3&&(et&130023424)===et&&500>ze()-pd?ys(e,0):fd|=s),Nt(e,t)}function mp(e,t){t===0&&(e.mode&1?(t=Zn,Zn<<=1,!(Zn&130023424)&&(Zn=4194304)):t=1);var s=mt();e=Nr(e,t),e!==null&&(An(e,t,s),Nt(e,s))}function Ug(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),mp(e,s)}function Fg(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(F(314))}a!==null&&a.delete(t),mp(e,s)}var hp;hp=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)vt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return vt=!1,Eg(e,t,s);vt=!!(e.flags&131072)}else vt=!1,Ie&&t.flags&1048576&&gf(t,$o,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;yo(e,t),e=t.pendingProps;var n=ia(t,lt.current);ea(t,s),n=ld(null,t,a,e,n,s);var o=cd();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(a)?(o=!0,Lo(t)):o=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,sd(t),n.updater=hi,t.stateNode=n,n._reactInternals=t,ql(t,a,e,s),t=Zl(null,t,a,!0,o,s)):(t.tag=0,Ie&&o&&Qc(t),ut(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(yo(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=Bg(a),e=qt(a,e),n){case 0:t=Gl(null,t,a,e,s);break e;case 1:t=Fu(null,t,a,e,s);break e;case 11:t=zu(null,t,a,e,s);break e;case 14:t=Uu(null,t,a,qt(a.type,e),s);break e}throw Error(F(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:qt(a,n),Gl(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:qt(a,n),Fu(e,t,a,n,s);case 3:e:{if(Qf(t),e===null)throw Error(F(387));a=t.pendingProps,o=t.memoizedState,n=o.element,Nf(e,t),zo(t,a,null,s);var i=t.memoizedState;if(a=i.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){n=ua(Error(F(423)),t),t=Vu(e,t,a,s,n);break e}else if(a!==n){n=ua(Error(F(424)),t),t=Vu(e,t,a,s,n);break e}else for(_t=Qr(t.stateNode.containerInfo.firstChild),Et=t,Ie=!0,Gt=null,s=jf(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(la(),a===n){t=kr(e,t,s);break e}ut(e,t,a,s)}t=t.child}return t;case 5:return kf(t),e===null&&Vl(t),a=t.type,n=t.pendingProps,o=e!==null?e.memoizedProps:null,i=n.children,Dl(a,n)?i=null:o!==null&&Dl(a,o)&&(t.flags|=32),Jf(e,t),ut(e,t,i,s),t.child;case 6:return e===null&&Vl(t),null;case 13:return Kf(e,t,s);case 4:return ad(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ca(t,null,a,s):ut(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:qt(a,n),zu(e,t,a,n,s);case 7:return ut(e,t,t.pendingProps,s),t.child;case 8:return ut(e,t,t.pendingProps.children,s),t.child;case 12:return ut(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,o=t.memoizedProps,i=n.value,Ce(Do,a._currentValue),a._currentValue=i,o!==null)if(Xt(o.value,i)){if(o.children===n.children&&!jt.current){t=kr(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(o.tag===1){c=br(-1,s&-s),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),Bl(o.return,s,t),l.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),Bl(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ut(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,ea(t,s),n=Ut(n),a=a(n),t.flags|=1,ut(e,t,a,s),t.child;case 14:return a=t.type,n=qt(a,t.pendingProps),n=qt(a.type,n),Uu(e,t,a,n,s);case 15:return Gf(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:qt(a,n),yo(e,t),t.tag=1,wt(a)?(e=!0,Lo(t)):e=!1,ea(t,s),Hf(t,a,n),ql(t,a,n,s),Zl(null,t,a,!0,e,s);case 19:return Yf(e,t,s);case 22:return Zf(e,t,s)}throw Error(F(156,t.tag))};function fp(e,t){return Uh(e,t)}function Vg(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,s,a){return new Vg(e,t,s,a)}function vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bg(e){if(typeof e=="function")return vd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oc)return 11;if(e===zc)return 14}return 2}function es(e,t){var s=e.alternate;return s===null?(s=Ot(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function jo(e,t,s,a,n,o){var i=2;if(a=e,typeof e=="function")vd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zs:return vs(s.children,n,o,t);case Dc:i=8,n|=8;break;case pl:return e=Ot(12,s,t,n|2),e.elementType=pl,e.lanes=o,e;case xl:return e=Ot(13,s,t,n),e.elementType=xl,e.lanes=o,e;case gl:return e=Ot(19,s,t,n),e.elementType=gl,e.lanes=o,e;case Nh:return xi(s,n,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jh:i=10;break e;case wh:i=9;break e;case Oc:i=11;break e;case zc:i=14;break e;case $r:i=16,a=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ot(i,s,t,n),t.elementType=e,t.type=a,t.lanes=o,t}function vs(e,t,s,a){return e=Ot(7,e,a,t),e.lanes=s,e}function xi(e,t,s,a){return e=Ot(22,e,a,t),e.elementType=Nh,e.lanes=s,e.stateNode={isHidden:!1},e}function rl(e,t,s){return e=Ot(6,e,null,t),e.lanes=s,e}function sl(e,t,s){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hg(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function bd(e,t,s,a,n,o,i,l,c){return e=new Hg(e,t,s,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(o),e}function qg(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function pp(e){if(!e)return as;e=e._reactInternals;e:{if(Ps(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var s=e.type;if(wt(s))return pf(e,s,t)}return t}function xp(e,t,s,a,n,o,i,l,c){return e=bd(s,a,!0,e,n,o,i,l,c),e.context=pp(null),s=e.current,a=mt(),n=Xr(s),o=br(a,n),o.callback=t??null,Kr(s,o,n),e.current.lanes=n,An(e,n,a),Nt(e,a),e}function gi(e,t,s,a){var n=t.current,o=mt(),i=Xr(n);return s=pp(s),t.context===null?t.context=s:t.pendingContext=s,t=br(o,i),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Kr(n,t,i),e!==null&&(Yt(e,n,i,o),po(e,n,i)),i}function Go(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function jd(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Wg(){return null}var gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function wd(e){this._internalRoot=e}yi.prototype.render=wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));gi(e,t,null,null)};yi.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){gi(null,e,null,null)}),t[wr]=null}};function yi(e){this._internalRoot=e}yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gh();e={blockedOn:null,target:e,priority:t};for(var s=0;s<zr.length&&t!==0&&t<zr[s].priority;s++);zr.splice(s,0,e),s===0&&Jh(e)}};function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function Gg(e,t,s,a,n){if(n){if(typeof a=="function"){var o=a;a=function(){var d=Go(i);o.call(d)}}var i=xp(t,a,e,0,null,!1,!1,"",Xu);return e._reactRootContainer=i,e[wr]=i.current,mn(e.nodeType===8?e.parentNode:e),Cs(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var d=Go(c);l.call(d)}}var c=bd(e,0,!1,null,null,!1,!1,"",Xu);return e._reactRootContainer=c,e[wr]=c.current,mn(e.nodeType===8?e.parentNode:e),Cs(function(){gi(t,c,s,a)}),c}function bi(e,t,s,a,n){var o=s._reactRootContainer;if(o){var i=o;if(typeof n=="function"){var l=n;n=function(){var c=Go(i);l.call(c)}}gi(t,i,e,n)}else i=Gg(s,t,e,n,a);return Go(i)}qh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Va(t.pendingLanes);s!==0&&(Vc(t,s|1),Nt(t,ze()),!(he&6)&&(ma=ze()+500,cs()))}break;case 13:Cs(function(){var a=Nr(e,1);if(a!==null){var n=mt();Yt(a,e,1,n)}}),jd(e,1)}};Bc=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var s=mt();Yt(t,e,134217728,s)}jd(e,134217728)}};Wh=function(e){if(e.tag===13){var t=Xr(e),s=Nr(e,t);if(s!==null){var a=mt();Yt(s,e,t,a)}jd(e,t)}};Gh=function(){return je};Zh=function(e,t){var s=je;try{return je=e,t()}finally{je=s}};_l=function(e,t,s){switch(t){case"input":if(bl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=di(a);if(!n)throw Error(F(90));Sh(a),bl(a,n)}}}break;case"textarea":_h(e,s);break;case"select":t=s.value,t!=null&&Qs(e,!!s.multiple,t,!1)}};Lh=xd;Mh=Cs;var Zg={usingClientEntryPoint:!1,Events:[In,Bs,di,Th,Rh,xd]},Ta={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jg={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Oh(e),e===null?null:e.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||Wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{oi=no.inject(Jg),lr=no}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zg;It.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(t))throw Error(F(200));return qg(e,t,null,s)};It.createRoot=function(e,t){if(!Nd(e))throw Error(F(299));var s=!1,a="",n=gp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=bd(e,1,!1,null,null,s,!1,a,n),e[wr]=t.current,mn(e.nodeType===8?e.parentNode:e),new wd(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Oh(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return Cs(e)};It.hydrate=function(e,t,s){if(!vi(t))throw Error(F(200));return bi(null,e,t,!0,s)};It.hydrateRoot=function(e,t,s){if(!Nd(e))throw Error(F(405));var a=s!=null&&s.hydratedSources||null,n=!1,o="",i=gp;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=xp(t,null,e,1,s??null,n,!1,o,i),e[wr]=t.current,mn(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new yi(t)};It.render=function(e,t,s){if(!vi(t))throw Error(F(200));return bi(null,e,t,!1,s)};It.unmountComponentAtNode=function(e){if(!vi(e))throw Error(F(40));return e._reactRootContainer?(Cs(function(){bi(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};It.unstable_batchedUpdates=xd;It.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!vi(s))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return bi(e,t,s,!1,a)};It.version="18.3.1-next-f1338f8080-20240426";function yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yp)}catch(e){console.error(e)}}yp(),gh.exports=It;var Qg=gh.exports,vp,em=Qg;vp=em.createRoot,em.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jn.apply(this,arguments)}var Hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hr||(Hr={}));const tm="popstate";function Kg(e){e===void 0&&(e={});function t(a,n){let{pathname:o,search:i,hash:l}=a.location;return oc("",{pathname:o,search:i,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Zo(n)}return Xg(t,s,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yg(){return Math.random().toString(36).substr(2,8)}function rm(e,t){return{usr:e.state,key:e.key,idx:t}}function oc(e,t,s,a){return s===void 0&&(s=null),jn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Na(t):t,{state:s,key:t&&t.key||a||Yg()})}function Zo(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Na(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Xg(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,i=n.history,l=Hr.Pop,c=null,d=m();d==null&&(d=0,i.replaceState(jn({},i.state,{idx:d}),""));function m(){return(i.state||{idx:null}).idx}function h(){l=Hr.Pop;let b=m(),f=b==null?null:b-d;d=b,c&&c({action:l,location:j.location,delta:f})}function x(b,f){l=Hr.Push;let u=oc(j.location,b,f);d=m()+1;let y=rm(u,d),v=j.createHref(u);try{i.pushState(y,"",v)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(v)}o&&c&&c({action:l,location:j.location,delta:1})}function N(b,f){l=Hr.Replace;let u=oc(j.location,b,f);d=m();let y=rm(u,d),v=j.createHref(u);i.replaceState(y,"",v),o&&c&&c({action:l,location:j.location,delta:0})}function w(b){let f=n.location.origin!=="null"?n.location.origin:n.location.href,u=typeof b=="string"?b:Zo(b);return u=u.replace(/ $/,"%20"),He(f,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,f)}let j={get action(){return l},get location(){return e(n,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(tm,h),c=b,()=>{n.removeEventListener(tm,h),c=null}},createHref(b){return t(n,b)},createURL:w,encodeLocation(b){let f=w(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:x,replace:N,go(b){return i.go(b)}};return j}var sm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sm||(sm={}));function ey(e,t,s){return s===void 0&&(s="/"),ty(e,t,s)}function ty(e,t,s,a){let n=typeof t=="string"?Na(t):t,o=kd(n.pathname||"/",s);if(o==null)return null;let i=jp(e);ry(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=fy(o);l=uy(i[c],d)}return l}function jp(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=ts([a,c.relativePath]),m=s.concat(c);o.children&&o.children.length>0&&(He(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),jp(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:cy(d,o.index),routesMeta:m})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))n(o,i);else for(let c of wp(o.path))n(o,i,c)}),t}function wp(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),o=s.replace(/\?$/,"");if(a.length===0)return n?[o,""]:[o];let i=wp(a.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),n&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ry(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:dy(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const sy=/^:[\w-]+$/,ay=3,ny=2,oy=1,iy=10,ly=-2,am=e=>e==="*";function cy(e,t){let s=e.split("/"),a=s.length;return s.some(am)&&(a+=ly),t&&(a+=ny),s.filter(n=>!am(n)).reduce((n,o)=>n+(sy.test(o)?ay:o===""?oy:iy),a)}function dy(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function uy(e,t,s){let{routesMeta:a}=e,n={},o="/",i=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,m=o==="/"?t:t.slice(o.length)||"/",h=my({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),x=c.route;if(!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:ts([o,h.pathname]),pathnameBase:yy(ts([o,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(o=ts([o,h.pathnameBase]))}return i}function my(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=hy(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let o=n[0],i=o.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,m,h)=>{let{paramName:x,isOptional:N}=m;if(x==="*"){let j=l[h]||"";i=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const w=l[h];return N&&!w?d[x]=void 0:d[x]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function hy(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),bp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function fy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function py(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Na(e):e;return{pathname:s?s.startsWith("/")?s:xy(s,t):t,search:vy(a),hash:by(n)}}function xy(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function al(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gy(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Np(e,t){let s=gy(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function kp(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Na(e):(n=jn({},e),He(!n.pathname||!n.pathname.includes("?"),al("?","pathname","search",n)),He(!n.pathname||!n.pathname.includes("#"),al("#","pathname","hash",n)),He(!n.search||!n.search.includes("#"),al("#","search","hash",n)));let o=e===""||n.pathname==="",i=o?"/":n.pathname,l;if(i==null)l=s;else{let h=t.length-1;if(!a&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;n.pathname=x.join("/")}l=h>=0?t[h]:"/"}let c=py(n,l),d=i&&i!=="/"&&i.endsWith("/"),m=(o||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const ts=e=>e.join("/").replace(/\/\/+/g,"/"),yy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,by=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sp=["post","put","patch","delete"];new Set(Sp);const wy=["get",...Sp];new Set(wy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},wn.apply(this,arguments)}const Sd=g.createContext(null),Ny=g.createContext(null),Is=g.createContext(null),ji=g.createContext(null),Ar=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Cp=g.createContext(null);function ky(e,t){let{relative:s}=t===void 0?{}:t;Rn()||He(!1);let{basename:a,navigator:n}=g.useContext(Is),{hash:o,pathname:i,search:l}=Ep(e,{relative:s}),c=i;return a!=="/"&&(c=i==="/"?a:ts([a,i])),n.createHref({pathname:c,search:l,hash:o})}function Rn(){return g.useContext(ji)!=null}function hr(){return Rn()||He(!1),g.useContext(ji).location}function _p(e){g.useContext(Is).static||g.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=g.useContext(Ar);return e?zy():Sy()}function Sy(){Rn()||He(!1);let e=g.useContext(Sd),{basename:t,future:s,navigator:a}=g.useContext(Is),{matches:n}=g.useContext(Ar),{pathname:o}=hr(),i=JSON.stringify(Np(n,s.v7_relativeSplatPath)),l=g.useRef(!1);return _p(()=>{l.current=!0}),g.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=kp(d,JSON.parse(i),o,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ts([t,h.pathname])),(m.replace?a.replace:a.push)(h,m.state,m)},[t,a,i,o,e])}const Cy=g.createContext(null);function _y(e){let t=g.useContext(Ar).outlet;return t&&g.createElement(Cy.Provider,{value:e},t)}function Ln(){let{matches:e}=g.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function Ep(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=g.useContext(Is),{matches:n}=g.useContext(Ar),{pathname:o}=hr(),i=JSON.stringify(Np(n,a.v7_relativeSplatPath));return g.useMemo(()=>kp(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function Ey(e,t){return Ay(e,t)}function Ay(e,t,s,a){Rn()||He(!1);let{navigator:n}=g.useContext(Is),{matches:o}=g.useContext(Ar),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=hr(),m;if(t){var h;let b=typeof t=="string"?Na(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||He(!1),m=b}else m=d;let x=m.pathname||"/",N=x;if(c!=="/"){let b=c.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=ey(e,{pathname:N}),j=Ly(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ts([c,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ts([c,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,s,a);return t&&j?g.createElement(ji.Provider,{value:{location:wn({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Hr.Pop}},j):j}function Py(){let e=Oy(),t=jy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),s?g.createElement("pre",{style:n},s):null,null)}const Iy=g.createElement(Py,null);class Ty extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?g.createElement(Ar.Provider,{value:this.props.routeContext},g.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ry(e){let{routeContext:t,match:s,children:a}=e,n=g.useContext(Sd);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(Ar.Provider,{value:t},a)}function Ly(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=a)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let m=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);m>=0||He(!1),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:x,errors:N}=s,w=h.route.loader&&x[h.route.id]===void 0&&(!N||N[h.route.id]===void 0);if(h.route.lazy||w){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((m,h,x)=>{let N,w=!1,j=null,b=null;s&&(N=l&&h.route.id?l[h.route.id]:void 0,j=h.route.errorElement||Iy,c&&(d<0&&x===0?(Uy("route-fallback"),w=!0,b=null):d===x&&(w=!0,b=h.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,x+1)),u=()=>{let y;return N?y=j:w?y=b:h.route.Component?y=g.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=m,g.createElement(Ry,{match:h,routeContext:{outlet:m,matches:f,isDataRoute:s!=null},children:y})};return s&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?g.createElement(Ty,{location:s.location,revalidation:s.revalidation,component:j,error:N,children:u(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):u()},null)}var Ap=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ap||{}),Pp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pp||{});function My(e){let t=g.useContext(Sd);return t||He(!1),t}function $y(e){let t=g.useContext(Ny);return t||He(!1),t}function Dy(e){let t=g.useContext(Ar);return t||He(!1),t}function Ip(e){let t=Dy(),s=t.matches[t.matches.length-1];return s.route.id||He(!1),s.route.id}function Oy(){var e;let t=g.useContext(Cp),s=$y(),a=Ip();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function zy(){let{router:e}=My(Ap.UseNavigateStable),t=Ip(Pp.UseNavigateStable),s=g.useRef(!1);return _p(()=>{s.current=!0}),g.useCallback(function(n,o){o===void 0&&(o={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,wn({fromRouteId:t},o)))},[e,t])}const nm={};function Uy(e,t,s){nm[e]||(nm[e]=!0)}function Fy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vy(e){return _y(e.context)}function de(e){He(!1)}function By(e){let{basename:t="/",children:s=null,location:a,navigationType:n=Hr.Pop,navigator:o,static:i=!1,future:l}=e;Rn()&&He(!1);let c=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:o,static:i,future:wn({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof a=="string"&&(a=Na(a));let{pathname:m="/",search:h="",hash:x="",state:N=null,key:w="default"}=a,j=g.useMemo(()=>{let b=kd(m,c);return b==null?null:{location:{pathname:b,search:h,hash:x,state:N,key:w},navigationType:n}},[c,m,h,x,N,w,n]);return j==null?null:g.createElement(Is.Provider,{value:d},g.createElement(ji.Provider,{children:s,value:j}))}function Hy(e){let{children:t,location:s}=e;return Ey(ic(t),s)}new Promise(()=>{});function ic(e,t){t===void 0&&(t=[]);let s=[];return g.Children.forEach(e,(a,n)=>{if(!g.isValidElement(a))return;let o=[...t,n];if(a.type===g.Fragment){s.push.apply(s,ic(a.props.children,o));return}a.type!==de&&He(!1),!a.props.index||!a.props.children||He(!1);let i={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=ic(a.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lc.apply(this,arguments)}function qy(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,o;for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function Wy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gy(e,t){return e.button===0&&(!t||t==="_self")&&!Wy(e)}function cc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function Zy(e,t){let s=cc(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(o=>{s.append(n,o)})}),s}const Jy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qy="6";try{window.__reactRouterVersion=Qy}catch{}const Ky="startTransition",om=zx[Ky];function Yy(e){let{basename:t,children:s,future:a,window:n}=e,o=g.useRef();o.current==null&&(o.current=Kg({window:n,v5Compat:!0}));let i=o.current,[l,c]=g.useState({action:i.action,location:i.location}),{v7_startTransition:d}=a||{},m=g.useCallback(h=>{d&&om?om(()=>c(h)):c(h)},[c,d]);return g.useLayoutEffect(()=>i.listen(m),[i,m]),g.useEffect(()=>Fy(a),[a]),g.createElement(By,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:a})}const Xy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=g.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:m,viewTransition:h}=t,x=qy(t,Jy),{basename:N}=g.useContext(Is),w,j=!1;if(typeof d=="string"&&ev.test(d)&&(w=d,Xy))try{let y=new URL(window.location.href),v=d.startsWith("//")?new URL(y.protocol+d):new URL(d),S=kd(v.pathname,N);v.origin===y.origin&&S!=null?d=S+v.search+v.hash:j=!0}catch{}let b=ky(d,{relative:n}),f=tv(d,{replace:i,state:l,target:c,preventScrollReset:m,relative:n,viewTransition:h});function u(y){a&&a(y),y.defaultPrevented||f(y)}return g.createElement("a",lc({},x,{href:w||b,onClick:j||o?a:u,ref:s,target:c}))});var im;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(im||(im={}));var lm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lm||(lm={}));function tv(e,t){let{target:s,replace:a,state:n,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Rt(),d=hr(),m=Ep(e,{relative:i});return g.useCallback(h=>{if(Gy(h,s)){h.preventDefault();let x=a!==void 0?a:Zo(d)===Zo(m);c(e,{replace:x,state:n,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,m,a,n,s,e,o,i,l])}function Tp(e){let t=g.useRef(cc(e)),s=g.useRef(!1),a=hr(),n=g.useMemo(()=>Zy(a.search,s.current?null:t.current),[a.search]),o=Rt(),i=g.useCallback((l,c)=>{const d=cc(typeof l=="function"?l(n):l);s.current=!0,o("?"+d,c)},[o,n]);return[n,i]}const bs=({children:e,className:t="",size:s="xl"})=>{const a={sm:"max-w-3xl",md:"max-w-4xl",lg:"max-w-5xl",xl:"max-w-6xl",full:"max-w-full"};return r.jsx("div",{className:`mx-auto px-4 sm:px-6 lg:px-8 ${a[s]} ${t}`,children:e})};/*! js-cookie v3.0.5 | MIT */function oo(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)e[a]=s[a]}return e}var rv={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function dc(e,t){function s(n,o,i){if(!(typeof document>"u")){i=oo({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in i)i[c]&&(l+="; "+c,i[c]!==!0&&(l+="="+i[c].split(";")[0]));return document.cookie=n+"="+e.write(o,n)+l}}function a(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var o=document.cookie?document.cookie.split("; "):[],i={},l=0;l<o.length;l++){var c=o[l].split("="),d=c.slice(1).join("=");try{var m=decodeURIComponent(c[0]);if(i[m]=e.read(d,m),n===m)break}catch{}}return n?i[n]:i}}return Object.create({set:s,get:a,remove:function(n,o){s(n,"",oo({},o,{expires:-1}))},withAttributes:function(n){return dc(this.converter,oo({},this.attributes,n))},withConverter:function(n){return dc(oo({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var ha=dc(rv,{path:"/"});const uc=["Arica y Parinacota","Tarapac","Antofagasta","Atacama","Coquimbo","Valparaso","Metropolitana de Santiago","Libertador General Bernardo O'Higgins","Maule","uble","Biobo","La Araucana","Los Ros","Los Lagos","Aysn del General Carlos Ibez del Campo","Magallanes y de la Antrtica Chilena"],Ra={admin:4,director:3,director_editor:2,usuario:1},sv={admin:["manage_users","manage_events","manage_content","manage_system","view_analytics","moderate_community","access_admin_panel"],director:["manage_events","manage_content","view_analytics","moderate_community","access_director_panel"],director_editor:["manage_events","manage_content","moderate_community","access_editor_panel"],usuario:["view_events","join_events","view_content","access_profile"]},Ha={hasPermission:(e,t)=>{var s;return((s=sv[e])==null?void 0:s.includes(t))||!1},canManage:(e,t)=>Ra[e]>Ra[t],getRoleDisplayName:e=>({admin:"Administrador",director:"Director",director_editor:"Director Editor",usuario:"Usuario"})[e],getRoleColor:e=>({admin:"red",director:"purple",director_editor:"blue",usuario:"green"})[e],getAllRoles:()=>Object.keys(Ra),isHigherRole:(e,t)=>Ra[e]>Ra[t]};class av{constructor(t="ACA",s=0){dt(this,"level");dt(this,"prefix");dt(this,"auth",{debug:(t,s)=>this.debug("AUTH",t,s),info:(t,s)=>this.info("AUTH",t,s),warn:(t,s)=>this.warn("AUTH",t,s),error:(t,s)=>this.error("AUTH",t,s)});dt(this,"api",{debug:(t,s)=>this.debug("API",t,s),info:(t,s)=>this.info("API",t,s),warn:(t,s)=>this.warn("API",t,s),error:(t,s)=>this.error("API",t,s)});dt(this,"ui",{debug:(t,s)=>this.debug("UI",t,s),info:(t,s)=>this.info("UI",t,s),warn:(t,s)=>this.warn("UI",t,s),error:(t,s)=>this.error("UI",t,s)});dt(this,"search",{debug:(t,s)=>this.debug("SEARCH",t,s),info:(t,s)=>this.info("SEARCH",t,s),warn:(t,s)=>this.warn("SEARCH",t,s),error:(t,s)=>this.error("SEARCH",t,s)});dt(this,"events",{debug:(t,s)=>this.debug("EVENTS",t,s),info:(t,s)=>this.info("EVENTS",t,s),warn:(t,s)=>this.warn("EVENTS",t,s),error:(t,s)=>this.error("EVENTS",t,s)});this.prefix=t,this.level=s}setLevel(t){this.level=t}shouldLog(t){return t>=this.level}formatMessage(t,s,a,n){const i=`[${new Date().toISOString()}] [${this.prefix}] [${t}] [${s}] ${a}`;n?(console.groupCollapsed(i),console.log("Data:",n),console.trace("Stack trace"),console.groupEnd()):console.log(i)}debug(t,s,a){this.shouldLog(0)&&this.formatMessage("DEBUG",t,s,a)}info(t,s,a){this.shouldLog(1)&&this.formatMessage("INFO",t,s,a)}warn(t,s,a){this.shouldLog(2)&&this.formatMessage("WARN",t,s,a)}error(t,s,a){this.shouldLog(3)&&(this.formatMessage("ERROR",t,s,a),a!=null&&a.stack&&console.error("Error Stack:",a.stack))}time(t){console.time(`[${this.prefix}] ${t}`)}timeEnd(t){console.timeEnd(`[${this.prefix}] ${t}`)}networkRequest(t,s,a){this.api.debug(`${t} ${s}`,{method:t,url:s,data:a,timestamp:Date.now()})}networkResponse(t,s,a,n){const o=a>=400?"error":a>=300?"warn":"info";this.api[o](`${t} ${s} - ${a}`,{method:t,url:s,status:a,response:n,timestamp:Date.now()})}}const ge=new av("ACA-CHILE",3),nv=localStorage.getItem("aca_debug_mode");nv==="true"&&ge.setLevel(0);const Nn="auth_token",kn="auth_user",cm=(e,t)=>{ha.set(Nn,e,{expires:7}),ha.set(kn,JSON.stringify(t),{expires:7}),typeof window<"u"&&(window.localStorage.setItem(Nn,e),window.localStorage.setItem(kn,JSON.stringify(t)))},nl=()=>{ha.remove(Nn),ha.remove(kn),typeof window<"u"&&(window.localStorage.removeItem(Nn),window.localStorage.removeItem(kn))},Rp=(e,t)=>{const s=(e.nombre??"").trim(),a=(e.apellido??"").trim();let n;switch(e.role){case"super_admin":case"admin":n="admin";break;case"editor":n="director_editor";break;case"organizer":n="director";break;case"user":default:n="usuario";break}return{...{id:e.id,email:e.email,firstName:s,lastName:a,name:[s,a].filter(Boolean).join(" ").trim()||e.email,roles:[n],avatar:null,phone:e.telefono??null,rut:e.rut??null,ciudad:e.ciudad??null,direccion:e.direccion??null,region:null,membershipType:null,isActive:!!e.activo,createdAt:e.created_at,lastLogin:e.last_login??null},...t}},ov=e=>{if(!e)return null;try{const t=JSON.parse(e);if(!t||typeof t!="object")return null;if("nombre"in t||"apellido"in t)return Rp(t);const s=(t.firstName??t.nombre??"").toString().trim(),a=(t.lastName??t.apellido??"").toString().trim(),n=t.role;let o;switch(n){case"super_admin":case"admin":o="admin";break;case"editor":o="director_editor";break;case"organizer":o="director";break;case"user":default:o="usuario";break}const i=Array.isArray(t.roles)&&t.roles.length>0?t.roles:[o];return{id:Number(t.id),email:String(t.email??""),firstName:s,lastName:a,name:(t.name??[s,a].filter(Boolean).join(" ").trim()??String(t.email??"")).trim(),roles:i,avatar:t.avatar??null,phone:t.phone??t.telefono??null,rut:t.rut??null,ciudad:t.ciudad??null,direccion:t.direccion??null,region:t.region??null,membershipType:t.membershipType??null,isActive:typeof t.isActive=="boolean"?t.isActive:!!(t.activo??!0),createdAt:t.createdAt??t.created_at??new Date().toISOString(),lastLogin:t.lastLogin??t.last_login??null}}catch(t){return console.error("Error parsing stored user data:",t),null}},iv=e=>{const t=e.name.trim(),[s,...a]=t.split(/\s+/),n=a.join(" ");return{email:e.email,password:e.password,nombre:s||e.email,apellido:n||s||e.email,telefono:e.phone||null,rut:e.rut||null,ciudad:e.region||null,role:e.preferredRole==="organizer"?"editor":"user"}},lv={user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},cv=(e,t)=>{switch(t.type){case"AUTH_START":return{...e,isLoading:!0,error:null};case"AUTH_SUCCESS":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null};case"AUTH_ERROR":return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload};case"UPDATE_USER":return e.user?{...e,user:{...e.user,...t.payload}}:e;case"LOGOUT":return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null};case"CLEAR_ERROR":return{...e,error:null};default:return e}},Lp=g.createContext(null),$e=()=>{const e=g.useContext(Lp);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},dv=({children:e})=>{const[t,s]=g.useReducer(cv,lv),a=(v,S,A)=>{const T=Rp(S,A);cm(v,T),s({type:"AUTH_SUCCESS",payload:{user:T,token:v}})},n=async v=>{var S,A;ge.auth.info(" AuthContext: Iniciando login",{email:v.email}),s({type:"AUTH_START"});try{ge.auth.debug(" AuthContext: Enviando request a API",{url:"/api/auth/login"});const T=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),p=await T.json();if(ge.auth.debug(" AuthContext: Response recibida",{success:p.success,status:T.status,hasUser:!!((S=p.data)!=null&&S.user),hasToken:!!((A=p.data)!=null&&A.token)}),!T.ok||!p.success||!p.data){const k=p.error||"Error en el login";throw new Error(k)}a(p.data.token,p.data.user),ge.auth.info(" AuthContext: Login exitoso",{userId:p.data.user.id,userEmail:p.data.user.email})}catch(T){const p=T instanceof Error?T.message:"Error desconocido";throw ge.auth.error(" AuthContext: Error en login",{error:p,type:T instanceof Error?"Error":typeof T}),nl(),s({type:"AUTH_ERROR",payload:p}),T}},o=async v=>{var S,A,T;ge.auth.info(" AuthContext: Iniciando registro",{email:v.email}),s({type:"AUTH_START"});try{const p=iv(v);ge.auth.debug(" AuthContext: Enviando request de registro",{payload:{...p,password:"[REDACTED]"}});const k=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),C=await k.json();if(ge.auth.debug(" AuthContext: Response registro recibida",{success:C.success,status:k.status,hasUser:!!((S=C.data)!=null&&S.user),hasToken:!!((A=C.data)!=null&&A.token)}),!k.ok||!C.success){const _=C.error||"Error en el registro";throw new Error(_)}(T=C.data)!=null&&T.token&&C.data.user?(ge.auth.info(" AuthContext: Registro exitoso con token recibido",{userId:C.data.user.id}),a(C.data.token,C.data.user,{region:v.region??null})):(ge.auth.info(" AuthContext: Registro exitoso, iniciando login automtico"),await n({email:v.email,password:v.password}))}catch(p){const k=p instanceof Error?p.message:"Error desconocido";throw ge.auth.error(" AuthContext: Error en registro",{error:k,type:p instanceof Error?"Error":typeof p}),s({type:"AUTH_ERROR",payload:k}),p}};g.useEffect(()=>{const v=ha.get(Nn),S=ha.get(kn);if(v&&S){const A=ov(S);A?s({type:"AUTH_SUCCESS",payload:{user:A,token:v}}):nl()}},[]);const i=()=>{var v,S;ge.auth.info(" AuthContext: Logout solicitado",{userId:(v=t.user)==null?void 0:v.id,userEmail:(S=t.user)==null?void 0:S.email}),nl(),s({type:"LOGOUT"})},l=()=>{s({type:"CLEAR_ERROR"})},c=v=>{var A;if(ge.auth.info(" AuthContext: Actualizando usuario",{userId:(A=t.user)==null?void 0:A.id,updateFields:Object.keys(v)}),!t.user||!t.token){ge.auth.warn(" AuthContext: No se puede actualizar usuario - no autenticado");return}const S={...t.user,...v};s({type:"UPDATE_USER",payload:v}),cm(t.token,S),ge.auth.info(" AuthContext: Usuario actualizado exitosamente",{userId:S.id,updatedFields:Object.keys(v)})},d=v=>{if(!t.user||!t.isAuthenticated)return!1;const S=t.user.roles[0];return Ha.hasPermission(S,v)},m=v=>!t.user||!t.isAuthenticated?!1:t.user.roles.includes(v),h=v=>{if(!t.user||!t.isAuthenticated)return!1;const S=t.user.roles[0];return Ha.canManage(S,v)},x=()=>m("admin"),N=()=>m("director")||m("admin"),w=()=>m("director_editor")||m("director")||m("admin"),j=()=>m("usuario"),b=()=>!t.user||!t.isAuthenticated?null:t.user.roles[0],y={...t,login:n,register:o,logout:i,clearError:l,updateUser:c,hasPermission:d,hasRole:m,canManage:h,isAdmin:x,isDirector:N,isDirectorEditor:w,isUsuario:j,getUserRole:b,getRoleDisplayName:()=>{const v=b();return v?Ha.getRoleDisplayName(v):"Sin rol"},getRoleColor:()=>{const v=b();return v?Ha.getRoleColor(v):"gray"}};return r.jsx(Lp.Provider,{value:y,children:e})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mv=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),dm=e=>{const t=mv(e);return t.charAt(0).toUpperCase()+t.slice(1)},Mp=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),hv=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:i,...l},c)=>g.createElement("svg",{ref:c,...fv,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:Mp("lucide",n),...!o&&!hv(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,m])=>g.createElement(d,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const s=g.forwardRef(({className:a,...n},o)=>g.createElement(pv,{ref:o,iconNode:t,className:Mp(`lucide-${uv(dm(e))}`,`lucide-${e}`,a),...n}));return s.displayName=dm(e),s};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sr=Q("arrow-left",xv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ol=Q("award",gv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Sn=Q("bell",yv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],Cd=Q("cake",vv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ye=Q("calendar",bv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],wv=Q("camera",jv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kv=Q("chart-column",Nv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mc=Q("check",Sv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_v=Q("chevron-down",Cv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hc=Q("chevron-left",Ev);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wi=Q("chevron-right",Av);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ne=Q("circle-alert",Pv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tv=Q("circle-check",Iv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Re=Q("circle-check-big",Rv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Ni=Q("circle-user",Lv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dr=Q("circle-x",Mv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Dv=Q("clipboard-check",$v);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mr=Q("clock",Ov);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],fa=Q("credit-card",zv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_d=Q("dollar-sign",Uv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vv=Q("download",Fv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ra=Q("eye-off",Bv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ot=Q("eye",Hv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Wv=Q("facebook",qv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Zv=Q("file-down",Gv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qt=Q("file-text",Jv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Kv=Q("file-up",Qv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Ed=Q("fingerprint",Yv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eb=Q("funnel",Xv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],rb=Q("grid-3x3",tb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ab=Q("heart",sb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ad=Q("house",nb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ib=Q("info",ob);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$p=Q("layout-dashboard",lb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],db=Q("list",cb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ue=Q("loader-circle",ub);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],hb=Q("log-in",mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fc=Q("log-out",fb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sa=Q("lock",pb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],er=Q("mail",xb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],it=Q("map-pin",gb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Jo=Q("megaphone",yb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Dp=Q("menu",vb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],pc=Q("message-circle",bb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Qo=Q("message-square",jb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],xc=Q("newspaper",wb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kb=Q("pen",Nb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Mn=Q("phone",Sb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],or=Q("plus",Cb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Op=Q("refresh-cw",_b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aa=Q("save",Eb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qe=Q("search",Ab);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pd=Q("settings",Pb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Tb=Q("share-2",Ib);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],zp=Q("shield-alert",Rb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],um=Q("shield-check",Lb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ko=Q("shield",Mb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],mm=Q("smartphone",$b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hm=Q("sparkles",Db);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Id=Q("square-pen",Ob);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ub=Q("star",zb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Vb=Q("tag",Fb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Td=Q("trash-2",Bb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ki=Q("trending-up",Hb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],js=Q("triangle-alert",qb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fm=Q("trophy",Wb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Zb=Q("twitter",Gb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_s=Q("upload",Jb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gc=Q("user-check",Qb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Si=Q("user-plus",Kb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Xb=Q("users-round",Yb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ct=Q("users",ej);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ir=Q("user",tj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],sj=Q("wallet",rj);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ye=Q("x",aj);var $n=e=>e.type==="checkbox",gs=e=>e instanceof Date,gt=e=>e==null;const Up=e=>typeof e=="object";var qe=e=>!gt(e)&&!Array.isArray(e)&&Up(e)&&!gs(e),nj=e=>qe(e)&&e.target?$n(e.target)?e.target.checked:e.target.value:e,oj=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ij=(e,t)=>e.has(oj(t)),lj=e=>{const t=e.constructor&&e.constructor.prototype;return qe(t)&&t.hasOwnProperty("isPrototypeOf")},Rd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ze(e){let t;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Rd&&(e instanceof Blob||a))&&(s||qe(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!lj(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ze(e[n]));else return e;return t}var Ci=e=>/^\w*$/.test(e),Oe=e=>e===void 0,Ld=e=>Array.isArray(e)?e.filter(Boolean):[],Md=e=>Ld(e.replace(/["|']|\]/g,"").split(/\.|\[/)),te=(e,t,s)=>{if(!t||!qe(e))return s;const a=(Ci(t)?[t]:Md(t)).reduce((n,o)=>gt(n)?n:n[o],e);return Oe(a)||a===e?Oe(e[t])?s:e[t]:a},ar=e=>typeof e=="boolean",ke=(e,t,s)=>{let a=-1;const n=Ci(t)?[t]:Md(t),o=n.length,i=o-1;for(;++a<o;){const l=n[a];let c=s;if(a!==i){const d=e[l];c=qe(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const pm={BLUR:"blur",FOCUS_OUT:"focusout"},Zt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cj=Pe.createContext(null);cj.displayName="HookFormContext";var dj=(e,t,s,a=!0)=>{const n={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Zt.all&&(t._proxyFormState[i]=!a||Zt.all),e[i]}});return n};const uj=typeof window<"u"?Pe.useLayoutEffect:Pe.useEffect;var Ct=e=>typeof e=="string",mj=(e,t,s,a,n)=>Ct(e)?(a&&t.watch.add(e),te(s,e,n)):Array.isArray(e)?e.map(o=>(a&&t.watch.add(o),te(s,o))):(a&&(t.watchAll=!0),s),yc=e=>gt(e)||!Up(e);function Fr(e,t,s=new WeakSet){if(yc(e)||yc(t))return e===t;if(gs(e)&&gs(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const o of a){const i=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=t[o];if(gs(i)&&gs(l)||qe(i)&&qe(l)||Array.isArray(i)&&Array.isArray(l)?!Fr(i,l,s):i!==l)return!1}}return!0}var Fp=(e,t,s,a,n)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:n||!0}}:{},tn=e=>Array.isArray(e)?e:[e],xm=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}};function Vp(e,t){const s={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a],o=t[a];if(n&&qe(n)&&o){const i=Vp(n,o);qe(i)&&(s[a]=i)}else e[a]&&(s[a]=o)}return s}var xt=e=>qe(e)&&!Object.keys(e).length,$d=e=>e.type==="file",Jt=e=>typeof e=="function",Yo=e=>{if(!Rd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Bp=e=>e.type==="select-multiple",Dd=e=>e.type==="radio",hj=e=>Dd(e)||$n(e),il=e=>Yo(e)&&e.isConnected;function fj(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=Oe(e)?a++:e[t[a++]];return e}function pj(e){for(const t in e)if(e.hasOwnProperty(t)&&!Oe(e[t]))return!1;return!0}function Fe(e,t){const s=Array.isArray(t)?t:Ci(t)?[t]:Md(t),a=s.length===1?e:fj(e,s),n=s.length-1,o=s[n];return a&&delete a[o],n!==0&&(qe(a)&&xt(a)||Array.isArray(a)&&pj(a))&&Fe(e,s.slice(0,-1)),e}var xj=e=>{for(const t in e)if(Jt(e[t]))return!0;return!1};function Hp(e){return Array.isArray(e)||qe(e)&&!xj(e)}function vc(e,t={}){for(const s in e)Hp(e[s])?(t[s]=Array.isArray(e[s])?[]:{},vc(e[s],t[s])):Oe(e[s])||(t[s]=!0);return t}function $s(e,t,s){s||(s=vc(t));for(const a in e)Hp(e[a])?Oe(t)||yc(s[a])?s[a]=vc(e[a],Array.isArray(e[a])?[]:{}):$s(e[a],gt(t)?{}:t[a],s[a]):s[a]=!Fr(e[a],t[a]);return s}const gm={value:!1,isValid:!1},ym={value:!0,isValid:!0};var qp=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Oe(e[0].attributes.value)?Oe(e[0].value)||e[0].value===""?ym:{value:e[0].value,isValid:!0}:ym:gm}return gm},Wp=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>Oe(e)?e:t?e===""?NaN:e&&+e:s&&Ct(e)?new Date(e):a?a(e):e;const vm={isValid:!1,value:null};var Gp=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,vm):vm;function bm(e){const t=e.ref;return $d(t)?t.files:Dd(t)?Gp(e.refs).value:Bp(t)?[...t.selectedOptions].map(({value:s})=>s):$n(t)?qp(e.refs).value:Wp(Oe(t.value)?e.ref.value:t.value,e)}var gj=(e,t,s,a)=>{const n={};for(const o of e){const i=te(t,o);i&&ke(n,o,i._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:a}},Xo=e=>e instanceof RegExp,La=e=>Oe(e)?e:Xo(e)?e.source:qe(e)?Xo(e.value)?e.value.source:e.value:e,jm=e=>({isOnSubmit:!e||e===Zt.onSubmit,isOnBlur:e===Zt.onBlur,isOnChange:e===Zt.onChange,isOnAll:e===Zt.all,isOnTouch:e===Zt.onTouched});const wm="AsyncFunction";var yj=e=>!!e&&!!e.validate&&!!(Jt(e.validate)&&e.validate.constructor.name===wm||qe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wm)),vj=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Nm=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const rn=(e,t,s,a)=>{for(const n of s||Object.keys(e)){const o=te(e,n);if(o){const{_f:i,...l}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],n)&&!a)return!0;if(i.ref&&t(i.ref,i.name)&&!a)return!0;if(rn(l,t))break}else if(qe(l)&&rn(l,t))break}}};function km(e,t,s){const a=te(e,s);if(a||Ci(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const o=n.join("."),i=te(t,o),l=te(e,o);if(i&&!Array.isArray(i)&&s!==o)return{name:s};if(l&&l.type)return{name:o,error:l};if(l&&l.root&&l.root.type)return{name:`${o}.root`,error:l.root};n.pop()}return{name:s}}var bj=(e,t,s,a)=>{s(e);const{name:n,...o}=e;return xt(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!a||Zt.all))},jj=(e,t,s)=>!e||!t||e===t||tn(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),wj=(e,t,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||e):(s?a.isOnBlur:n.isOnBlur)?!e:(s?a.isOnChange:n.isOnChange)?e:!0,Nj=(e,t)=>!Ld(te(e,t)).length&&Fe(e,t),kj=(e,t,s)=>{const a=tn(te(e,s));return ke(a,"root",t[s]),ke(e,s,a),e};function Sm(e,t,s="validate"){if(Ct(e)||Array.isArray(e)&&e.every(Ct)||ar(e)&&!e)return{type:s,message:Ct(e)?e:"",ref:t}}var Rs=e=>qe(e)&&!Xo(e)?e:{value:e,message:""},Cm=async(e,t,s,a,n,o)=>{const{ref:i,refs:l,required:c,maxLength:d,minLength:m,min:h,max:x,pattern:N,validate:w,name:j,valueAsNumber:b,mount:f}=e._f,u=te(s,j);if(!f||t.has(j))return{};const y=l?l[0]:i,v=I=>{n&&y.reportValidity&&(y.setCustomValidity(ar(I)?"":I||""),y.reportValidity())},S={},A=Dd(i),T=$n(i),p=A||T,k=(b||$d(i))&&Oe(i.value)&&Oe(u)||Yo(i)&&i.value===""||u===""||Array.isArray(u)&&!u.length,C=Fp.bind(null,j,a,S),_=(I,L,R,U=fr.maxLength,P=fr.minLength)=>{const V=I?L:R;S[j]={type:I?U:P,message:V,ref:i,...C(I?U:P,V)}};if(o?!Array.isArray(u)||!u.length:c&&(!p&&(k||gt(u))||ar(u)&&!u||T&&!qp(l).isValid||A&&!Gp(l).isValid)){const{value:I,message:L}=Ct(c)?{value:!!c,message:c}:Rs(c);if(I&&(S[j]={type:fr.required,message:L,ref:y,...C(fr.required,L)},!a))return v(L),S}if(!k&&(!gt(h)||!gt(x))){let I,L;const R=Rs(x),U=Rs(h);if(!gt(u)&&!isNaN(u)){const P=i.valueAsNumber||u&&+u;gt(R.value)||(I=P>R.value),gt(U.value)||(L=P<U.value)}else{const P=i.valueAsDate||new Date(u),V=J=>new Date(new Date().toDateString()+" "+J),$=i.type=="time",H=i.type=="week";Ct(R.value)&&u&&(I=$?V(u)>V(R.value):H?u>R.value:P>new Date(R.value)),Ct(U.value)&&u&&(L=$?V(u)<V(U.value):H?u<U.value:P<new Date(U.value))}if((I||L)&&(_(!!I,R.message,U.message,fr.max,fr.min),!a))return v(S[j].message),S}if((d||m)&&!k&&(Ct(u)||o&&Array.isArray(u))){const I=Rs(d),L=Rs(m),R=!gt(I.value)&&u.length>+I.value,U=!gt(L.value)&&u.length<+L.value;if((R||U)&&(_(R,I.message,L.message),!a))return v(S[j].message),S}if(N&&!k&&Ct(u)){const{value:I,message:L}=Rs(N);if(Xo(I)&&!u.match(I)&&(S[j]={type:fr.pattern,message:L,ref:i,...C(fr.pattern,L)},!a))return v(L),S}if(w){if(Jt(w)){const I=await w(u,s),L=Sm(I,y);if(L&&(S[j]={...L,...C(fr.validate,L.message)},!a))return v(L.message),S}else if(qe(w)){let I={};for(const L in w){if(!xt(I)&&!a)break;const R=Sm(await w[L](u,s),y,L);R&&(I={...R,...C(L,R.message)},v(R.message),a&&(S[j]=I))}if(!xt(I)&&(S[j]={ref:y,...I},!a))return S}}return v(!0),S};const Sj={mode:Zt.onSubmit,reValidateMode:Zt.onChange,shouldFocusError:!0};function Cj(e={}){let t={...Sj,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Jt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=qe(t.defaultValues)||qe(t.values)?Ze(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Ze(n),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...m};const x={array:xm(),state:xm()},N=t.criteriaMode===Zt.all,w=E=>M=>{clearTimeout(d),d=setTimeout(E,M)},j=async E=>{if(!t.disabled&&(m.isValid||h.isValid||E)){const M=t.resolver?xt((await T()).errors):await k(a,!0);M!==s.isValid&&x.state.next({isValid:M})}},b=(E,M)=>{!t.disabled&&(m.isValidating||m.validatingFields||h.isValidating||h.validatingFields)&&((E||Array.from(l.mount)).forEach(O=>{O&&(M?ke(s.validatingFields,O,M):Fe(s.validatingFields,O))}),x.state.next({validatingFields:s.validatingFields,isValidating:!xt(s.validatingFields)}))},f=(E,M=[],O,X,Z=!0,q=!0)=>{if(X&&O&&!t.disabled){if(i.action=!0,q&&Array.isArray(te(a,E))){const ae=O(te(a,E),X.argA,X.argB);Z&&ke(a,E,ae)}if(q&&Array.isArray(te(s.errors,E))){const ae=O(te(s.errors,E),X.argA,X.argB);Z&&ke(s.errors,E,ae),Nj(s.errors,E)}if((m.touchedFields||h.touchedFields)&&q&&Array.isArray(te(s.touchedFields,E))){const ae=O(te(s.touchedFields,E),X.argA,X.argB);Z&&ke(s.touchedFields,E,ae)}(m.dirtyFields||h.dirtyFields)&&(s.dirtyFields=$s(n,o)),x.state.next({name:E,isDirty:_(E,M),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ke(o,E,M)},u=(E,M)=>{ke(s.errors,E,M),x.state.next({errors:s.errors})},y=E=>{s.errors=E,x.state.next({errors:s.errors,isValid:!1})},v=(E,M,O,X)=>{const Z=te(a,E);if(Z){const q=te(o,E,Oe(O)?te(n,E):O);Oe(q)||X&&X.defaultChecked||M?ke(o,E,M?q:bm(Z._f)):R(E,q),i.mount&&j()}},S=(E,M,O,X,Z)=>{let q=!1,ae=!1;const be={name:E};if(!t.disabled){if(!O||X){(m.isDirty||h.isDirty)&&(ae=s.isDirty,s.isDirty=be.isDirty=_(),q=ae!==be.isDirty);const Se=Fr(te(n,E),M);ae=!!te(s.dirtyFields,E),Se?Fe(s.dirtyFields,E):ke(s.dirtyFields,E,!0),be.dirtyFields=s.dirtyFields,q=q||(m.dirtyFields||h.dirtyFields)&&ae!==!Se}if(O){const Se=te(s.touchedFields,E);Se||(ke(s.touchedFields,E,O),be.touchedFields=s.touchedFields,q=q||(m.touchedFields||h.touchedFields)&&Se!==O)}q&&Z&&x.state.next(be)}return q?be:{}},A=(E,M,O,X)=>{const Z=te(s.errors,E),q=(m.isValid||h.isValid)&&ar(M)&&s.isValid!==M;if(t.delayError&&O?(c=w(()=>u(E,O)),c(t.delayError)):(clearTimeout(d),c=null,O?ke(s.errors,E,O):Fe(s.errors,E)),(O?!Fr(Z,O):Z)||!xt(X)||q){const ae={...X,...q&&ar(M)?{isValid:M}:{},errors:s.errors,name:E};s={...s,...ae},x.state.next(ae)}},T=async E=>{b(E,!0);const M=await t.resolver(o,t.context,gj(E||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return b(E),M},p=async E=>{const{errors:M}=await T(E);if(E)for(const O of E){const X=te(M,O);X?ke(s.errors,O,X):Fe(s.errors,O)}else s.errors=M;return M},k=async(E,M,O={valid:!0})=>{for(const X in E){const Z=E[X];if(Z){const{_f:q,...ae}=Z;if(q){const be=l.array.has(q.name),Se=Z._f&&yj(Z._f);Se&&m.validatingFields&&b([q.name],!0);const Lt=await Cm(Z,l.disabled,o,N,t.shouldUseNativeValidation&&!M,be);if(Se&&m.validatingFields&&b([q.name]),Lt[q.name]&&(O.valid=!1,M))break;!M&&(te(Lt,q.name)?be?kj(s.errors,Lt,q.name):ke(s.errors,q.name,Lt[q.name]):Fe(s.errors,q.name))}!xt(ae)&&await k(ae,M,O)}}return O.valid},C=()=>{for(const E of l.unMount){const M=te(a,E);M&&(M._f.refs?M._f.refs.every(O=>!il(O)):!il(M._f.ref))&&ve(E)}l.unMount=new Set},_=(E,M)=>!t.disabled&&(E&&M&&ke(o,E,M),!Fr(J(),n)),I=(E,M,O)=>mj(E,l,{...i.mount?o:Oe(M)?n:Ct(E)?{[E]:M}:M},O,M),L=E=>Ld(te(i.mount?o:n,E,t.shouldUnregister?te(n,E,[]):[])),R=(E,M,O={})=>{const X=te(a,E);let Z=M;if(X){const q=X._f;q&&(!q.disabled&&ke(o,E,Wp(M,q)),Z=Yo(q.ref)&&gt(M)?"":M,Bp(q.ref)?[...q.ref.options].forEach(ae=>ae.selected=Z.includes(ae.value)):q.refs?$n(q.ref)?q.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(Z)?ae.checked=!!Z.find(be=>be===ae.value):ae.checked=Z===ae.value||!!Z)}):q.refs.forEach(ae=>ae.checked=ae.value===Z):$d(q.ref)?q.ref.value="":(q.ref.value=Z,q.ref.type||x.state.next({name:E,values:Ze(o)})))}(O.shouldDirty||O.shouldTouch)&&S(E,Z,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&H(E)},U=(E,M,O)=>{for(const X in M){if(!M.hasOwnProperty(X))return;const Z=M[X],q=E+"."+X,ae=te(a,q);(l.array.has(E)||qe(Z)||ae&&!ae._f)&&!gs(Z)?U(q,Z,O):R(q,Z,O)}},P=(E,M,O={})=>{const X=te(a,E),Z=l.array.has(E),q=Ze(M);ke(o,E,q),Z?(x.array.next({name:E,values:Ze(o)}),(m.isDirty||m.dirtyFields||h.isDirty||h.dirtyFields)&&O.shouldDirty&&x.state.next({name:E,dirtyFields:$s(n,o),isDirty:_(E,q)})):X&&!X._f&&!gt(q)?U(E,q,O):R(E,q,O),Nm(E,l)&&x.state.next({...s,name:E}),x.state.next({name:i.mount?E:void 0,values:Ze(o)})},V=async E=>{i.mount=!0;const M=E.target;let O=M.name,X=!0;const Z=te(a,O),q=Se=>{X=Number.isNaN(Se)||gs(Se)&&isNaN(Se.getTime())||Fr(Se,te(o,O,Se))},ae=jm(t.mode),be=jm(t.reValidateMode);if(Z){let Se,Lt;const Vn=M.type?bm(Z._f):nj(E),Pr=E.type===pm.BLUR||E.type===pm.FOCUS_OUT,gx=!vj(Z._f)&&!t.resolver&&!te(s.errors,O)&&!Z._f.deps||wj(Pr,te(s.touchedFields,O),s.isSubmitted,be,ae),Pi=Nm(O,l,Pr);ke(o,O,Vn),Pr?(!M||!M.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(E),c&&c(0)):Z._f.onChange&&Z._f.onChange(E);const Ii=S(O,Vn,Pr),yx=!xt(Ii)||Pi;if(!Pr&&x.state.next({name:O,type:E.type,values:Ze(o)}),gx)return(m.isValid||h.isValid)&&(t.mode==="onBlur"?Pr&&j():Pr||j()),yx&&x.state.next({name:O,...Pi?{}:Ii});if(!Pr&&Pi&&x.state.next({...s}),t.resolver){const{errors:Hd}=await T([O]);if(q(Vn),X){const vx=km(s.errors,a,O),qd=km(Hd,a,vx.name||O);Se=qd.error,O=qd.name,Lt=xt(Hd)}}else b([O],!0),Se=(await Cm(Z,l.disabled,o,N,t.shouldUseNativeValidation))[O],b([O]),q(Vn),X&&(Se?Lt=!1:(m.isValid||h.isValid)&&(Lt=await k(a,!0)));X&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&H(Z._f.deps),A(O,Lt,Se,Ii))}},$=(E,M)=>{if(te(s.errors,M)&&E.focus)return E.focus(),1},H=async(E,M={})=>{let O,X;const Z=tn(E);if(t.resolver){const q=await p(Oe(E)?E:Z);O=xt(q),X=E?!Z.some(ae=>te(q,ae)):O}else E?(X=(await Promise.all(Z.map(async q=>{const ae=te(a,q);return await k(ae&&ae._f?{[q]:ae}:ae)}))).every(Boolean),!(!X&&!s.isValid)&&j()):X=O=await k(a);return x.state.next({...!Ct(E)||(m.isValid||h.isValid)&&O!==s.isValid?{}:{name:E},...t.resolver||!E?{isValid:O}:{},errors:s.errors}),M.shouldFocus&&!X&&rn(a,$,E?Z:l.mount),X},J=(E,M)=>{let O={...i.mount?o:n};return M&&(O=Vp(M.dirtyFields?s.dirtyFields:s.touchedFields,O)),Oe(E)?O:Ct(E)?te(O,E):E.map(X=>te(O,X))},D=(E,M)=>({invalid:!!te((M||s).errors,E),isDirty:!!te((M||s).dirtyFields,E),error:te((M||s).errors,E),isValidating:!!te(s.validatingFields,E),isTouched:!!te((M||s).touchedFields,E)}),z=E=>{E&&tn(E).forEach(M=>Fe(s.errors,M)),x.state.next({errors:E?s.errors:{}})},W=(E,M,O)=>{const X=(te(a,E,{_f:{}})._f||{}).ref,Z=te(s.errors,E)||{},{ref:q,message:ae,type:be,...Se}=Z;ke(s.errors,E,{...Se,...M,ref:X}),x.state.next({name:E,errors:s.errors,isValid:!1}),O&&O.shouldFocus&&X&&X.focus&&X.focus()},G=(E,M)=>Jt(E)?x.state.subscribe({next:O=>"values"in O&&E(I(void 0,M),O)}):I(E,M,!0),K=E=>x.state.subscribe({next:M=>{jj(E.name,M.name,E.exact)&&bj(M,E.formState||m,xx,E.reRenderRoot)&&E.callback({values:{...o},...s,...M,defaultValues:n})}}).unsubscribe,le=E=>(i.mount=!0,h={...h,...E.formState},K({...E,formState:h})),ve=(E,M={})=>{for(const O of E?tn(E):l.mount)l.mount.delete(O),l.array.delete(O),M.keepValue||(Fe(a,O),Fe(o,O)),!M.keepError&&Fe(s.errors,O),!M.keepDirty&&Fe(s.dirtyFields,O),!M.keepTouched&&Fe(s.touchedFields,O),!M.keepIsValidating&&Fe(s.validatingFields,O),!t.shouldUnregister&&!M.keepDefaultValue&&Fe(n,O);x.state.next({values:Ze(o)}),x.state.next({...s,...M.keepDirty?{isDirty:_()}:{}}),!M.keepIsValid&&j()},pt=({disabled:E,name:M})=>{(ar(E)&&i.mount||E||l.disabled.has(M))&&(E?l.disabled.add(M):l.disabled.delete(M))},Ei=(E,M={})=>{let O=te(a,E);const X=ar(M.disabled)||ar(t.disabled);return ke(a,E,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:E}},name:E,mount:!0,...M}}),l.mount.add(E),O?pt({disabled:ar(M.disabled)?M.disabled:t.disabled,name:E}):v(E,!0,M.value),{...X?{disabled:M.disabled||t.disabled}:{},...t.progressive?{required:!!M.required,min:La(M.min),max:La(M.max),minLength:La(M.minLength),maxLength:La(M.maxLength),pattern:La(M.pattern)}:{},name:E,onChange:V,onBlur:V,ref:Z=>{if(Z){Ei(E,M),O=te(a,E);const q=Oe(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,ae=hj(q),be=O._f.refs||[];if(ae?be.find(Se=>Se===q):q===O._f.ref)return;ke(a,E,{_f:{...O._f,...ae?{refs:[...be.filter(il),q,...Array.isArray(te(n,E))?[{}]:[]],ref:{type:q.type,name:E}}:{ref:q}}}),v(E,!1,void 0,q)}else O=te(a,E,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||M.shouldUnregister)&&!(ij(l.array,E)&&i.action)&&l.unMount.add(E)}}},Ai=()=>t.shouldFocusError&&rn(a,$,l.mount),hx=E=>{ar(E)&&(x.state.next({disabled:E}),rn(a,(M,O)=>{const X=te(a,O);X&&(M.disabled=X._f.disabled||E,Array.isArray(X._f.refs)&&X._f.refs.forEach(Z=>{Z.disabled=X._f.disabled||E}))},0,!1))},Ud=(E,M)=>async O=>{let X;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let Z=Ze(o);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:q,values:ae}=await T();s.errors=q,Z=Ze(ae)}else await k(a);if(l.disabled.size)for(const q of l.disabled)Fe(Z,q);if(Fe(s.errors,"root"),xt(s.errors)){x.state.next({errors:{}});try{await E(Z,O)}catch(q){X=q}}else M&&await M({...s.errors},O),Ai(),setTimeout(Ai);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xt(s.errors)&&!X,submitCount:s.submitCount+1,errors:s.errors}),X)throw X},fx=(E,M={})=>{te(a,E)&&(Oe(M.defaultValue)?P(E,Ze(te(n,E))):(P(E,M.defaultValue),ke(n,E,Ze(M.defaultValue))),M.keepTouched||Fe(s.touchedFields,E),M.keepDirty||(Fe(s.dirtyFields,E),s.isDirty=M.defaultValue?_(E,Ze(te(n,E))):_()),M.keepError||(Fe(s.errors,E),m.isValid&&j()),x.state.next({...s}))},Fd=(E,M={})=>{const O=E?Ze(E):n,X=Ze(O),Z=xt(E),q=Z?n:X;if(M.keepDefaultValues||(n=O),!M.keepValues){if(M.keepDirtyValues){const ae=new Set([...l.mount,...Object.keys($s(n,o))]);for(const be of Array.from(ae))te(s.dirtyFields,be)?ke(q,be,te(o,be)):P(be,te(q,be))}else{if(Rd&&Oe(E))for(const ae of l.mount){const be=te(a,ae);if(be&&be._f){const Se=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(Yo(Se)){const Lt=Se.closest("form");if(Lt){Lt.reset();break}}}}if(M.keepFieldsRef)for(const ae of l.mount)P(ae,te(q,ae));else a={}}o=t.shouldUnregister?M.keepDefaultValues?Ze(n):{}:Ze(q),x.array.next({values:{...q}}),x.state.next({values:{...q}})}l={mount:M.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!m.isValid||!!M.keepIsValid||!!M.keepDirtyValues,i.watch=!!t.shouldUnregister,x.state.next({submitCount:M.keepSubmitCount?s.submitCount:0,isDirty:Z?!1:M.keepDirty?s.isDirty:!!(M.keepDefaultValues&&!Fr(E,n)),isSubmitted:M.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Z?{}:M.keepDirtyValues?M.keepDefaultValues&&o?$s(n,o):s.dirtyFields:M.keepDefaultValues&&E?$s(n,E):M.keepDirty?s.dirtyFields:{},touchedFields:M.keepTouched?s.touchedFields:{},errors:M.keepErrors?s.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Vd=(E,M)=>Fd(Jt(E)?E(o):E,M),px=(E,M={})=>{const O=te(a,E),X=O&&O._f;if(X){const Z=X.refs?X.refs[0]:X.ref;Z.focus&&(Z.focus(),M.shouldSelect&&Jt(Z.select)&&Z.select())}},xx=E=>{s={...s,...E}},Bd={control:{register:Ei,unregister:ve,getFieldState:D,handleSubmit:Ud,setError:W,_subscribe:K,_runSchema:T,_focusError:Ai,_getWatch:I,_getDirty:_,_setValid:j,_setFieldArray:f,_setDisabledField:pt,_setErrors:y,_getFieldArray:L,_reset:Fd,_resetDefaultValues:()=>Jt(t.defaultValues)&&t.defaultValues().then(E=>{Vd(E,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:hx,_subjects:x,_proxyFormState:m,get _fields(){return a},get _formValues(){return o},get _state(){return i},set _state(E){i=E},get _defaultValues(){return n},get _names(){return l},set _names(E){l=E},get _formState(){return s},get _options(){return t},set _options(E){t={...t,...E}}},subscribe:le,trigger:H,register:Ei,handleSubmit:Ud,watch:G,setValue:P,getValues:J,reset:Vd,resetField:fx,clearErrors:z,unregister:ve,setError:W,setFocus:px,getFieldState:D};return{...Bd,formControl:Bd}}function Dn(e={}){const t=Pe.useRef(void 0),s=Pe.useRef(void 0),[a,n]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:Jt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Jt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!Jt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=Cj(e);t.current={...l,formState:a}}const o=t.current.control;return o._options=e,uj(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),o._formState.isReady=!0,i},[o]),Pe.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Pe.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),Pe.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),Pe.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Pe.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==a.isDirty&&o._subjects.state.next({isDirty:i})}},[o,a.isDirty]),Pe.useEffect(()=>{e.values&&!Fr(e.values,s.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),s.current=e.values,n(i=>({...i}))):o._resetDefaultValues()},[o,e.values]),Pe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=dj(a,o),t.current}const _m=(e,t,s)=>{if(e&&"reportValidity"in e){const a=te(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Zp=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?_m(a.ref,s,e):a.refs&&a.refs.forEach(n=>_m(n,s,e))}},_j=(e,t)=>{t.shouldUseNativeValidation&&Zp(e,t);const s={};for(const a in e){const n=te(t.fields,a),o=Object.assign(e[a]||{},{ref:n&&n.ref});if(Ej(t.names||Object.keys(e),a)){const i=Object.assign({},te(s,a));ke(i,"root",o),ke(s,a,i)}else ke(s,a,o)}return s},Ej=(e,t)=>e.some(s=>s.startsWith(t+"."));var Aj=function(e,t){for(var s={};e.length;){var a=e[0],n=a.code,o=a.message,i=a.path.join(".");if(!s[i])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];s[i]={message:l.message,type:l.code}}else s[i]={message:o,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(m){return m.errors.forEach(function(h){return e.push(h)})}),t){var c=s[i].types,d=c&&c[a.code];s[i]=Fp(i,t,s,n,d?[].concat(d,a.message):a.message)}e.shift()}return s},On=function(e,t,s){return s===void 0&&(s={}),function(a,n,o){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return o.shouldUseNativeValidation&&Zp({},o),{errors:{},values:s.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:_j(Aj(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},pe;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function s(n){throw new Error}e.assertNever=s,e.arrayToEnum=n=>{const o={};for(const i of n)o[i]=i;return o},e.getValidEnumValues=n=>{const o=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),i={};for(const l of o)i[l]=n[l];return e.objectValues(i)},e.objectValues=n=>e.objectKeys(n).map(function(o){return n[o]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const o=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&o.push(i);return o},e.find=(n,o)=>{for(const i of n)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,o=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=a,e.jsonStringifyReplacer=(n,o)=>typeof o=="bigint"?o.toString():o})(pe||(pe={}));var Em;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(Em||(Em={}));const re=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Or=e=>{switch(typeof e){case"undefined":return re.undefined;case"string":return re.string;case"number":return Number.isNaN(e)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(e)?re.array:e===null?re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?re.promise:typeof Map<"u"&&e instanceof Map?re.map:typeof Set<"u"&&e instanceof Set?re.set:typeof Date<"u"&&e instanceof Date?re.date:re.object;default:return re.unknown}},B=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(o){return o.message},a={_errors:[]},n=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)a._errors.push(s(i));else{let l=a,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(i))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(t){if(!(t instanceof Cr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},a=[];for(const n of this.issues)if(n.path.length>0){const o=n.path[0];s[o]=s[o]||[],s[o].push(t(n))}else a.push(t(n));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}Cr.create=e=>new Cr(e);const bc=(e,t)=>{let s;switch(e.code){case B.invalid_type:e.received===re.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case B.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,pe.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:s=`Unrecognized key(s) in object: ${pe.joinValues(e.keys,", ")}`;break;case B.invalid_union:s="Invalid input";break;case B.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${pe.joinValues(e.options)}`;break;case B.invalid_enum_value:s=`Invalid enum value. Expected ${pe.joinValues(e.options)}, received '${e.received}'`;break;case B.invalid_arguments:s="Invalid function arguments";break;case B.invalid_return_type:s="Invalid function return type";break;case B.invalid_date:s="Invalid date";break;case B.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:pe.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case B.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case B.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case B.custom:s="Invalid input";break;case B.invalid_intersection_types:s="Intersection results could not be merged";break;case B.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case B.not_finite:s="Number must be finite";break;default:s=t.defaultError,pe.assertNever(e)}return{message:s}};let Pj=bc;function Ij(){return Pj}const Tj=e=>{const{data:t,path:s,errorMaps:a,issueData:n}=e,o=[...s,...n.path||[]],i={...n,path:o};if(n.message!==void 0)return{...n,path:o,message:n.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(i,{data:t,defaultError:l}).message;return{...n,path:o,message:l}};function Y(e,t){const s=Ij(),a=Tj({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===bc?void 0:bc].filter(n=>!!n)});e.common.issues.push(a)}class Pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const a=[];for(const n of s){if(n.status==="aborted")return oe;n.status==="dirty"&&t.dirty(),a.push(n.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,s){const a=[];for(const n of s){const o=await n.key,i=await n.value;a.push({key:o,value:i})}return Pt.mergeObjectSync(t,a)}static mergeObjectSync(t,s){const a={};for(const n of s){const{key:o,value:i}=n;if(o.status==="aborted"||i.status==="aborted")return oe;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(a[o.value]=i.value)}return{status:t.value,value:a}}}const oe=Object.freeze({status:"aborted"}),qa=e=>({status:"dirty",value:e}),Vt=e=>({status:"valid",value:e}),Am=e=>e.status==="aborted",Pm=e=>e.status==="dirty",pa=e=>e.status==="valid",ei=e=>typeof Promise<"u"&&e instanceof Promise;var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(se||(se={}));class ns{constructor(t,s,a,n){this._cachedPath=[],this.parent=t,this.data=s,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Im=(e,t)=>{if(pa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Cr(e.common.issues);return this._error=s,this._error}}};function ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:a,description:n}=e;if(t&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:n}}class fe{get description(){return this._def.description}_getType(t){return Or(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:Or(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Pt,ctx:{common:t.parent.common,data:t.data,parsedType:Or(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(ei(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const a=this.safeParse(t,s);if(a.success)return a.data;throw a.error}safeParse(t,s){const a={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Or(t)},n=this._parseSync({data:t,path:a.path,parent:a});return Im(a,n)}"~validate"(t){var a,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Or(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:s});return pa(o)?{value:o.value}:{issues:s.common.issues}}catch(o){(n=(a=o==null?void 0:o.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(o=>pa(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(t,s){const a=await this.safeParseAsync(t,s);if(a.success)return a.data;throw a.error}async safeParseAsync(t,s){const a={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Or(t)},n=this._parse({data:t,path:a.path,parent:a}),o=await(ei(n)?n:Promise.resolve(n));return Im(a,o)}refine(t,s){const a=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,o)=>{const i=t(n),l=()=>o.addIssue({code:B.custom,...a(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,s){return this._refinement((a,n)=>t(a)?!0:(n.addIssue(typeof s=="function"?s(a,n):s),!1))}_refinement(t){return new ya({schema:this,typeName:ie.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return rs.create(this,this._def)}nullable(){return va.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ur.create(this)}promise(){return ai.create(this,this._def)}or(t){return ri.create([this,t],this._def)}and(t){return si.create(this,t,this._def)}transform(t){return new ya({...ue(this._def),schema:this,typeName:ie.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new kc({...ue(this._def),innerType:this,defaultValue:s,typeName:ie.ZodDefault})}brand(){return new tw({typeName:ie.ZodBranded,type:this,...ue(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new Sc({...ue(this._def),innerType:this,catchValue:s,typeName:ie.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return Od.create(this,t)}readonly(){return Cc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rj=/^c[^\s-]{8,}$/i,Lj=/^[0-9a-z]+$/,Mj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$j=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dj=/^[a-z0-9_-]{21}$/i,Oj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Uj=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ll;const Vj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Bj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Gj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Jp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zj=new RegExp(`^${Jp}$`);function Qp(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function Jj(e){return new RegExp(`^${Qp(e)}$`)}function Qj(e){let t=`${Jp}T${Qp(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function Kj(e,t){return!!((t==="v4"||!t)&&Vj.test(e)||(t==="v6"||!t)&&Hj.test(e))}function Yj(e,t){if(!Oj.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function Xj(e,t){return!!((t==="v4"||!t)&&Bj.test(e)||(t==="v6"||!t)&&qj.test(e))}class qr extends fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==re.string){const o=this._getOrReturnCtx(t);return Y(o,{code:B.invalid_type,expected:re.string,received:o.parsedType}),oe}const a=new Pt;let n;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(n=this._getOrReturnCtx(t,n),Y(n,{code:B.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if(o.kind==="max")t.data.length>o.value&&(n=this._getOrReturnCtx(t,n),Y(n,{code:B.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(n=this._getOrReturnCtx(t,n),i?Y(n,{code:B.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&Y(n,{code:B.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),a.dirty())}else if(o.kind==="email")Uj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"email",code:B.invalid_string,message:o.message}),a.dirty());else if(o.kind==="emoji")ll||(ll=new RegExp(Fj,"u")),ll.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"emoji",code:B.invalid_string,message:o.message}),a.dirty());else if(o.kind==="uuid")$j.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"uuid",code:B.invalid_string,message:o.message}),a.dirty());else if(o.kind==="nanoid")Dj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"nanoid",code:B.invalid_string,message:o.message}),a.dirty());else if(o.kind==="cuid")Rj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"cuid",code:B.invalid_string,message:o.message}),a.dirty());else if(o.kind==="cuid2")Lj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"cuid2",code:B.invalid_string,message:o.message}),a.dirty());else if(o.kind==="ulid")Mj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"ulid",code:B.invalid_string,message:o.message}),a.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Y(n,{validation:"url",code:B.invalid_string,message:o.message}),a.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"regex",code:B.invalid_string,message:o.message}),a.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(t,n),Y(n,{code:B.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),a.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(n=this._getOrReturnCtx(t,n),Y(n,{code:B.invalid_string,validation:{startsWith:o.value},message:o.message}),a.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(n=this._getOrReturnCtx(t,n),Y(n,{code:B.invalid_string,validation:{endsWith:o.value},message:o.message}),a.dirty()):o.kind==="datetime"?Qj(o).test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{code:B.invalid_string,validation:"datetime",message:o.message}),a.dirty()):o.kind==="date"?Zj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{code:B.invalid_string,validation:"date",message:o.message}),a.dirty()):o.kind==="time"?Jj(o).test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{code:B.invalid_string,validation:"time",message:o.message}),a.dirty()):o.kind==="duration"?zj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"duration",code:B.invalid_string,message:o.message}),a.dirty()):o.kind==="ip"?Kj(t.data,o.version)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"ip",code:B.invalid_string,message:o.message}),a.dirty()):o.kind==="jwt"?Yj(t.data,o.alg)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"jwt",code:B.invalid_string,message:o.message}),a.dirty()):o.kind==="cidr"?Xj(t.data,o.version)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"cidr",code:B.invalid_string,message:o.message}),a.dirty()):o.kind==="base64"?Wj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"base64",code:B.invalid_string,message:o.message}),a.dirty()):o.kind==="base64url"?Gj.test(t.data)||(n=this._getOrReturnCtx(t,n),Y(n,{validation:"base64url",code:B.invalid_string,message:o.message}),a.dirty()):pe.assertNever(o);return{status:a.value,value:t.data}}_regex(t,s,a){return this.refinement(n=>t.test(n),{validation:s,code:B.invalid_string,...se.errToObj(a)})}_addCheck(t){return new qr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...se.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...se.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...se.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...se.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...se.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...se.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...se.errToObj(s)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new qr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}qr.create=e=>new qr({checks:[],typeName:ie.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ue(e)});function ew(e,t){const s=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=s>a?s:a,o=Number.parseInt(e.toFixed(n).replace(".","")),i=Number.parseInt(t.toFixed(n).replace(".",""));return o%i/10**n}class xa extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==re.number){const o=this._getOrReturnCtx(t);return Y(o,{code:B.invalid_type,expected:re.number,received:o.parsedType}),oe}let a;const n=new Pt;for(const o of this._def.checks)o.kind==="int"?pe.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),Y(a,{code:B.invalid_type,expected:"integer",received:"float",message:o.message}),n.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(a=this._getOrReturnCtx(t,a),Y(a,{code:B.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(a=this._getOrReturnCtx(t,a),Y(a,{code:B.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="multipleOf"?ew(t.data,o.value)!==0&&(a=this._getOrReturnCtx(t,a),Y(a,{code:B.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),Y(a,{code:B.not_finite,message:o.message}),n.dirty()):pe.assertNever(o);return{status:n.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,se.toString(s))}gt(t,s){return this.setLimit("min",t,!1,se.toString(s))}lte(t,s){return this.setLimit("max",t,!0,se.toString(s))}lt(t,s){return this.setLimit("max",t,!1,se.toString(s))}setLimit(t,s,a,n){return new xa({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:se.toString(n)}]})}_addCheck(t){return new xa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pe.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(s)&&Number.isFinite(t)}}xa.create=e=>new xa({checks:[],typeName:ie.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ue(e)});class Cn extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==re.bigint)return this._getInvalidInput(t);let a;const n=new Pt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(a=this._getOrReturnCtx(t,a),Y(a,{code:B.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(a=this._getOrReturnCtx(t,a),Y(a,{code:B.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),Y(a,{code:B.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):pe.assertNever(o);return{status:n.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return Y(s,{code:B.invalid_type,expected:re.bigint,received:s.parsedType}),oe}gte(t,s){return this.setLimit("min",t,!0,se.toString(s))}gt(t,s){return this.setLimit("min",t,!1,se.toString(s))}lte(t,s){return this.setLimit("max",t,!0,se.toString(s))}lt(t,s){return this.setLimit("max",t,!1,se.toString(s))}setLimit(t,s,a,n){return new Cn({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:se.toString(n)}]})}_addCheck(t){return new Cn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Cn.create=e=>new Cn({checks:[],typeName:ie.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ue(e)});class jc extends fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==re.boolean){const a=this._getOrReturnCtx(t);return Y(a,{code:B.invalid_type,expected:re.boolean,received:a.parsedType}),oe}return Vt(t.data)}}jc.create=e=>new jc({typeName:ie.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ue(e)});class ti extends fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==re.date){const o=this._getOrReturnCtx(t);return Y(o,{code:B.invalid_type,expected:re.date,received:o.parsedType}),oe}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Y(o,{code:B.invalid_date}),oe}const a=new Pt;let n;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(n=this._getOrReturnCtx(t,n),Y(n,{code:B.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),a.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(n=this._getOrReturnCtx(t,n),Y(n,{code:B.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),a.dirty()):pe.assertNever(o);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ti({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}ti.create=e=>new ti({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ie.ZodDate,...ue(e)});class Tm extends fe{_parse(t){if(this._getType(t)!==re.symbol){const a=this._getOrReturnCtx(t);return Y(a,{code:B.invalid_type,expected:re.symbol,received:a.parsedType}),oe}return Vt(t.data)}}Tm.create=e=>new Tm({typeName:ie.ZodSymbol,...ue(e)});class Rm extends fe{_parse(t){if(this._getType(t)!==re.undefined){const a=this._getOrReturnCtx(t);return Y(a,{code:B.invalid_type,expected:re.undefined,received:a.parsedType}),oe}return Vt(t.data)}}Rm.create=e=>new Rm({typeName:ie.ZodUndefined,...ue(e)});class Lm extends fe{_parse(t){if(this._getType(t)!==re.null){const a=this._getOrReturnCtx(t);return Y(a,{code:B.invalid_type,expected:re.null,received:a.parsedType}),oe}return Vt(t.data)}}Lm.create=e=>new Lm({typeName:ie.ZodNull,...ue(e)});class Mm extends fe{constructor(){super(...arguments),this._any=!0}_parse(t){return Vt(t.data)}}Mm.create=e=>new Mm({typeName:ie.ZodAny,...ue(e)});class $m extends fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vt(t.data)}}$m.create=e=>new $m({typeName:ie.ZodUnknown,...ue(e)});class os extends fe{_parse(t){const s=this._getOrReturnCtx(t);return Y(s,{code:B.invalid_type,expected:re.never,received:s.parsedType}),oe}}os.create=e=>new os({typeName:ie.ZodNever,...ue(e)});class Dm extends fe{_parse(t){if(this._getType(t)!==re.undefined){const a=this._getOrReturnCtx(t);return Y(a,{code:B.invalid_type,expected:re.void,received:a.parsedType}),oe}return Vt(t.data)}}Dm.create=e=>new Dm({typeName:ie.ZodVoid,...ue(e)});class ur extends fe{_parse(t){const{ctx:s,status:a}=this._processInputParams(t),n=this._def;if(s.parsedType!==re.array)return Y(s,{code:B.invalid_type,expected:re.array,received:s.parsedType}),oe;if(n.exactLength!==null){const i=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(i||l)&&(Y(s,{code:i?B.too_big:B.too_small,minimum:l?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(Y(s,{code:B.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(Y(s,{code:B.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((i,l)=>n.type._parseAsync(new ns(s,i,s.path,l)))).then(i=>Pt.mergeArray(a,i));const o=[...s.data].map((i,l)=>n.type._parseSync(new ns(s,i,s.path,l)));return Pt.mergeArray(a,o)}get element(){return this._def.type}min(t,s){return new ur({...this._def,minLength:{value:t,message:se.toString(s)}})}max(t,s){return new ur({...this._def,maxLength:{value:t,message:se.toString(s)}})}length(t,s){return new ur({...this._def,exactLength:{value:t,message:se.toString(s)}})}nonempty(t){return this.min(1,t)}}ur.create=(e,t)=>new ur({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ie.ZodArray,...ue(t)});function Ds(e){if(e instanceof Ve){const t={};for(const s in e.shape){const a=e.shape[s];t[s]=rs.create(Ds(a))}return new Ve({...e._def,shape:()=>t})}else return e instanceof ur?new ur({...e._def,type:Ds(e.element)}):e instanceof rs?rs.create(Ds(e.unwrap())):e instanceof va?va.create(Ds(e.unwrap())):e instanceof Es?Es.create(e.items.map(t=>Ds(t))):e}class Ve extends fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=pe.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==re.object){const d=this._getOrReturnCtx(t);return Y(d,{code:B.invalid_type,expected:re.object,received:d.parsedType}),oe}const{status:a,ctx:n}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof os&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||l.push(d);const c=[];for(const d of i){const m=o[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new ns(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof os){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of l)c.push({key:{status:"valid",value:m},value:{status:"valid",value:n.data[m]}});else if(d==="strict")l.length>0&&(Y(n,{code:B.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of l){const h=n.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new ns(n,h,n.path,m)),alwaysSet:m in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const h=await m.key,x=await m.value;d.push({key:h,value:x,alwaysSet:m.alwaysSet})}return d}).then(d=>Pt.mergeObjectSync(a,d)):Pt.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new Ve({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,a)=>{var o,i;const n=((i=(o=this._def).errorMap)==null?void 0:i.call(o,s,a).message)??a.defaultError;return s.code==="unrecognized_keys"?{message:se.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ve({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ve({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ie.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new Ve({...this._def,catchall:t})}pick(t){const s={};for(const a of pe.objectKeys(t))t[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new Ve({...this._def,shape:()=>s})}omit(t){const s={};for(const a of pe.objectKeys(this.shape))t[a]||(s[a]=this.shape[a]);return new Ve({...this._def,shape:()=>s})}deepPartial(){return Ds(this)}partial(t){const s={};for(const a of pe.objectKeys(this.shape)){const n=this.shape[a];t&&!t[a]?s[a]=n:s[a]=n.optional()}return new Ve({...this._def,shape:()=>s})}required(t){const s={};for(const a of pe.objectKeys(this.shape))if(t&&!t[a])s[a]=this.shape[a];else{let o=this.shape[a];for(;o instanceof rs;)o=o._def.innerType;s[a]=o}return new Ve({...this._def,shape:()=>s})}keyof(){return Kp(pe.objectKeys(this.shape))}}Ve.create=(e,t)=>new Ve({shape:()=>e,unknownKeys:"strip",catchall:os.create(),typeName:ie.ZodObject,...ue(t)});Ve.strictCreate=(e,t)=>new Ve({shape:()=>e,unknownKeys:"strict",catchall:os.create(),typeName:ie.ZodObject,...ue(t)});Ve.lazycreate=(e,t)=>new Ve({shape:e,unknownKeys:"strip",catchall:os.create(),typeName:ie.ZodObject,...ue(t)});class ri extends fe{_parse(t){const{ctx:s}=this._processInputParams(t),a=this._def.options;function n(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new Cr(l.ctx.common.issues));return Y(s,{code:B.invalid_union,unionErrors:i}),oe}if(s.common.async)return Promise.all(a.map(async o=>{const i={...s,common:{...s.common,issues:[]},parent:null};return{result:await o._parseAsync({data:s.data,path:s.path,parent:i}),ctx:i}})).then(n);{let o;const i=[];for(const c of a){const d={...s,common:{...s.common,issues:[]},parent:null},m=c._parseSync({data:s.data,path:s.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(o)return s.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new Cr(c));return Y(s,{code:B.invalid_union,unionErrors:l}),oe}}get options(){return this._def.options}}ri.create=(e,t)=>new ri({options:e,typeName:ie.ZodUnion,...ue(t)});function wc(e,t){const s=Or(e),a=Or(t);if(e===t)return{valid:!0,data:e};if(s===re.object&&a===re.object){const n=pe.objectKeys(t),o=pe.objectKeys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of o){const c=wc(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(s===re.array&&a===re.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let o=0;o<e.length;o++){const i=e[o],l=t[o],c=wc(i,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===re.date&&a===re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class si extends fe{_parse(t){const{status:s,ctx:a}=this._processInputParams(t),n=(o,i)=>{if(Am(o)||Am(i))return oe;const l=wc(o.value,i.value);return l.valid?((Pm(o)||Pm(i))&&s.dirty(),{status:s.value,value:l.data}):(Y(a,{code:B.invalid_intersection_types}),oe)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([o,i])=>n(o,i)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}si.create=(e,t,s)=>new si({left:e,right:t,typeName:ie.ZodIntersection,...ue(s)});class Es extends fe{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==re.array)return Y(a,{code:B.invalid_type,expected:re.array,received:a.parsedType}),oe;if(a.data.length<this._def.items.length)return Y(a,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&a.data.length>this._def.items.length&&(Y(a,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const o=[...a.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ns(a,i,a.path,l)):null}).filter(i=>!!i);return a.common.async?Promise.all(o).then(i=>Pt.mergeArray(s,i)):Pt.mergeArray(s,o)}get items(){return this._def.items}rest(t){return new Es({...this._def,rest:t})}}Es.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Es({items:e,typeName:ie.ZodTuple,rest:null,...ue(t)})};class Om extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==re.map)return Y(a,{code:B.invalid_type,expected:re.map,received:a.parsedType}),oe;const n=this._def.keyType,o=this._def.valueType,i=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new ns(a,l,a.path,[d,"key"])),value:o._parse(new ns(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return oe;(d.status==="dirty"||m.status==="dirty")&&s.dirty(),l.set(d.value,m.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of i){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return oe;(d.status==="dirty"||m.status==="dirty")&&s.dirty(),l.set(d.value,m.value)}return{status:s.value,value:l}}}}Om.create=(e,t,s)=>new Om({valueType:t,keyType:e,typeName:ie.ZodMap,...ue(s)});class _n extends fe{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==re.set)return Y(a,{code:B.invalid_type,expected:re.set,received:a.parsedType}),oe;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(Y(a,{code:B.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(Y(a,{code:B.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const o=this._def.valueType;function i(c){const d=new Set;for(const m of c){if(m.status==="aborted")return oe;m.status==="dirty"&&s.dirty(),d.add(m.value)}return{status:s.value,value:d}}const l=[...a.data.values()].map((c,d)=>o._parse(new ns(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,s){return new _n({...this._def,minSize:{value:t,message:se.toString(s)}})}max(t,s){return new _n({...this._def,maxSize:{value:t,message:se.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}_n.create=(e,t)=>new _n({valueType:e,minSize:null,maxSize:null,typeName:ie.ZodSet,...ue(t)});class zm extends fe{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}zm.create=(e,t)=>new zm({getter:e,typeName:ie.ZodLazy,...ue(t)});class Nc extends fe{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return Y(s,{received:s.data,code:B.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Nc.create=(e,t)=>new Nc({value:e,typeName:ie.ZodLiteral,...ue(t)});function Kp(e,t){return new ga({values:e,typeName:ie.ZodEnum,...ue(t)})}class ga extends fe{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),a=this._def.values;return Y(s,{expected:pe.joinValues(a),received:s.parsedType,code:B.invalid_type}),oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),a=this._def.values;return Y(s,{received:s.data,code:B.invalid_enum_value,options:a}),oe}return Vt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return ga.create(t,{...this._def,...s})}exclude(t,s=this._def){return ga.create(this.options.filter(a=>!t.includes(a)),{...this._def,...s})}}ga.create=Kp;class Um extends fe{_parse(t){const s=pe.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==re.string&&a.parsedType!==re.number){const n=pe.objectValues(s);return Y(a,{expected:pe.joinValues(n),received:a.parsedType,code:B.invalid_type}),oe}if(this._cache||(this._cache=new Set(pe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=pe.objectValues(s);return Y(a,{received:a.data,code:B.invalid_enum_value,options:n}),oe}return Vt(t.data)}get enum(){return this._def.values}}Um.create=(e,t)=>new Um({values:e,typeName:ie.ZodNativeEnum,...ue(t)});class ai extends fe{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==re.promise&&s.common.async===!1)return Y(s,{code:B.invalid_type,expected:re.promise,received:s.parsedType}),oe;const a=s.parsedType===re.promise?s.data:Promise.resolve(s.data);return Vt(a.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ai.create=(e,t)=>new ai({type:e,typeName:ie.ZodPromise,...ue(t)});class ya extends fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:a}=this._processInputParams(t),n=this._def.effect||null,o={addIssue:i=>{Y(a,i),i.fatal?s.abort():s.dirty()},get path(){return a.path}};if(o.addIssue=o.addIssue.bind(o),n.type==="preprocess"){const i=n.transform(a.data,o);if(a.common.async)return Promise.resolve(i).then(async l=>{if(s.value==="aborted")return oe;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?oe:c.status==="dirty"||s.value==="dirty"?qa(c.value):c});{if(s.value==="aborted")return oe;const l=this._def.schema._parseSync({data:i,path:a.path,parent:a});return l.status==="aborted"?oe:l.status==="dirty"||s.value==="dirty"?qa(l.value):l}}if(n.type==="refinement"){const i=l=>{const c=n.refinement(l,o);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?oe:(l.status==="dirty"&&s.dirty(),i(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?oe:(l.status==="dirty"&&s.dirty(),i(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!pa(i))return oe;const l=n.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>pa(i)?Promise.resolve(n.transform(i.value,o)).then(l=>({status:s.value,value:l})):oe);pe.assertNever(n)}}ya.create=(e,t,s)=>new ya({schema:e,typeName:ie.ZodEffects,effect:t,...ue(s)});ya.createWithPreprocess=(e,t,s)=>new ya({schema:t,effect:{type:"preprocess",transform:e},typeName:ie.ZodEffects,...ue(s)});class rs extends fe{_parse(t){return this._getType(t)===re.undefined?Vt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rs.create=(e,t)=>new rs({innerType:e,typeName:ie.ZodOptional,...ue(t)});class va extends fe{_parse(t){return this._getType(t)===re.null?Vt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}va.create=(e,t)=>new va({innerType:e,typeName:ie.ZodNullable,...ue(t)});class kc extends fe{_parse(t){const{ctx:s}=this._processInputParams(t);let a=s.data;return s.parsedType===re.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}kc.create=(e,t)=>new kc({innerType:e,typeName:ie.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ue(t)});class Sc extends fe{_parse(t){const{ctx:s}=this._processInputParams(t),a={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return ei(n)?n.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Cr(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Cr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Sc.create=(e,t)=>new Sc({innerType:e,typeName:ie.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ue(t)});class Fm extends fe{_parse(t){if(this._getType(t)!==re.nan){const a=this._getOrReturnCtx(t);return Y(a,{code:B.invalid_type,expected:re.nan,received:a.parsedType}),oe}return{status:"valid",value:t.data}}}Fm.create=e=>new Fm({typeName:ie.ZodNaN,...ue(e)});class tw extends fe{_parse(t){const{ctx:s}=this._processInputParams(t),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class Od extends fe{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?oe:o.status==="dirty"?(s.dirty(),qa(o.value)):this._def.out._parseAsync({data:o.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?oe:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(t,s){return new Od({in:t,out:s,typeName:ie.ZodPipeline})}}class Cc extends fe{_parse(t){const s=this._def.innerType._parse(t),a=n=>(pa(n)&&(n.value=Object.freeze(n.value)),n);return ei(s)?s.then(n=>a(n)):a(s)}unwrap(){return this._def.innerType}}Cc.create=(e,t)=>new Cc({innerType:e,typeName:ie.ZodReadonly,...ue(t)});var ie;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ie||(ie={}));const xe=qr.create,Vm=xa.create,Yp=jc.create;os.create;const rw=ur.create,zn=Ve.create;ri.create;si.create;Es.create;const Ht=Nc.create,wo=ga.create;ai.create;rs.create;va.create;const sw=zn({email:xe().min(1,"El email es requerido").email("Email invlido"),password:xe().min(6,"La contrasea debe tener al menos 6 caracteres")}),Xp=({onSuccess:e})=>{const[t,s]=g.useState(!1),{login:a,isLoading:n,error:o,clearError:i}=$e(),{register:l,handleSubmit:c,formState:{errors:d},reset:m}=Dn({resolver:On(sw)}),h=async x=>{try{ge.auth.info(" Iniciando proceso de login",{email:x.email}),i(),ge.time("login-form-submit"),await a(x),ge.timeEnd("login-form-submit"),ge.auth.info(" Login exitoso desde formulario"),m(),e==null||e()}catch(N){ge.auth.error(" Error en login desde formulario:",N),console.error("Error en login:",N)}};return r.jsx("div",{className:"w-full max-w-md mx-auto",children:r.jsx("div",{className:"relative rounded-3xl border border-primary-100 bg-white/90 shadow-xl backdrop-blur-sm",children:r.jsxs("div",{className:"px-8 py-10 sm:px-10 sm:py-12",children:[r.jsxs("div",{className:"flex flex-col items-center text-center gap-4 mb-8",children:[r.jsx("span",{className:"inline-flex h-14 w-14 items-center justify-center rounded-2xl bg-primary-50 text-primary-500 ring-1 ring-primary-100",children:r.jsx(hb,{className:"h-7 w-7","aria-hidden":"true"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Iniciar sesin"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Accede a tu cuenta para gestionar tus actividades en ACA Chile."})]})]}),o&&r.jsx("div",{className:"mb-6 rounded-xl border border-primary-200 bg-primary-50 px-4 py-3 text-sm text-primary-600",children:o}),r.jsxs("form",{onSubmit:c(h),className:"space-y-6",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(er,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400"}),r.jsx("input",{...l("email"),type:"email",placeholder:"tu-email@ejemplo.com",className:`w-full rounded-2xl border border-slate-200 bg-slate-50/80 py-3 pl-12 pr-4 text-sm text-slate-900 placeholder:text-slate-400 transition focus:border-primary-400 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary-100 ${d.email?"border-primary-300 focus:border-primary-400 focus:ring-primary-200":""}`,autoComplete:"email"})]}),d.email&&r.jsx("p",{className:"text-sm text-primary-500",children:d.email.message})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Contrasea"}),r.jsxs("div",{className:"relative",children:[r.jsx(sa,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400"}),r.jsx("input",{...l("password"),type:t?"text":"password",placeholder:"Tu contrasea",className:`w-full rounded-2xl border border-slate-200 bg-slate-50/80 py-3 pl-12 pr-12 text-sm text-slate-900 placeholder:text-slate-400 transition focus:border-primary-400 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary-100 ${d.password?"border-primary-300 focus:border-primary-400 focus:ring-primary-200":""}`,autoComplete:"current-password"}),r.jsx("button",{type:"button",onClick:()=>s(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 rounded-xl p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-200","aria-label":t?"Ocultar contrasea":"Mostrar contrasea",children:t?r.jsx(ra,{className:"h-5 w-5","aria-hidden":"true"}):r.jsx(ot,{className:"h-5 w-5","aria-hidden":"true"})})]}),d.password&&r.jsx("p",{className:"text-sm text-primary-500",children:d.password.message})]}),r.jsx("button",{type:"submit",disabled:n,className:`w-full rounded-2xl bg-gradient-to-r from-primary-500 to-primary-600 px-4 py-3 text-base font-semibold text-white shadow-lg shadow-primary-200/70 transition hover:from-primary-600 hover:to-primary-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white ${n?"cursor-not-allowed opacity-80":""}`,children:n?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Iniciando sesin..."]}):"Iniciar sesin"}),r.jsxs("div",{className:"space-y-3 text-center text-sm text-slate-500",children:[r.jsxs("p",{children:["Quieres formar parte de ACA Chile?"," ",r.jsx(ne,{to:"/unete",className:"font-semibold text-primary-600 transition hover:text-primary-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white",children:"nete a ACA"})]}),r.jsx("div",{children:r.jsx(ne,{to:"/forgot-password",className:"font-medium text-slate-500 transition hover:text-slate-700",children:"Olvidaste tu contrasea?"})})]})]})]})})})},aw=({isOpen:e,onClose:t})=>{const s=Rt();if(g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const a=()=>{t(),s("/eventos")},n=o=>{o.target===o.currentTarget&&t()};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:n,children:r.jsxs("div",{className:"relative w-full max-w-lg max-h-screen overflow-y-auto",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 rounded-full transition-all duration-200 hover:scale-110",style:{backgroundColor:"#e8ecf4",boxShadow:"6px 6px 12px #bec8d7, -6px -6px 12px #ffffff"},children:r.jsx(Ye,{className:"w-5 h-5",style:{color:"#6B7280"}})}),r.jsxs("div",{className:"animate-fade-in space-y-6",children:[r.jsx(Xp,{onSuccess:a}),r.jsxs("div",{className:"text-center text-sm text-slate-500",children:["No tienes acceso todava?"," ",r.jsx("button",{onClick:()=>{t(),s("/unete")},className:"font-semibold text-primary-600 hover:text-primary-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white rounded-lg px-1",children:"nete a ACA"})]})]})]})})},nw=()=>{const{hasPermission:e,hasRole:t,canManage:s,isAdmin:a,isDirector:n,isDirectorEditor:o,isUsuario:i,getUserRole:l,getRoleDisplayName:c,getRoleColor:d}=$e();return{hasPermission:e,hasRole:t,canManage:s,isAdmin:a(),isDirector:n(),isDirectorEditor:o(),isUsuario:i(),getUserRole:l,getRoleDisplayName:c(),getRoleColor:d(),canManageUsers:e("manage_users"),canManageEvents:e("manage_events"),canManageContent:e("manage_content"),canViewAnalytics:e("view_analytics"),canModerate:e("moderate_community"),canAccessAdminPanel:e("access_admin_panel"),canAccessDirectorPanel:e("access_director_panel"),canAccessEditorPanel:e("access_editor_panel")}},ow=()=>{var h,x;const[e,t]=g.useState(!1),{user:s,logout:a,getRoleDisplayName:n,getRoleColor:o}=$e(),{isAdmin:i,isDirector:l,isDirectorEditor:c}=nw(),d=Rt();if(!s)return null;const m=()=>{a(),t(!1)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-3 px-4 py-2 bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105 group",children:[r.jsx("div",{className:"rounded-full bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-xs overflow-hidden",style:{width:"32px",height:"32px",minWidth:"32px",minHeight:"32px",maxWidth:"32px",maxHeight:"32px"},children:s.avatar?r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",overflow:"hidden",position:"relative",backgroundColor:"#f3f4f6"},children:r.jsx("img",{src:s.avatar,alt:s.name,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center top",display:"block"}})}):r.jsx("div",{style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("span",{className:"text-white font-bold text-sm",children:((x=(h=s.name)==null?void 0:h.charAt(0))==null?void 0:x.toUpperCase())||"U"})})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-sm text-neutral-700 group-hover:text-primary-600 transition-colors",children:s.name}),r.jsx("p",{className:"text-xs text-neutral-500",children:n()})]}),r.jsx(_v,{className:`w-4 h-4 transition-transform duration-200 text-neutral-500 group-hover:text-primary-500 ${e?"rotate-180":""}`})]})]}),e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),r.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white/70 backdrop-blur-soft border border-white/30 rounded-2xl py-2 shadow-soft-lg z-20",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-neutral-200/50",children:[r.jsx("p",{className:"font-semibold text-neutral-700",children:s.name}),r.jsx("p",{className:"text-sm text-neutral-600",children:s.email}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.region&&r.jsxs("p",{className:"text-xs text-neutral-500",children:[" ",s.region]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full bg-${o()}-50 text-${o()}-600 border border-${o()}-200/50`,children:n()})]})]}),r.jsxs("div",{className:"py-2",children:[(i||l||c)&&r.jsxs("button",{onClick:()=>{t(!1),d("/panel-admin")},className:"flex items-center w-full px-4 py-3 text-left text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-200 rounded-lg mx-2",children:[r.jsx(Ko,{className:"w-4 h-4 mr-3"}),"Panel Administrativo"]}),r.jsxs("button",{onClick:()=>{t(!1),d("/perfil")},className:"flex items-center w-full px-4 py-3 text-left text-neutral-700 hover:bg-white/50 hover:text-primary-600 transition-all duration-200 rounded-lg mx-2",children:[r.jsx(ir,{className:"w-4 h-4 mr-3"}),"Mi Perfil"]}),r.jsxs("button",{onClick:()=>{t(!1),d("/mi-cuenta")},className:"flex items-center w-full px-4 py-3 text-left text-neutral-700 hover:bg-white/50 hover:text-primary-600 transition-all duration-200 rounded-lg mx-2",children:[r.jsx(ye,{className:"w-4 h-4 mr-3"}),"Mi Cuenta"]}),r.jsxs("button",{onClick:()=>{t(!1),d("/configuracion")},className:"flex items-center w-full px-4 py-3 text-left text-neutral-700 hover:bg-white/50 hover:text-primary-600 transition-all duration-200 rounded-lg mx-2",children:[r.jsx(Pd,{className:"w-4 h-4 mr-3"}),"Configuracin"]}),r.jsx("hr",{className:"my-2 border-neutral-200/50 mx-2"}),r.jsxs("button",{onClick:m,className:"flex items-center w-full px-4 py-3 text-left text-red-500 hover:bg-red-50 hover:text-red-600 transition-all duration-200 rounded-lg mx-2",children:[r.jsx(fc,{className:"w-4 h-4 mr-3"}),"Cerrar Sesin"]})]})]})]})]})},cl="https://acachile.pages.dev";class iw{getAuthHeaders(){const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}getShareUrl(t,s,a){switch(t){case"facebook":return`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`;case"twitter":return`https://twitter.com/intent/tweet?url=${encodeURIComponent(s)}&text=${encodeURIComponent(a)}`;case"whatsapp":return`https://wa.me/?text=${encodeURIComponent(`${a} ${s}`)}`;default:return s}}async copyToClipboard(t){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(t),!0;{const s=document.createElement("textarea");return s.value=t,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select(),document.execCommand("copy")}}catch(s){return console.error("Error copiando al portapapeles:",s),!1}}async search(t){try{const s=new URLSearchParams;s.append("q",t.query),t.type&&s.append("type",t.type),t.dateFrom&&s.append("dateFrom",t.dateFrom),t.dateTo&&s.append("dateTo",t.dateTo),t.category&&s.append("category",t.category),t.location&&s.append("location",t.location),t.limit&&s.append("limit",t.limit.toString()),t.offset&&s.append("offset",t.offset.toString());const a=await fetch(`${cl}/api/search?${s.toString()}`,{method:"GET",headers:this.getAuthHeaders()});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();return{success:n.success,data:n.data}}catch(s){return console.error("Error searching:",s),{success:!1,error:s instanceof Error?s.message:"Error en bsqueda"}}}async getSuggestions(t,s){try{const a=new URLSearchParams;a.append("q",t),s&&a.append("limit",s.toString());const n=await fetch(`${cl}/api/search/suggestions?${a.toString()}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();return{success:o.success,data:o.data||[]}}catch(a){return console.error("Error getting suggestions:",a),{success:!1,data:[],error:a instanceof Error?a.message:"Error obteniendo sugerencias"}}}async advancedSearch(t){var s,a;try{const n=new URLSearchParams;if(t.query&&n.append("q",t.query),t.tipo&&n.append("type",t.tipo),t.limit&&n.append("limit",t.limit.toString()),t.page){const m=(t.page-1)*(t.limit||10);n.append("offset",m.toString())}const o=await fetch(`${cl}/api/search?${n.toString()}`,{method:"GET",headers:this.getAuthHeaders()});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const i=await o.json(),l=((s=i.data)==null?void 0:s.total)||0,c=t.limit||10,d=t.page||1;return{success:!0,data:{results:((a=i.data)==null?void 0:a.combined)||[],pagination:{page:d,limit:c,total:l,pages:Math.ceil(l/c)},filters:t}}}catch(n){return console.error("Error in advanced search:",n),{success:!1,error:n instanceof Error?n.message:"Error en bsqueda avanzada"}}}async getPopularSearches(){try{return{success:!0,data:{eventos:[{titulo:"Campeonato Nacional de Asado",popularidad:95},{titulo:"Competencia de Asado Rpido",popularidad:78},{titulo:"Encuentro de Asadores",popularidad:65}],noticias:[{titulo:"Campeonato Mundial de Barbacoa 2024",vistas:1250},{titulo:"Curso de Tcnicas Bsicas de Asado",vistas:890},{titulo:"Masterclass: Secretos del Asado Patagnico",vistas:650}],terminos:["asado","parrilla","campeonato","barbacoa","tcnicas"]}}}catch(t){return console.error("Error getting popular searches:",t),{success:!1,error:t instanceof Error?t.message:"Error obteniendo bsquedas populares"}}}static getShareUrl(t,s,a){const n=encodeURIComponent(s),o=encodeURIComponent(a);switch(t){case"facebook":return`https://www.facebook.com/sharer/sharer.php?u=${n}`;case"twitter":return`https://twitter.com/intent/tweet?url=${n}&text=${o}`;case"whatsapp":return`https://wa.me/?text=${o}%20${n}`;default:return s}}static async copyToClipboard(t){try{return await navigator.clipboard.writeText(t),!0}catch(s){console.error("Error copying to clipboard:",s);const a=document.createElement("textarea");a.value=t,document.body.appendChild(a),a.focus(),a.select();try{const n=document.execCommand("copy");return document.body.removeChild(a),n}catch{return document.body.removeChild(a),!1}}}}const Wr=new iw,Bm="recentSearches",Hm=({placeholder:e="Buscar eventos, noticias...",size:t="medium",className:s="",style:a})=>{const n=Rt(),[o,i]=g.useState(""),[l,c]=g.useState([]),[d,m]=g.useState([]),[h,x]=g.useState([]),[N,w]=g.useState(!1),[j,b]=g.useState(!1),[f,u]=g.useState(!1),y=g.useRef(null),v=g.useRef(null),S=g.useRef(0);g.useEffect(()=>{if(!(typeof window>"u"))try{const D=localStorage.getItem(Bm);if(D){const z=JSON.parse(D);Array.isArray(z)&&x(z.slice(0,5))}}catch(D){ge.search.error("Error cargando bsquedas recientes",D)}},[]);const A=g.useCallback(D=>{if(typeof window>"u")return;const z=D.trim();z&&x(W=>{const G=[z,...W.filter(K=>K.toLowerCase()!==z.toLowerCase())].slice(0,5);try{localStorage.setItem(Bm,JSON.stringify(G))}catch(K){ge.search.error("Error guardando bsquedas recientes",K)}return G})},[]),T=g.useCallback(D=>{if(!D)return null;const z=D.title||D.name||D.fullName;if(!z)return null;const W=typeof D.url=="string"?D.url:typeof D.slug=="string"?D.slug:D.type==="evento"?`/eventos/${D.id}`:D.type==="noticia"?`/noticias/${D.id}`:D.type==="usuario"?`/socios/${D.id}`:void 0;if(!W)return null;const G=W.startsWith("http")||W.startsWith("/")?W:`/${W}`,K=D.metadata&&typeof D.metadata=="object"?D.metadata:{};return{id:D.id??G,title:z,description:D.description||D.excerpt||D.summary||D.location||K.pageLabel||K.city||K.region||"",date:D.date||D.publishedAt||D.createdAt||"",url:G,type:D.type||D.category,relevance:typeof D.relevance=="number"?D.relevance:void 0}},[]),p=g.useCallback(async D=>{const z=D.trim();if(z.length<2)return;const W=++S.current;try{ge.search.debug("Cargando sugerencias",{query:z}),b(!0);const[G,K]=await Promise.all([Wr.getSuggestions(z,6),Wr.search({query:z,type:"all",limit:5})]);if(S.current!==W)return;if(G.success&&Array.isArray(G.data)?c(G.data):(c([]),G.error&&ge.search.warn("Sugerencias no disponibles",{error:G.error})),K.success&&K.data){const ve=(Array.isArray(K.data.combined)?K.data.combined:[...Array.isArray(K.data.eventos)?K.data.eventos:[],...Array.isArray(K.data.noticias)?K.data.noticias:[],...Array.isArray(K.data.usuarios)?K.data.usuarios:[],...Array.isArray(K.data.secciones)?K.data.secciones:[]]).map(T).filter(pt=>pt!==null).slice(0,5);m(ve)}else m([]),K.error&&ge.search.warn("No se pudieron cargar resultados de vista previa",{error:K.error});w(!0)}catch(G){if(S.current!==W)return;ge.search.error("Error cargando sugerencias",G),c([]),m([]),w(!0)}finally{S.current===W&&b(!1)}},[T]);g.useEffect(()=>{const D=setTimeout(()=>{const z=o.trim();z.length>1?p(z):(c([]),m([]),w(!1))},300);return()=>clearTimeout(D)},[o,p]);const k=g.useCallback(D=>{const z=o.trim();if(!z)return D;const W=D.toLowerCase(),G=z.toLowerCase(),K=W.indexOf(G);if(K===-1)return D;const le=K+G.length;return r.jsxs(r.Fragment,{children:[D.slice(0,K),r.jsx("span",{className:"font-semibold text-red-600",children:D.slice(K,le)}),D.slice(le)]})},[o]),C=g.useCallback(D=>{switch(D){case"evento":return r.jsx(ye,{className:"h-4 w-4 text-red-500"});case"noticia":return r.jsx(xc,{className:"h-4 w-4 text-blue-500"});case"usuario":return r.jsx(Ni,{className:"h-4 w-4 text-amber-500"});case"section":return r.jsx(Qt,{className:"h-4 w-4 text-emerald-500"});default:return r.jsx(Qe,{className:"h-4 w-4 text-gray-400"})}},[]),_=g.useCallback(D=>{var W;if(!D.url)return;const z=o.trim();A(z||D.title),w(!1),m([]),c([]),i(""),(W=v.current)==null||W.blur(),n(D.url)},[n,o,A]);g.useEffect(()=>{const D=z=>{y.current&&!y.current.contains(z.target)&&(w(!1),u(!1))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const I=(D=o)=>{var W;const z=D.trim();if(!z){ge.search.warn("Bsqueda vaca ignorada");return}ge.search.info("Ejecutando bsqueda",{query:z,source:"SearchBar"}),A(z),n(`/buscar?q=${encodeURIComponent(z)}`),w(!1),m([]),c([]),i(""),(W=v.current)==null||W.blur()},L=D=>{var z;D.key==="Enter"?(D.preventDefault(),I()):D.key==="Escape"&&(w(!1),(z=v.current)==null||z.blur())},R=D=>{i(D),I(D)},U={small:"h-8 text-sm",medium:"h-10 text-base",large:"h-12 text-lg"},P={small:"h-4 w-4",medium:"h-5 w-5",large:"h-6 w-6"},V=t,$=f||N||o.trim().length>0,J={width:{small:{base:"100%",expanded:"100%"},medium:{base:"min(100%, 24rem)",expanded:"min(100%, 40rem)"},large:{base:"min(100%, 28rem)",expanded:"min(100%, 48rem)"}}[V][$?"expanded":"base"],transition:"width 0.3s ease, transform 0.3s ease",margin:"0 auto",...a};return r.jsxs("div",{ref:y,className:`
        relative transition-all duration-300 ease-in-out
        ${s}
      `,style:J,children:[r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 ${P[V]}`}),r.jsx("input",{ref:v,type:"text",value:o,onChange:D=>i(D.target.value),onKeyDown:L,onFocus:()=>{u(!0),o.trim().length>1&&w(!0)},onBlur:()=>{window.setTimeout(()=>{if(!y.current){u(!1);return}y.current.contains(document.activeElement)||u(!1)},120)},placeholder:e,className:`
            w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg 
            focus:ring-2 focus:ring-red-500 focus:border-transparent 
            bg-white shadow-sm transition-all
            ${U[t]}
          `}),j&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-600",children:r.jsx(Ue,{className:"h-4 w-4 animate-spin"})})]}),N&&o.trim().length>1&&r.jsx("div",{className:"absolute top-full left-0 mt-2 w-full max-w-screen-sm lg:min-w-[28rem] lg:w-[36rem] lg:max-w-2xl bg-white rounded-2xl shadow-xl border border-gray-200 z-50 overflow-hidden",children:r.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[l.length>0&&r.jsxs("div",{className:"py-2",children:[r.jsx("div",{className:"px-4 pb-2 text-xs font-semibold text-gray-500 uppercase",children:"Sugerencias"}),l.map((D,z)=>r.jsxs("button",{onClick:()=>R(D),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-start gap-3 transition-colors",children:[r.jsx(Qe,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-900 text-sm whitespace-normal leading-5",children:k(D)})]},`${D}-${z}`))]}),d.length>0&&r.jsxs("div",{className:"py-2 border-t border-gray-100",children:[r.jsx("div",{className:"px-4 pb-2 text-xs font-semibold text-gray-500 uppercase",children:"Resultados destacados"}),d.map(D=>r.jsx("button",{onClick:()=>_(D),className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"mt-0.5",children:C(D.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-gray-500 font-semibold",children:[r.jsx("span",{children:D.type||"Recurso"}),D.date&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:""}),r.jsx("span",{children:new Date(D.date).toLocaleDateString("es-CL")})]})]}),r.jsx("div",{className:"text-sm font-semibold text-gray-900 mt-1",children:D.title}),D.description&&r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description})]})]})},`${D.type}-${D.id}`))]}),l.length===0&&d.length===0&&!j&&r.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[r.jsx(Qe,{className:"h-8 w-8 text-gray-300 mx-auto mb-3"}),r.jsxs("p",{className:"text-sm font-medium",children:['No encontramos coincidencias para "',o.trim(),'"']}),r.jsx("p",{className:"text-xs mt-2",children:"Presiona Enter para buscar en todo el sitio"})]}),l.length===0&&d.length===0&&!j&&r.jsxs("div",{className:"border-t border-gray-100 px-4 py-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[r.jsx(ki,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"Bsquedas populares"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:["calendario de eventos","quines somos","noticias ACA","directorio de socios"].map(D=>r.jsx("button",{onClick:()=>R(D),className:"text-left text-sm text-gray-700 px-3 py-2 rounded-lg border border-gray-200 hover:border-red-200 hover:bg-red-50 transition-colors",children:D},D))})]}),r.jsx(lw,{searches:h,onSearchClick:R})]})})]})},lw=({searches:e,onSearchClick:t})=>!e||e.length===0?null:r.jsxs("div",{className:"border-t border-gray-100",children:[r.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Bsquedas recientes"}),e.slice(0,5).map((s,a)=>r.jsxs("button",{onClick:()=>t(s),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center transition-colors",children:[r.jsx(mr,{className:"h-4 w-4 text-gray-400 mr-3"}),r.jsx("span",{className:"text-gray-700 text-sm",children:s})]},`${s}-${a}`))]}),cw="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMTgwIiByb2xlPSJpbWciIGFyaWEtbGFiZWxsZWRieT0idGl0bGUgZGVzYyI+CiAgPHRpdGxlIGlkPSJ0aXRsZSI+QUNBIENoaWxlIExvZ28gUGxhY2Vob2xkZXI8L3RpdGxlPgogIDxkZXNjIGlkPSJkZXNjIj5DaXJjdWxhciBlbWJsZW0gd2l0aCB0aGUgbGV0dGVycyBBQ0EgaW4gdGhlIGNlbnRyZS48L2Rlc2M+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWQiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjZDk0NjNiIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Y5NzMxNiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPGNpcmNsZSBjeD0iOTAiIGN5PSI5MCIgcj0iODYiIGZpbGw9IiMxZjI5MzciLz4KICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjkwIiByPSI3NiIgZmlsbD0idXJsKCNncmFkKSIvPgogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIgogICAgICAgIGZvbnQtZmFtaWx5PSJNb250c2VycmF0LCAnU2Vnb2UgVUknLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjY0IgogICAgICAgIGZvbnQtd2VpZ2h0PSI3MDAiIGZpbGw9IiNmZmYiPkFDQTwvdGV4dD4KICA8dGV4dCB4PSI1MCUiIHk9IjEyNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIKICAgICAgICBmb250LWZhbWlseT0iTW9udHNlcnJhdCwgJ1NlZ29lIFVJJywgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIyMCIKICAgICAgICBmb250LXdlaWdodD0iNTAwIiBsZXR0ZXItc3BhY2luZz0iMyIgZmlsbD0iI2ZmZiI+Q0hJTEU8L3RleHQ+Cjwvc3ZnPgo=",dw="https://pub-9edd01c5f73442228a840ca5c8fca38a.r2.dev/home/aca-logo-oficial.png",uw=()=>{const[e,t]=g.useState(!1),[s,a]=g.useState(!1),n=hr(),o=Rt(),{isAuthenticated:i}=$e(),[l,c]=g.useState(dw),d=[{name:"Inicio",href:"/"},{name:"Quines Somos",href:"/quienes-somos"},{name:"Eventos",href:"/eventos"},{name:"Noticias",href:"/noticias"},{name:"Contacto",href:"/contacto"}];return r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"relative bg-white/80 backdrop-blur-soft sticky top-0 z-50 border-b border-white/20 shadow-soft-sm",children:[r.jsxs(bs,{children:[r.jsxs("div",{className:"flex justify-between items-center py-3 sm:py-4 relative",children:[r.jsx("div",{className:"flex items-center",children:r.jsxs(ne,{to:"/",className:"flex items-center space-x-3 sm:space-x-4 group",children:[r.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-white/60 backdrop-blur-soft rounded-2xl flex items-center justify-center shadow-soft-md hover:shadow-soft-lg transition-all duration-300 transform group-hover:scale-105 border border-white/30 p-2",children:r.jsx("img",{src:l,alt:"ACA Chile",className:"w-full h-full object-contain",loading:"lazy",onError:()=>c(cw)})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-500 bg-clip-text text-transparent",children:"ACA Chile"}),r.jsx("div",{className:"text-sm text-neutral-600 font-medium",children:"Asociacin Chilena de Asadores"})]})]})}),r.jsx("nav",{className:"hidden md:flex items-center space-x-2 absolute left-1/2 transform -translate-x-1/2",children:d.map(m=>r.jsx(ne,{to:m.href,className:`px-6 py-3 text-sm font-semibold rounded-2xl transition-all duration-300 flex items-center justify-center text-center ${n.pathname===m.href?"text-primary-700 bg-primary-50/80 backdrop-blur-soft shadow-soft-inset-sm border border-primary-200/50":"text-neutral-700 hover:text-primary-600 hover:bg-white/60 hover:shadow-soft-sm border border-transparent hover:border-white/30"}`,children:m.name},m.name))}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 ml-2 sm:ml-4",children:[i?r.jsx(ow,{}):r.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{a(!0)},className:"px-6 py-3 text-sm font-semibold text-neutral-700 bg-white/60 backdrop-blur-soft rounded-2xl hover:bg-white/80 hover:shadow-soft-sm transition-all duration-300 border border-white/30",children:"Iniciar Sesin"}),r.jsx(ne,{to:"/unete",className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-500 rounded-2xl hover:from-primary-700 hover:to-primary-600 transition-all duration-300 transform hover:scale-105 shadow-soft-colored-red hover:shadow-soft-md",children:"nete a ACA"})]}),r.jsx("button",{onClick:()=>t(!e),className:"md:hidden w-11 h-11 bg-white/60 backdrop-blur-soft rounded-2xl flex items-center justify-center shadow-soft-md hover:shadow-soft-lg transition-all duration-300 border border-white/30",children:r.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[r.jsx("div",{className:`w-5 h-0.5 bg-neutral-600 transition-all duration-300 ${e?"rotate-45 translate-y-1":""}`}),r.jsx("div",{className:`w-5 h-0.5 bg-neutral-600 transition-all duration-300 mt-1 ${e?"opacity-0":""}`}),r.jsx("div",{className:`w-5 h-0.5 bg-neutral-600 transition-all duration-300 mt-1 ${e?"-rotate-45 -translate-y-1":""}`})]})})]})]}),r.jsx("div",{className:"lg:hidden pb-4",children:r.jsx(Hm,{placeholder:"Buscar...",size:"small",className:"w-full bg-white/60 backdrop-blur-soft rounded-2xl shadow-soft-inset-sm border border-white/40 focus-within:shadow-soft-inset-md focus-within:border-primary-300 transition-all duration-300"})})]}),r.jsx("div",{className:"hidden lg:block border-t border-white/20 bg-white/80",children:r.jsx(bs,{children:r.jsx("div",{className:"py-4 flex justify-center",children:r.jsx(Hm,{placeholder:"Buscar eventos, noticias, socios...",size:"large",className:"bg-white/70 backdrop-blur-soft rounded-2xl shadow-soft-inset-sm border border-white/40 focus-within:shadow-soft-inset-md focus-within:border-primary-300"})})})}),e&&r.jsx("div",{className:"md:hidden absolute inset-x-0 top-full z-40 bg-white/98 backdrop-blur-soft border-t border-white/30 shadow-soft-lg",children:r.jsx("div",{className:"max-h-[calc(100vh-5rem)] overflow-y-auto",children:r.jsxs(bs,{className:"py-4 space-y-3",children:[d.map(m=>r.jsx(ne,{to:m.href,onClick:()=>t(!1),className:`block px-4 py-3 text-base font-semibold rounded-2xl transition-all duration-300 flex items-center justify-center text-center ${n.pathname===m.href?"text-primary-700 bg-primary-50/80 backdrop-blur-soft shadow-soft-inset-sm border border-primary-200/50":"text-neutral-700 hover:text-primary-600 hover:bg-white/60 hover:shadow-soft-sm border border-transparent hover:border-white/30"}`,children:m.name},m.name)),!i&&r.jsxs("div",{className:"pt-3 space-y-3 border-t border-neutral-200/50",children:[r.jsx("button",{onClick:()=>{a(!0),t(!1)},className:"w-full px-4 py-3 text-base font-semibold text-neutral-700 bg-white/60 backdrop-blur-soft rounded-2xl hover:bg-white/80 hover:shadow-soft-sm transition-all duration-300 border border-white/30",children:"Iniciar Sesin"}),r.jsx("button",{onClick:()=>{t(!1),o("/unete")},className:"w-full px-4 py-3 text-base font-semibold text-white bg-gradient-to-r from-primary-600 to-primary-500 rounded-2xl hover:from-primary-700 hover:to-primary-600 transition-all duration-300 transform hover:scale-105 shadow-soft-colored-red hover:shadow-soft-md",children:"nete a ACA"})]})]})})})]}),r.jsx(aw,{isOpen:s,onClose:()=>a(!1)})]})},mw=()=>r.jsxs("footer",{className:"bg-soft-gradient-medium border-t border-white/20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary-500/5 rounded-full blur-3xl -translate-x-48 -translate-y-48"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-pastel-blue/10 rounded-full blur-3xl translate-x-48 translate-y-48"}),r.jsx(bs,{children:r.jsxs("div",{className:"py-10 sm:py-16 relative",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 md:gap-12",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("div",{className:"w-14 h-14 bg-white/60 backdrop-blur-soft rounded-3xl flex items-center justify-center shadow-soft-lg border border-white/30",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-500 bg-clip-text text-transparent",children:"ACA Chile"}),r.jsx("div",{className:"text-sm text-neutral-600 font-medium",children:"Asociacin Chilena de Asadores"})]})]}),r.jsx("div",{className:"bg-white/40 backdrop-blur-soft rounded-2xl p-5 sm:p-6 shadow-soft-sm border border-white/30 mb-8",children:r.jsx("p",{className:"text-neutral-600 text-sm sm:text-base leading-relaxed font-light",children:"ACA es una asociacin de Asadores donde nos reunimos amantes de los fuegos, las brasas y la parrilla. Una asociacin sin fines de lucro que busca hacer crecer el movimiento parrillero nacional."})}),r.jsxs("div",{className:"flex space-x-3 sm:space-x-4",children:[r.jsxs("a",{href:"https://www.instagram.com/aca.chile/",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/60 backdrop-blur-soft rounded-2xl flex items-center justify-center shadow-soft-md hover:shadow-soft-lg border border-white/30 text-neutral-600 hover:text-primary-600 transition-all duration-300 transform hover:scale-110",children:[r.jsx("span",{className:"sr-only",children:"Instagram"}),r.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{fillRule:"evenodd",d:"M12.017 0C8.396 0 7.929.01 6.684.048 5.443.085 4.60.204 3.875.43c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.403 4.864.284 5.706.247 6.948.01 8.192 0 8.66 0 12.017s.01 3.825.048 5.068c.036 1.243.155 2.085.38 2.81.307.788.718 1.458 1.384 2.126.667.666 1.336 1.077 2.126 1.384.725.226 1.567.344 2.809.38 1.244.038 1.713.048 5.070.048s3.825-.01 5.068-.048c1.243-.036 2.085-.155 2.81-.38.788-.307 1.458-.718 2.126-1.384.666-.667 1.077-1.336 1.384-2.126.226-.725.344-1.567.38-2.809.038-1.244.048-1.713.048-5.070s-.01-3.825-.048-5.068c-.036-1.243-.155-2.085-.38-2.81-.307-.788-.718-1.458-1.384-2.126C19.458.935 18.789.524 18 .217 17.275-.009 16.433-.128 15.190-.165 13.946-.203 13.477-.213 10.121-.213s-3.825.01-5.068.048C3.81.085 2.968.204 2.243.43 1.455.737.785 1.148.118 1.815-.549 2.482-.96 3.151-1.267 3.94c-.226.725-.344 1.567-.38 2.809C-1.685 8.192-1.695 8.66-1.695 12.017s.01 3.825.048 5.068c.036 1.243.155 2.085.38 2.81.307.788.718 1.458 1.384 2.126.667.666 1.336 1.077 2.126 1.384.725.226 1.567.344 2.809.38 1.244.038 1.713.048 5.070.048s3.825-.01 5.068-.048c1.243-.036 2.085-.155 2.81-.38.788-.307 1.458-.718 2.126-1.384.666-.667 1.077-1.336 1.384-2.126.226-.725.344-1.567.38-2.809.038-1.244.048-1.713.048-5.070s-.01-3.825-.048-5.068c-.036-1.243-.155-2.085-.38-2.81-.307-.788-.718-1.458-1.384-2.126C18.542.935 17.873.524 17.085.217 16.36-.009 15.518-.128 14.275-.165 13.031-.203 12.562-.213 9.206-.213s-3.825.01-5.068.048C2.895.085 2.053.204 1.328.43c-.788.307-1.458.718-2.126 1.384S-.96 3.15-1.267 3.94c-.226.725-.344 1.567-.38 2.809C-1.685 8.192-1.695 8.66-1.695 12.017s.01 3.825.048 5.068c.036 1.243.155 2.085.38 2.81.307.788.718 1.458 1.384 2.126.667.666 1.336 1.077 2.126 1.384.725.226 1.567.344 2.809.38 1.244.038 1.713.048 5.070.048z",clipRule:"evenodd"})})]}),r.jsxs("a",{href:"https://www.facebook.com/aca.chile",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-white/60 backdrop-blur-soft rounded-2xl flex items-center justify-center shadow-soft-md hover:shadow-soft-lg border border-white/30 text-neutral-600 hover:text-primary-600 transition-all duration-300 transform hover:scale-110",children:[r.jsx("span",{className:"sr-only",children:"Facebook"}),r.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),r.jsxs("a",{href:"mailto:info@acachile.com",className:"w-12 h-12 bg-white/60 backdrop-blur-soft rounded-2xl flex items-center justify-center shadow-soft-md hover:shadow-soft-lg border border-white/30 text-neutral-600 hover:text-primary-600 transition-all duration-300 transform hover:scale-110",children:[r.jsx("span",{className:"sr-only",children:"Email"}),r.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-neutral-800 mb-6",children:"Enlaces Rpidos"}),r.jsx("div",{className:"space-y-3",children:[{name:"Inicio",href:"/"},{name:"Quines Somos",href:"/quienes-somos"},{name:"Eventos",href:"/eventos"},{name:"Noticias",href:"/noticias"},{name:"Contacto",href:"/contacto"}].map(e=>r.jsx(ne,{to:e.href,className:"block px-4 py-2 text-neutral-600 hover:text-primary-600 font-medium bg-white/20 hover:bg-white/40 rounded-xl transition-all duration-300 hover:shadow-soft-sm border border-transparent hover:border-white/30",children:e.name},e.name))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-neutral-800 mb-6",children:"Contacto"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white/40 backdrop-blur-soft rounded-2xl p-4 shadow-soft-sm border border-white/30",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-neutral-700",children:"Ubicacin"}),r.jsx("div",{className:"text-sm text-neutral-600",children:"Via del Mar, Chile"})]})]})}),r.jsx("div",{className:"bg-white/40 backdrop-blur-soft rounded-2xl p-4 shadow-soft-sm border border-white/30",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-neutral-700",children:"Email"}),r.jsx("div",{className:"text-sm text-neutral-600",children:"info@acachile.com"})]})]})}),r.jsx("div",{className:"bg-white/40 backdrop-blur-soft rounded-2xl p-4 shadow-soft-sm border border-white/30",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-neutral-700",children:"Web"}),r.jsx("div",{className:"text-sm text-neutral-600",children:"acachile.com"})]})]})})]})]})]}),r.jsx("div",{className:"mt-12 sm:mt-16 pt-6 sm:pt-8 border-t border-white/20",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"text-center md:text-left",children:[r.jsx("p",{className:"text-neutral-600 text-sm font-medium",children:" 2025 ACA Chile - Asociacin Chilena de Asadores"}),r.jsx("p",{className:"text-neutral-500 text-xs mt-1",children:"Todos los derechos reservados. Hecho con  para la comunidad asadora."})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 sm:gap-6 text-sm",children:[r.jsx(ne,{to:"/privacidad",className:"text-neutral-600 hover:text-primary-600 font-medium transition-colors duration-300",children:"Privacidad"}),r.jsx(ne,{to:"/terminos",className:"text-neutral-600 hover:text-primary-600 font-medium transition-colors duration-300",children:"Trminos"}),r.jsx("a",{href:"https://wbqachile2025.cl/",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 sm:px-4 bg-primary-500/10 hover:bg-primary-500/20 text-primary-600 hover:text-primary-700 rounded-xl font-semibold transition-all duration-300 hover:shadow-soft-sm border border-primary-200/50",children:"WBQA 2025"})]})]})})]})})]}),hw=({children:e})=>r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(uw,{}),r.jsx("main",{className:"flex-1",children:e}),r.jsx(mw,{})]}),fw=()=>{const[e,t]=g.useState(!1),{user:s,isAuthenticated:a,error:n,isLoading:o}=$e();return null},dl=(e,t)=>t.map(s=>({...s,page:e})),pw={home:dl("home",[{key:"hero",title:"Asociacin Chilena de Asadores",content:"Somos la comunidad oficial de asadores en Chile. Conectamos a parrilleros, aficionados y profesionales en torno al fuego, la gastronoma y la camaradera. nete a ACA para vivir experiencias nicas y compartir nuestra pasin por la parrilla.",image_url:"https://acachile.com/wp-content/uploads/2024/08/post-alemania-500x375.jpg",sort_order:0,source_type:"custom",cta_label:"Conoce ms",cta_url:"/quienes-somos"},{key:"international",title:"Somos Internacionales",content:"El 29 y 30 de noviembre de 2025 estaremos junto a la World Barbecue Association recibiendo a 80 equipos de 40 pases. La gran final del WBQA International BBQ Championship se vive en Via del Mar, y queremos que formes parte de este hito profesional.",image_url:"https://acachile.com/wp-content/uploads/2024/07/CONFEDERACION.png",sort_order:1,source_type:"custom",cta_label:"Eventos WBQA",cta_url:"https://wbqachile2025.cl/"},{key:"community",title:"Comunidad y Formacin",content:"Creamos instancias permanentes de perfeccionamiento para nuestros socios, talleres de tcnicas de coccin, cursos de parrilla y encuentros recreativos. Nuestra misin es elevar el estndar gastronmico y mantener viva la cultura parrillera chilena.",image_url:"https://acachile.com/wp-content/uploads/2025/03/64694334-bbdc-4e97-b4a7-ef75e6bbe50d-500x375.jpg",sort_order:2,source_type:"custom",cta_label:"nete a ACA",cta_url:"/unete"},{key:"events",title:"Eventos Destacados",content:"Durante todo el ao organizamos campeonatos nacionales, competencias internacionales, talleres temticos y actividades abiertas al pblico. Revisa constantemente nuestro calendario y participa de las prximas fechas oficiales de ACA.",image_url:"https://acachile.com/wp-content/uploads/2025/06/post-_2025-12-500x375.png",sort_order:3,source_type:"custom",cta_label:"Calendario de eventos",cta_url:"/eventos"}]),about:dl("about",[{key:"about-hero",title:"Quines Somos",content:"Somos la Asociacin Chilena de Asadores (ACA), una organizacin sin fines de lucro que rene a amantes de la parrilla y del fuego de todo Chile. Promovemos la cultura parrillera, la camaradera y el perfeccionamiento de las tcnicas de asado.",image_url:"https://acachile.com/wp-content/uploads/2024/07/CONFEDERACION.png",sort_order:0,cta_label:"nete a ACA",cta_url:"/unete"},{key:"about-mission",title:"Nuestra Misin",content:"Difundir la tradicin parrillera chilena, compartir conocimientos y generar instancias de encuentro. Involucramos a expertos asadores, aficionados y principiantes en torno a proyectos gastronmicos y sociales.",image_url:"https://acachile.com/wp-content/uploads/2025/03/64694334-bbdc-4e97-b4a7-ef75e6bbe50d-500x375.jpg",sort_order:1},{key:"about-legal",title:"Organizacin Legal",content:"Estamos legalmente constituidos en Via del Mar y contamos con asociados a lo largo de todo Chile. Participamos activamente en la comunidad WBQA representando a nuestro pas en eventos internacionales.",image_url:"https://acachile.com/wp-content/uploads/2024/08/post-alemania-500x375.jpg",sort_order:2},{key:"about-call-to-action",title:"S Parte de Nuestra Comunidad",content:"Si te apasiona el fuego, el asado y la camaradera, ACA es tu lugar. Organizamos talleres, competencias y encuentros recreativos durante todo el ao.",image_url:"https://acachile.com/wp-content/uploads/2025/06/post-_2025-12-500x375.png",sort_order:3,cta_label:"Postula como Socio",cta_url:"https://docs.google.com/forms/d/e/1FAIpQLScm_pK1mysojBZGSNODV2RY0CT1DwNg06Eqhc1aoO5D7l4M6g/viewform"}]),contact:dl("contact",[{key:"contact-hero",title:"Hablemos",content:"Quieres sumarte a ACA, organizar un evento o colaborar con nosotros? Escrbenos y conversemos. Nuestro equipo responde a la brevedad.",image_url:"https://acachile.com/wp-content/uploads/2024/07/CONFEDERACION.png",sort_order:0,cta_label:"Escrbenos",cta_url:"mailto:info@acachile.cl"},{key:"contact-info",title:"Informacin de contacto",content:`Direccin: Sporting Club, Via del Mar
Email: info@acachile.cl
Telfono: +56 9 1234 5678
Instagram: @acachile
Facebook: /acachileoficial`,image_url:"",sort_order:1},{key:"contact-map",title:"Vistanos",content:"Estamos ubicados en Via del Mar, Regin de Valparaso. Agenda una visita para conocer nuestra sede y actividades.",image_url:"https://maps.googleapis.com/maps/api/staticmap?center=Vi%C3%B1a+del+Mar,+Chile&zoom=14&size=600x400&markers=Vi%C3%B1a+del+Mar,+Chile",sort_order:2,cta_label:"Abrir en Google Maps",cta_url:"https://maps.google.com/?q=Sporting+Club,+Vi%C3%B1a+del+Mar"}])},_r=e=>pw[e].map(t=>({...t})),qm=()=>_r("home").map(e=>({...e})),xw=e=>{const t=new Map(_r("home").map(a=>[a.key,a])),s=new Map;(e||[]).forEach((a,n)=>{var c;const o=typeof(a==null?void 0:a.key)=="string"&&a.key.trim().length>0?a.key.trim():((c=_r("home")[n])==null?void 0:c.key)??`section_${n}`,i=t.get(o),l=typeof(a==null?void 0:a.sort_order)=="number"?a.sort_order:(i==null?void 0:i.sort_order)??n;s.set(o,{page:"home",key:o,title:typeof(a==null?void 0:a.title)=="string"?a.title:(i==null?void 0:i.title)??"",content:typeof(a==null?void 0:a.content)=="string"?a.content:(i==null?void 0:i.content)??"",image_url:typeof(a==null?void 0:a.image_url)=="string"?a.image_url:(i==null?void 0:i.image_url)??"",sort_order:l,source_type:(a==null?void 0:a.source_type)??(i==null?void 0:i.source_type)??"custom",source_id:typeof(a==null?void 0:a.source_id)=="string"?a.source_id:typeof(i==null?void 0:i.source_id)=="string"?i.source_id:void 0,cta_label:typeof(a==null?void 0:a.cta_label)=="string"?a.cta_label:typeof(i==null?void 0:i.cta_label)=="string"?i.cta_label:void 0,cta_url:typeof(a==null?void 0:a.cta_url)=="string"?a.cta_url:typeof(i==null?void 0:i.cta_url)=="string"?i.cta_url:void 0}),t.delete(o)});for(const a of t.values())s.set(a.key,{...a});return Array.from(s.values()).sort((a,n)=>a.sort_order-n.sort_order)},ex=e=>{const t=e.split(/\r?\n/).map(n=>n.trim()).filter(Boolean),s=[];let a=null;return t.forEach(n=>{n.startsWith("- ")?(a||(a=[],s.push({type:"list",items:a})),a.push(n.slice(2))):(a=null,s.push({type:"paragraph",text:n}))}),s},gw=({section:e,reverse:t})=>{const s=g.useMemo(()=>ex(e.display_content||""),[e.display_content]);return r.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-soft-gradient-light relative overflow-hidden",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:`flex flex-col gap-8 sm:gap-12 lg:gap-16 ${t?"lg:flex-row-reverse":"lg:flex-row"}`,children:[r.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center space-y-5 sm:space-y-6",children:[r.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-neutral-900 leading-tight",children:e.display_title}),r.jsx("div",{className:"space-y-3 sm:space-y-4 text-neutral-600 text-base sm:text-lg leading-relaxed",children:s.length===0?r.jsx("p",{children:e.display_content}):s.map((a,n)=>a.type==="paragraph"?r.jsx("p",{children:a.text},n):r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.items.map((o,i)=>r.jsx("li",{children:o},i))},n))}),e.display_cta_label&&e.display_cta_url?r.jsx("div",{children:r.jsx("a",{href:e.display_cta_url,className:"inline-flex items-center px-5 py-3 sm:px-6 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-xl transition-all duration-300",children:e.display_cta_label})}):null]}),e.display_image?r.jsx("div",{className:"lg:w-1/2",children:r.jsx("div",{className:"relative bg-white/40 backdrop-blur-md rounded-2xl sm:rounded-3xl border border-white/60 shadow-soft-lg overflow-hidden",children:r.jsx("img",{src:e.display_image,alt:e.display_title,className:"w-full h-full object-cover transition-transform duration-700 ease-out hover:scale-105"})})}):null]})})})},yw=({section:e,loading:t})=>{const s=g.useMemo(()=>ex(e.display_content||""),[e.display_content]);return r.jsx("section",{className:"relative overflow-hidden py-14 sm:py-20 bg-soft-gradient-light",children:r.jsx("div",{className:"relative px-4 py-14 sm:py-16 mx-auto max-w-7xl sm:px-6 lg:px-8 lg:py-24",children:r.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-16 items-center",children:[r.jsxs("div",{className:"lg:col-span-6 space-y-8",children:[r.jsx("span",{className:"inline-block px-6 py-2 bg-soft-gradient-primary rounded-full shadow-soft-sm border border-white/40 text-primary-700 font-semibold text-sm uppercase tracking-wide",children:t?"Cargando":"Inicio ACA Chile"}),r.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold leading-tight text-neutral-900",children:e.display_title}),r.jsx("div",{className:"text-base sm:text-xl text-neutral-600 font-light leading-relaxed space-y-3 sm:space-y-4 max-w-xl",children:s.length===0?r.jsx("p",{children:e.display_content}):s.map((a,n)=>a.type==="paragraph"?r.jsx("p",{children:a.text},n):r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.items.map((o,i)=>r.jsx("li",{children:o},i))},n))}),e.display_cta_label&&e.display_cta_url?r.jsx("div",{children:r.jsx("a",{href:e.display_cta_url,className:"inline-flex items-center px-7 py-3 sm:px-8 sm:py-4 rounded-xl sm:rounded-2xl text-white font-semibold text-lg transition-all duration-500",style:{background:"linear-gradient(135deg, #f56934 0%, #e04c1a 50%, #b93c14 100%)"},children:e.display_cta_label})}):null]}),e.display_image?r.jsx("div",{className:"mt-12 lg:mt-0 lg:col-span-6",children:r.jsx("div",{className:"relative bg-white/20 backdrop-blur-md rounded-2xl sm:rounded-3xl p-5 sm:p-6 shadow-soft-xl border border-white/40",children:r.jsx("div",{className:"overflow-hidden rounded-xl sm:rounded-2xl",children:r.jsx("img",{src:e.display_image,alt:e.display_title,className:"w-full h-full object-cover transition-transform duration-700 ease-out hover:scale-105"})})})}):null]})})})},vw=()=>{const[e,t]=g.useState(qm),[s,a]=g.useState(!0),[n,o]=g.useState({}),[i,l]=g.useState({}),[c,d]=g.useState(!1),[m,h]=g.useState(!1);g.useEffect(()=>{let j=!0;return(async()=>{try{const b=await fetch("/api/admin/content?page=home",{cache:"no-store"});if(!b.ok)throw new Error(`HTTP ${b.status}`);const f=await b.json();j&&(f!=null&&f.success)&&t(xw(f.sections))}catch(b){console.warn("[HomePage] No se pudo obtener contenido dinmico, usando valores por defecto.",b),j&&t(qm())}finally{j&&a(!1)}})(),()=>{j=!1}},[]),g.useEffect(()=>{new Set(e.filter(b=>b.source_type==="event"&&b.source_id).map(b=>String(b.source_id))).size===0||c||(async()=>{try{const f=await(await fetch("/api/eventos?status=published&limit=200",{cache:"no-store"})).json();if(f!=null&&f.success&&Array.isArray(f.data)){const u={};f.data.forEach(y=>{u[String(y.id)]=y}),o(u)}}finally{d(!0)}})()},[e,c]),g.useEffect(()=>{new Set(e.filter(b=>b.source_type==="news"&&b.source_id).map(b=>String(b.source_id))).size===0||m||(async()=>{try{const f=await(await fetch("/api/noticias?limit=200",{cache:"no-store"})).json();if(f!=null&&f.success&&Array.isArray(f.data)){const u={};f.data.forEach(y=>{u[y.slug]=y}),l(u)}}finally{h(!0)}})()},[e,m]);const x=g.useMemo(()=>e.map(j=>{let b=j.title||"",f=j.content||"",u=j.image_url||"",y=j.cta_label,v=j.cta_url;if(j.source_type==="event"&&j.source_id){const S=n[String(j.source_id)];if(S){if(b=j.title||S.title||b,!j.content&&S.description){const A=[S.description];if(S.date){const T=new Date(S.date).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"});A.push(`Fecha: ${T}`)}S.location&&A.push(`Lugar: ${S.location}`),S.registrationOpen&&A.push("Inscripciones abiertas"),f=A.filter(Boolean).join(`

`)}u=j.image_url||S.image||u,y=j.cta_label||"Ver evento",v=j.cta_url||`/eventos/${S.id}`}}if(j.source_type==="news"&&j.source_id){const S=i[String(j.source_id)];S&&(b=j.title||S.title||b,j.content||(f=S.excerpt||S.content||f),u=j.image_url||S.featured_image||u,y=j.cta_label||"Leer noticia",v=j.cta_url||`/noticias/${S.slug}`)}return{...j,display_title:b,display_content:f,display_image:u,display_cta_label:y,display_cta_url:v}}),[e,n,i]),N=x[0]??{...DEFAULT_SITE_SECTIONS[0],display_title:DEFAULT_SITE_SECTIONS[0].title,display_content:DEFAULT_SITE_SECTIONS[0].content,display_image:DEFAULT_SITE_SECTIONS[0].image_url,display_cta_label:DEFAULT_SITE_SECTIONS[0].cta_label,display_cta_url:DEFAULT_SITE_SECTIONS[0].cta_url},w=x.slice(1);return r.jsxs("div",{className:"min-h-screen bg-soft-gradient-light",children:[r.jsx(yw,{section:N,loading:s}),w.map((j,b)=>r.jsx(gw,{section:j,reverse:b%2===0},j.key??b))]})},Ls=()=>_r("about").map(e=>({...e})),bw=e=>{const t=new Map(_r("about").map(a=>[a.key,a])),s=new Map;(e||[]).forEach((a,n)=>{var c;const o=typeof(a==null?void 0:a.key)=="string"&&a.key.trim().length>0?a.key.trim():((c=_r("about")[n])==null?void 0:c.key)??`section_${n}`,i=t.get(o),l={page:"about",key:o,title:typeof(a==null?void 0:a.title)=="string"?a.title:(i==null?void 0:i.title)??"",content:typeof(a==null?void 0:a.content)=="string"?a.content:(i==null?void 0:i.content)??"",image_url:typeof(a==null?void 0:a.image_url)=="string"?a.image_url:(i==null?void 0:i.image_url)??"",sort_order:typeof(a==null?void 0:a.sort_order)=="number"?a.sort_order:(i==null?void 0:i.sort_order)??n,source_type:(a==null?void 0:a.source_type)??(i==null?void 0:i.source_type),source_id:(a==null?void 0:a.source_id)??(i==null?void 0:i.source_id),cta_label:(a==null?void 0:a.cta_label)??(i==null?void 0:i.cta_label),cta_url:(a==null?void 0:a.cta_url)??(i==null?void 0:i.cta_url)};s.set(l.key,l),t.delete(l.key)});for(const a of t.values())s.set(a.key,{...a});return Array.from(s.values()).sort((a,n)=>a.sort_order-n.sort_order)},tx=e=>{const t=e.split(/\r?\n/).map(n=>n.trim()).filter(Boolean),s=[];let a=null;return t.forEach(n=>{n.startsWith("- ")?(a||(a=[],s.push({type:"list",items:a})),a.push(n.slice(2))):(a=null,s.push({type:"paragraph",text:n}))}),s},jw=({section:e,loading:t})=>{const s=g.useMemo(()=>tx(e.display_content||""),[e.display_content]);return r.jsx("section",{className:"relative overflow-hidden py-20 bg-soft-gradient-light",children:r.jsx("div",{className:"relative px-4 py-16 mx-auto max-w-7xl sm:px-6 lg:px-8 lg:py-28",children:r.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-16 items-center",children:[r.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[r.jsx("span",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/80 backdrop-blur-soft rounded-full shadow-soft-sm border border-white/40 text-primary-600 font-semibold text-sm tracking-wide uppercase",children:t?"Cargando":"Nuestra historia"}),r.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold leading-tight text-neutral-900",children:e.display_title}),r.jsx("div",{className:"text-lg sm:text-xl text-neutral-600 font-light leading-relaxed space-y-4 max-w-2xl",children:s.length===0?r.jsx("p",{children:e.display_content}):s.map((a,n)=>a.type==="paragraph"?r.jsx("p",{children:a.text},n):r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.items.map((o,i)=>r.jsx("li",{children:o},i))},n))}),e.display_cta_label&&e.display_cta_url?r.jsx("a",{href:e.display_cta_url,className:"inline-flex items-center px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-xl transition-all duration-300",children:e.display_cta_label}):null]}),e.display_image?r.jsx("div",{className:"mt-12 lg:mt-0 lg:col-span-5",children:r.jsx("div",{className:"relative bg-white/20 backdrop-blur-md rounded-3xl p-6 shadow-soft-xl border border-white/40",children:r.jsx("div",{className:"overflow-hidden rounded-2xl",children:r.jsx("img",{src:e.display_image,alt:e.display_title,className:"w-full h-full object-cover transition-transform duration-700 ease-out hover:scale-105"})})})}):null]})})})},ww=({section:e,reverse:t})=>{const s=g.useMemo(()=>tx(e.display_content||""),[e.display_content]);return r.jsx("section",{className:"py-20 bg-soft-gradient-light relative overflow-hidden",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:`flex flex-col gap-10 lg:gap-16 ${t?"lg:flex-row-reverse":"lg:flex-row"}`,children:[r.jsxs("div",{className:"lg:w-1/2 flex flex-col justify-center space-y-6",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-neutral-900 leading-tight",children:e.display_title}),r.jsx("div",{className:"space-y-4 text-neutral-600 text-lg leading-relaxed",children:s.length===0?r.jsx("p",{children:e.display_content}):s.map((a,n)=>a.type==="paragraph"?r.jsx("p",{children:a.text},n):r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.items.map((o,i)=>r.jsx("li",{children:o},i))},n))}),e.display_cta_label&&e.display_cta_url?r.jsx("div",{children:r.jsx("a",{href:e.display_cta_url,className:"inline-flex items-center px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-xl transition-all duration-300",children:e.display_cta_label})}):null]}),e.display_image?r.jsx("div",{className:"lg:w-1/2",children:r.jsx("div",{className:"relative bg-white/40 backdrop-blur-md rounded-3xl border border-white/60 shadow-soft-lg overflow-hidden",children:r.jsx("img",{src:e.display_image,alt:e.display_title,className:"w-full h-full object-cover transition-transform duration-700 ease-out hover:scale-105"})})}):null]})})})},Nw=()=>{const[e,t]=g.useState(Ls()),[s,a]=g.useState(!0);g.useEffect(()=>{let l=!0;return(async()=>{try{const c=await fetch("/api/admin/content?page=about",{cache:"no-store"});if(!c.ok)throw new Error(`HTTP ${c.status}`);const d=await c.json();l&&(d!=null&&d.success)&&t(bw(d.sections))}catch(c){console.warn("[AboutPage] No se pudo obtener contenido dinmico, usando valores por defecto.",c),l&&t(Ls())}finally{l&&a(!1)}})(),()=>{l=!1}},[]);const n=g.useMemo(()=>e.map((l,c)=>({...l,display_title:l.title||`Seccin ${c+1}`,display_content:l.content||"",display_image:l.image_url||void 0,display_cta_label:l.cta_label,display_cta_url:l.cta_url})),[e]),o=n[0]??{...Ls()[0],display_title:Ls()[0].title,display_content:Ls()[0].content,display_image:Ls()[0].image_url},i=n.slice(1);return r.jsxs("div",{className:"min-h-screen bg-soft-gradient-light",children:[r.jsx(jw,{section:o,loading:s}),i.map((l,c)=>r.jsx(ww,{section:l,reverse:c%2===0},l.key??c))]})};function rx(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=rx(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function kw(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=rx(e))&&(a&&(a+=" "),a+=t);return a}const zd="-",Sw=e=>{const t=_w(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:i=>{const l=i.split(zd);return l[0]===""&&l.length!==1&&l.shift(),sx(l,t)||Cw(i)},getConflictingClassGroupIds:(i,l)=>{const c=s[i]||[];return l&&a[i]?[...c,...a[i]]:c}}},sx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),n=a?sx(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const o=e.join(zd);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Wm=/^\[(.+)\]$/,Cw=e=>{if(Wm.test(e)){const t=Wm.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},_w=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return Aw(Object.entries(e.classGroups),s).forEach(([o,i])=>{_c(i,a,o,t)}),a},_c=(e,t,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const o=n===""?t:Gm(t,n);o.classGroupId=s;return}if(typeof n=="function"){if(Ew(n)){_c(n(a),t,s,a);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([o,i])=>{_c(i,Gm(t,o),s,a)})})},Gm=(e,t)=>{let s=e;return t.split(zd).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},Ew=e=>e.isThemeGetter,Aw=(e,t)=>t?e.map(([s,a])=>{const n=a.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,n]}):e,Pw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const n=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,a=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=a.get(o))!==void 0)return n(o,i),i},set(o,i){s.has(o)?s.set(o,i):n(o,i)}}},ax="!",Iw=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,n=t[0],o=t.length,i=l=>{const c=[];let d=0,m=0,h;for(let b=0;b<l.length;b++){let f=l[b];if(d===0){if(f===n&&(a||l.slice(b,b+o)===t)){c.push(l.slice(m,b)),m=b+o;continue}if(f==="/"){h=b;continue}}f==="["?d++:f==="]"&&d--}const x=c.length===0?l:l.substring(m),N=x.startsWith(ax),w=N?x.substring(1):x,j=h&&h>m?h-m:void 0;return{modifiers:c,hasImportantModifier:N,baseClassName:w,maybePostfixModifierPosition:j}};return s?l=>s({className:l,parseClassName:i}):i},Tw=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},Rw=e=>({cache:Pw(e.cacheSize),parseClassName:Iw(e),...Sw(e)}),Lw=/\s+/,Mw=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=t,o=[],i=e.trim().split(Lw);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:m,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:N}=s(d);let w=!!N,j=a(w?x.substring(0,N):x);if(!j){if(!w){l=d+(l.length>0?" "+l:l);continue}if(j=a(x),!j){l=d+(l.length>0?" "+l:l);continue}w=!1}const b=Tw(m).join(":"),f=h?b+ax:b,u=f+j;if(o.includes(u))continue;o.push(u);const y=n(j,w);for(let v=0;v<y.length;++v){const S=y[v];o.push(f+S)}l=d+(l.length>0?" "+l:l)}return l};function $w(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=nx(t))&&(a&&(a+=" "),a+=s);return a}const nx=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=nx(e[a]))&&(s&&(s+=" "),s+=t);return s};function Dw(e,...t){let s,a,n,o=i;function i(c){const d=t.reduce((m,h)=>h(m),e());return s=Rw(d),a=s.cache.get,n=s.cache.set,o=l,l(c)}function l(c){const d=a(c);if(d)return d;const m=Mw(c,s);return n(c,m),m}return function(){return o($w.apply(null,arguments))}}const _e=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},ox=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ow=/^\d+\/\d+$/,zw=new Set(["px","full","screen"]),Uw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=e=>na(e)||zw.has(e)||Ow.test(e),Tr=e=>ka(e,"length",Yw),na=e=>!!e&&!Number.isNaN(Number(e)),ul=e=>ka(e,"number",na),Ma=e=>!!e&&Number.isInteger(Number(e)),qw=e=>e.endsWith("%")&&na(e.slice(0,-1)),ce=e=>ox.test(e),Rr=e=>Uw.test(e),Ww=new Set(["length","size","percentage"]),Gw=e=>ka(e,Ww,ix),Zw=e=>ka(e,"position",ix),Jw=new Set(["image","url"]),Qw=e=>ka(e,Jw,eN),Kw=e=>ka(e,"",Xw),$a=()=>!0,ka=(e,t,s)=>{const a=ox.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},Yw=e=>Fw.test(e)&&!Vw.test(e),ix=()=>!1,Xw=e=>Bw.test(e),eN=e=>Hw.test(e),tN=()=>{const e=_e("colors"),t=_e("spacing"),s=_e("blur"),a=_e("brightness"),n=_e("borderColor"),o=_e("borderRadius"),i=_e("borderSpacing"),l=_e("borderWidth"),c=_e("contrast"),d=_e("grayscale"),m=_e("hueRotate"),h=_e("invert"),x=_e("gap"),N=_e("gradientColorStops"),w=_e("gradientColorStopPositions"),j=_e("inset"),b=_e("margin"),f=_e("opacity"),u=_e("padding"),y=_e("saturate"),v=_e("scale"),S=_e("sepia"),A=_e("skew"),T=_e("space"),p=_e("translate"),k=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",ce,t],I=()=>[ce,t],L=()=>["",pr,Tr],R=()=>["auto",na,ce],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",ce],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[na,ce];return{cacheSize:500,separator:":",theme:{colors:[$a],spacing:[pr,Tr],blur:["none","",Rr,ce],brightness:D(),borderColor:[e],borderRadius:["none","","full",Rr,ce],borderSpacing:I(),borderWidth:L(),contrast:D(),grayscale:H(),hueRotate:D(),invert:H(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[qw,Tr],inset:_(),margin:_(),opacity:D(),padding:I(),saturate:D(),scale:D(),sepia:H(),skew:D(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Rr]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),ce]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ma,ce]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Ma,ce]}],"grid-cols":[{"grid-cols":[$a]}],"col-start-end":[{col:["auto",{span:["full",Ma,ce]},ce]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[$a]}],"row-start-end":[{row:["auto",{span:[Ma,ce]},ce]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[u]}],px:[{px:[u]}],py:[{py:[u]}],ps:[{ps:[u]}],pe:[{pe:[u]}],pt:[{pt:[u]}],pr:[{pr:[u]}],pb:[{pb:[u]}],pl:[{pl:[u]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Rr]},Rr]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rr,Tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ul]}],"font-family":[{font:[$a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",na,ul]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Tr]}],"underline-offset":[{"underline-offset":["auto",pr,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),Zw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:P()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[pr,ce]}],"outline-w":[{outline:[pr,Tr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[pr,Tr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rr,Kw]}],"shadow-color":[{shadow:[$a]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rr,ce]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Ma,ce]}],"translate-x":[{"translate-x":[p]}],"translate-y":[{"translate-y":[p]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pr,Tr,ul]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rN=Dw(tN);function lx(...e){return rN(kw(e))}const Un=Pe.forwardRef(({className:e,children:t,size:s="lg",...a},n)=>{const o={sm:"max-w-3xl",md:"max-w-5xl",lg:"max-w-7xl",xl:"max-w-screen-2xl"};return r.jsx("div",{ref:n,className:lx("mx-auto px-4 sm:px-6 lg:px-8",o[s],e),...a,children:t})});Un.displayName="Container";const Da="/api",io=()=>{const e={"Content-Type":"application/json"};if(typeof window>"u")return e;const t=window.localStorage.getItem("auth_token")||window.localStorage.getItem("token")||void 0;return t&&(e.Authorization=`Bearer ${t}`),e},No={async submitApplication(e){try{return await(await fetch(`${Da}/unete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(t){return console.error("[postulacionesService] Error enviando postulacin:",t),{success:!1,error:"No pudimos enviar tu postulacin. Intenta nuevamente en unos minutos."}}},async getAdminPostulantes(e){try{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const s=await fetch(`${Da}/admin/postulantes?${t.toString()}`,{headers:io()}),a=await s.json();return s.ok?{success:!0,data:a.data,pagination:a.pagination}:{success:!1,error:(a==null?void 0:a.error)||"Error al cargar postulaciones"}}catch(t){return console.error("[postulacionesService] Error obteniendo postulantes:",t),{success:!1,error:"No pudimos cargar las postulaciones"}}},async getAdminPostulante(e){try{const t=await fetch(`${Da}/admin/postulantes/${e}`,{headers:io()}),s=await t.json();return t.ok?{success:!0,data:s.data}:{success:!1,error:(s==null?void 0:s.error)||"Error al obtener la postulacin"}}catch(t){return console.error("[postulacionesService] Error obteniendo postulacin:",t),{success:!1,error:"No pudimos obtener la postulacin"}}},async approvePostulante(e,t){try{const s=await fetch(`${Da}/admin/postulantes/${e}/approve`,{method:"POST",headers:io(),body:JSON.stringify({comment:t})}),a=await s.json();return s.ok?{success:!0,data:a.data}:{success:!1,error:(a==null?void 0:a.error)||"No pudimos registrar la aprobacin"}}catch(s){return console.error("[postulacionesService] Error aprobando postulacin:",s),{success:!1,error:"No pudimos registrar la aprobacin"}}},async rejectPostulante(e,t){try{const s=await fetch(`${Da}/admin/postulantes/${e}/reject`,{method:"POST",headers:io(),body:JSON.stringify({reason:t})}),a=await s.json();return s.ok?{success:!0,data:a.data}:{success:!1,error:(a==null?void 0:a.error)||"No pudimos rechazar la postulacin"}}catch(s){return console.error("[postulacionesService] Error rechazando postulacin:",s),{success:!1,error:"No pudimos rechazar la postulacin"}}}};class sN{constructor(){dt(this,"API_BASE_URL","/api");dt(this,"authContext")}setAuthContext(t){this.authContext=t}validateImageFile(t,s){const a=s.maxSize||5242880,n=s.allowedTypes||["image/jpeg","image/png","image/webp","image/gif"];return n.includes(t.type)?t.size>a?{valid:!1,error:`El archivo es muy grande. Tamao mximo: ${(a/1048576).toFixed(1)}MB`}:{valid:!0}:{valid:!1,error:`Tipo de archivo no permitido. Tipos aceptados: ${n.join(", ")}`}}generateUniqueFilename(t,s,a){var c;const n=Date.now(),o=Math.random().toString(36).substring(2,8),i=((c=t.split(".").pop())==null?void 0:c.toLowerCase())||"jpg",l=a?`user-${a}`:"anonymous";return`${s}/${l}-${n}-${o}.${i}`}async resizeImage(t,s){return s?new Promise((a,n)=>{const o=document.createElement("canvas"),i=o.getContext("2d"),l=new Image;l.onload=()=>{let{width:c,height:d}=s;if(c&&d&&c===d){const m=Math.max(c/l.width,d/l.height),h=l.width*m,x=l.height*m,N=(h-c)/2,w=(x-d)/2;o.width=c,o.height=d,i==null||i.drawImage(l,0,0,l.width,l.height,-N,-w,h,x)}else{const m=l.width/l.height;if(c&&!d)d=c/m;else if(d&&!c)c=d*m;else if(c&&d){const h=c/d;m>h?d=c/m:c=d*m}o.width=c,o.height=d,i==null||i.drawImage(l,0,0,c,d)}o.toBlob(m=>{if(m){const h=new File([m],t.name,{type:t.type,lastModified:Date.now()});a(h)}else n(new Error("Error al redimensionar imagen"))},t.type,(s.quality||80)/100)},l.onerror=()=>n(new Error("Error al cargar imagen")),l.src=URL.createObjectURL(t)}):t}async uploadImage(t,s){var a,n;try{const o=this.validateImageFile(t,s);if(!o.valid)return{success:!1,error:o.error};let i=t;s.resize&&(i=await this.resizeImage(t,s.resize));const l=this.generateUniqueFilename(t.name,s.folder,(n=(a=this.authContext)==null?void 0:a.user)==null?void 0:n.id),c=new FormData;c.append("file",i),c.append("filename",l),c.append("folder",s.folder),console.log(" Subiendo imagen a R2:",{filename:l,folder:s.folder,size:i.size,type:i.type});const d=await fetch("/api/upload-image",{method:"POST",body:c}),m=await d.json();if(!d.ok||!m.success)throw new Error(m.error||`HTTP ${d.status}: ${d.statusText}`);const h={url:m.data.publicUrl,publicUrl:m.data.publicUrl,filename:l,size:i.size,type:i.type};return console.log(" Imagen subida exitosamente a R2:",h.publicUrl),{success:!0,data:h,message:"Imagen subida exitosamente a R2"}}catch(o){return console.error("Error subiendo imagen a R2:",o),{success:!1,error:"Error subiendo imagen. Intntalo nuevamente."}}}async uploadAvatar(t){var n;const s={folder:"avatars",maxSize:5242880,allowedTypes:["image/jpeg","image/png","image/webp"],resize:{width:400,height:400,quality:92}},a=await this.uploadImage(t,s);if(a.success&&a.data&&((n=this.authContext)!=null&&n.user)){const o=a.data.publicUrl;this.authContext.updateUser({avatar:o});try{const i=localStorage.getItem("auth_token"),l=await fetch("/api/auth/me",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({foto_url:o})});l.ok?console.log(" Foto actualizada en base de datos:",o):console.error("Error actualizando foto_url en base de datos:",await l.text())}catch(i){console.error("Error actualizando foto_url en base de datos:",i)}}return a}async uploadHomeImage(t){const s={folder:"home",maxSize:10485760,allowedTypes:["image/jpeg","image/png","image/webp"],resize:{width:1200,height:800,quality:85}};return this.uploadImage(t,s)}async uploadEventImage(t){const s={folder:"eventos",maxSize:5242880,allowedTypes:["image/jpeg","image/png","image/webp"],resize:{width:800,height:600,quality:85}};return this.uploadImage(t,s)}async uploadNewsImage(t){const s={folder:"noticias",maxSize:5242880,allowedTypes:["image/jpeg","image/png","image/webp"],resize:{width:600,height:400,quality:80}};return this.uploadImage(t,s)}async uploadGalleryImage(t){const s={folder:"gallery",maxSize:15728640,allowedTypes:["image/jpeg","image/png","image/webp"]};return this.uploadImage(t,s)}async deleteImage(t){try{return await new Promise(s=>setTimeout(s,500)),console.log(" Imagen eliminada de R2:",t),{success:!0,message:"Imagen eliminada exitosamente"}}catch(s){return console.error("Error eliminando imagen de R2:",s),{success:!1,error:"Error eliminando imagen"}}}getOptimizedUrl(t,s){if(!s)return t;const a=new URLSearchParams;return s.width&&a.append("w",s.width.toString()),s.height&&a.append("h",s.height.toString()),s.quality&&a.append("q",s.quality.toString()),`${t}${a.toString()?"?"+a.toString():""}`}async validateImageUrl(t){var s;try{const a=await fetch(t,{method:"HEAD"});return a.ok&&((s=a.headers.get("content-type"))==null?void 0:s.startsWith("image/"))===!0}catch{return!1}}}const Zm=new sN,cx=()=>{const{user:e,updateUser:t}=$e();return g.useEffect(()=>{e&&Zm.setAuthContext({user:e,updateUser:t})},[e,t]),Zm},aN=[{id:"eventos_publicos",label:"Eventos pblicos",description:"Participar en activaciones y demostraciones abiertas al pblico."},{id:"talleres_formativos",label:"Talleres formativos",description:"Compartir conocimientos en clases y sesiones educativas."},{id:"competencias",label:"Competencias",description:"Representar a ACA en campeonatos y circuitos competitivos."},{id:"voluntariado_social",label:"Voluntariado social",description:"Apoyar iniciativas solidarias y colaborativas de la comunidad."},{id:"mentoria_miembros",label:"Mentora a miembros",description:"Acompaar el desarrollo de nuevos socios y equipos."}],Jm=[{id:"principiante",label:"Principiante",description:"Recin ests comenzando y quieres aprender de la comunidad."},{id:"entusiasta",label:"Entusiasta",description:"Llevas tiempo practicando y buscas perfeccionar tu tcnica."},{id:"experto",label:"Experto",description:"Posees una amplia experiencia y dominas diferentes estilos."},{id:"competitivo",label:"Competitivo",description:"Participas activamente en campeonatos y circuitos profesionales."}],nN=/^(\d{1,2}\.?\d{3}\.?\d{3}-[\dkK])$/,oN=/^\+?\d{8,15}$/,iN=zn({fullName:xe().min(3,"Ingresa tu nombre completo"),email:xe().email("Email invlido"),phone:xe().min(8,"Ingresa un nmero de contacto vlido").regex(oN,"Formato invlido. Ej: +56912345678"),rut:xe().regex(nN,"Formato RUT invlido. Ej: 12.345.678-9").optional().or(Ht("")),birthdate:xe().optional().or(Ht("")),region:wo([...uc]),city:xe().min(2,"Ingresa tu ciudad de residencia"),occupation:xe().max(120,"Mximo 120 caracteres").optional().or(Ht("")),experienceLevel:wo(["principiante","entusiasta","experto","competitivo"]),specialties:xe().max(300,"Mximo 300 caracteres").optional().or(Ht("")),motivation:xe().min(40,"Cuntanos un poco ms sobre tu motivacin (mnimo 40 caracteres)"),contribution:xe().min(40,"Describe cmo te gustara aportar a la asociacin (mnimo 40 caracteres)"),availability:rw(wo(["eventos_publicos","talleres_formativos","competencias","voluntariado_social","mentoria_miembros"])).min(1,"Selecciona al menos una forma de participacin"),hasCompetitionExperience:Yp(),competitionDetails:xe().max(500,"Mximo 500 caracteres").optional().or(Ht("")),instagram:xe().max(120,"Mximo 120 caracteres").optional().or(Ht("")),otherNetworks:xe().max(200,"Mximo 200 caracteres").optional().or(Ht("")),references:xe().max(500,"Mximo 500 caracteres").optional().or(Ht("")),photoUrl:xe().url().optional().or(Ht(""))}).refine(e=>e.hasCompetitionExperience?!!e.competitionDetails&&e.competitionDetails.trim().length>=10:!0,{path:["competitionDetails"],message:"Cuntanos brevemente tu experiencia competitiva."}),lN=({onSuccess:e})=>{const t=cx(),[s,a]=g.useState({status:"idle"}),[n,o]=g.useState(null),[i,l]=g.useState(!1),[c,d]=g.useState(null),{handleSubmit:m,register:h,watch:x,setValue:N,formState:{errors:w,isSubmitting:j},reset:b}=Dn({resolver:On(iN),defaultValues:{fullName:"",email:"",phone:"",rut:"",birthdate:"",region:uc[6],city:"",occupation:"",experienceLevel:"entusiasta",specialties:"",motivation:"",contribution:"",availability:[],hasCompetitionExperience:!1,competitionDetails:"",instagram:"",otherNetworks:"",references:"",photoUrl:""}}),f=x("availability"),u=x("hasCompetitionExperience"),y=p=>{const k=new Set(f);k.has(p)?k.delete(p):k.add(p),N("availability",Array.from(k),{shouldValidate:!0})},v=g.useMemo(()=>{var p;return((p=Jm.find(k=>k.id===x("experienceLevel")))==null?void 0:p.label)??""},[x("experienceLevel")]),S=async p=>{var _,I,L,R,U,P,V,$;if(i){a({status:"error",message:"Espera a que la foto termine de subir antes de enviar tu postulacin."});return}a({status:"idle"});const k={fullName:p.fullName.trim(),email:p.email.trim().toLowerCase(),phone:p.phone.trim(),rut:((_=p.rut)==null?void 0:_.trim())||null,birthdate:p.birthdate||null,region:p.region,city:p.city.trim(),occupation:((I=p.occupation)==null?void 0:I.trim())||null,experienceLevel:p.experienceLevel,specialties:((L=p.specialties)==null?void 0:L.trim())||null,motivation:p.motivation.trim(),contribution:p.contribution.trim(),availability:p.availability,hasCompetitionExperience:p.hasCompetitionExperience,competitionDetails:((R=p.competitionDetails)==null?void 0:R.trim())||null,instagram:((U=p.instagram)==null?void 0:U.trim())||null,otherNetworks:((P=p.otherNetworks)==null?void 0:P.trim())||null,references:((V=p.references)==null?void 0:V.trim())||null,photoUrl:(($=p.photoUrl)==null?void 0:$.trim())||null},C=await No.submitApplication(k);C.success&&C.data?(a({status:"success",id:C.data.id}),b(),e==null||e(),o(null),d(null)):a({status:"error",message:C.error||"Ocurri un error al enviar tu postulacin."})},A=async p=>{var C;const k=(C=p.target.files)==null?void 0:C[0];if(k){d(null),l(!0);try{const _=await t.uploadImage(k,{folder:"postulaciones",maxSize:5242880,allowedTypes:["image/jpeg","image/png","image/webp"],resize:{width:900,height:900,quality:85}});_.success&&_.data?(N("photoUrl",_.data.url,{shouldValidate:!0}),o(_.data.url)):(d(_.error||"No pudimos subir la imagen. Intenta nuevamente."),N("photoUrl","",{shouldValidate:!0}))}catch(_){console.error("[JoinApplicationForm] Error uploading photo:",_),d("Ocurri un error al subir la imagen. Intenta nuevamente."),N("photoUrl","",{shouldValidate:!0})}finally{l(!1)}}},T=()=>{o(null),d(null),N("photoUrl","",{shouldValidate:!0})};return r.jsxs("div",{className:"relative mx-auto w-full max-w-4xl",children:[r.jsx("div",{className:"absolute inset-x-8 inset-y-0 -z-10 blur-3xl bg-gradient-to-br from-primary-500/10 via-orange-400/10 to-primary-500/5"}),r.jsxs("form",{onSubmit:m(S),className:"relative overflow-hidden rounded-3xl border border-primary-100 bg-white/90 shadow-soft-xl backdrop-blur",children:[r.jsx("input",{type:"hidden",...h("photoUrl")}),r.jsx("div",{className:"border-b border-primary-100 bg-primary-50/70 px-8 py-10 sm:px-12",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("span",{className:"inline-flex h-14 w-14 items-center justify-center rounded-2xl bg-primary-500 text-white shadow-lg shadow-primary-500/40",children:r.jsx(hm,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold text-neutral-900",children:"Postulacin a ACA Chile"}),r.jsx("p",{className:"mt-2 max-w-3xl text-neutral-600",children:"Completa este formulario para iniciar tu proceso de incorporacin. Necesitaremos la aprobacin de dos miembros del directorio para activar tu membresa como socio oficial."})]})]})}),r.jsxs("div",{className:"px-6 py-10 sm:px-12 space-y-10",children:[r.jsxs("section",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Datos personales"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Informacin bsica para contactar y registrar tu postulacin."})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Nombre completo *"}),r.jsx("input",{type:"text",placeholder:"Nombre y apellidos",...h("fullName"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.fullName&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.fullName.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Correo electrnico *"}),r.jsx("input",{type:"email",placeholder:"tu-email@ejemplo.com",...h("email"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.email&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Telfono de contacto *"}),r.jsx("input",{type:"tel",placeholder:"+56912345678",...h("phone"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.phone&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.phone.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"RUT"}),r.jsx("input",{type:"text",placeholder:"12.345.678-9",...h("rut"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.rut&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.rut.message})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"text-sm font-medium text-neutral-700 flex items-center justify-between",children:["Foto de perfil ",r.jsx("span",{className:"text-xs text-neutral-400",children:"(opcional, mx. 5MB)"})]}),r.jsx("div",{className:"mt-3 rounded-2xl border-2 border-dashed border-slate-200 bg-white/50 p-4 transition hover:border-primary-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-6 space-y-4 md:space-y-0",children:[r.jsx("div",{className:"flex-shrink-0",children:n?r.jsx("img",{src:n,alt:"Vista previa de la foto",className:"h-24 w-24 rounded-2xl object-cover shadow-soft-md"}):r.jsx("div",{className:"h-24 w-24 rounded-2xl bg-gradient-to-br from-neutral-100 to-neutral-200 flex items-center justify-center text-neutral-400 text-sm",children:"Sin foto"})}),r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsx("p",{className:"text-sm text-neutral-600",children:"Sube una fotografa reciente para tu perfil pblico. Aceptamos JPG, PNG o WEBP."}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("label",{className:"inline-flex items-center space-x-2 rounded-xl border border-primary-500 bg-primary-50/70 px-4 py-2 text-sm font-medium text-primary-600 hover:bg-primary-50 cursor-pointer transition",children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:A}),r.jsx("span",{children:n?"Cambiar foto":"Seleccionar foto"})]}),n&&r.jsx("button",{type:"button",onClick:T,className:"inline-flex items-center space-x-2 rounded-xl border border-neutral-300 px-4 py-2 text-sm text-neutral-600 hover:bg-neutral-100 transition",children:r.jsx("span",{children:"Eliminar foto"})})]}),i&&r.jsxs("div",{className:"inline-flex items-center space-x-2 text-sm text-primary-600",children:[r.jsx(Ue,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{children:"Subiendo imagen..."})]}),c&&r.jsx("p",{className:"text-sm text-red-500",children:c})]})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Fecha de nacimiento"}),r.jsx("input",{type:"date",...h("birthdate"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.birthdate&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.birthdate.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Ocupacin"}),r.jsx("input",{type:"text",placeholder:"A qu te dedicas?",...h("occupation"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.occupation&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.occupation.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Regin *"}),r.jsx("select",{...h("region"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100",children:uc.map(p=>r.jsx("option",{value:p,children:p},p))}),w.region&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.region.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Ciudad *"}),r.jsx("input",{type:"text",placeholder:"Ciudad o comuna",...h("city"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.city&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.city.message})]})]})]}),r.jsxs("section",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Tu experiencia"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Queremos conocerte mejor para acompaarte en el proceso."})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Nivel de experiencia *"}),r.jsx("div",{className:"space-y-3",children:Jm.map(p=>r.jsxs("label",{className:`flex cursor-pointer items-start gap-3 rounded-2xl border px-4 py-3 transition ${x("experienceLevel")===p.id?"border-primary-400 bg-primary-50/60":"border-slate-200 bg-white/50 hover:border-primary-200"}`,children:[r.jsx("input",{type:"radio",value:p.id,...h("experienceLevel"),className:"mt-1"}),r.jsxs("span",{children:[r.jsx("span",{className:"block font-semibold text-neutral-900",children:p.label}),r.jsx("span",{className:"text-sm text-neutral-500",children:p.description})]})]},p.id))}),w.experienceLevel&&r.jsx("p",{className:"text-sm text-primary-600",children:w.experienceLevel.message})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Especialidades o estilos favoritos"}),r.jsx("textarea",{rows:4,placeholder:"Parrilla argentina, ahumados, cocina al palo, etc.",...h("specialties"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.specialties&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.specialties.message})]}),r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/50 px-4 py-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Dv,{className:"mt-1 h-5 w-5 text-primary-500"}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-semibold text-neutral-800",children:["Nivel seleccionado: ",v]}),r.jsx("p",{className:"mt-1 text-xs text-neutral-500",children:"Usaremos esta informacin para asignarte actividades acordes a tu perfil."})]})]})})]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Qu te motiva a unirte a ACA Chile? *"}),r.jsx("textarea",{rows:5,placeholder:"Comparte tus motivaciones, expectativas y qu significa la cultura del asado para ti.",...h("motivation"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.motivation&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.motivation.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Cmo te gustara aportar a la comunidad? *"}),r.jsx("textarea",{rows:5,placeholder:"Cuntanos cmo imaginas tu participacin y qu habilidades aportaras.",...h("contribution"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.contribution&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.contribution.message})]})]})]}),r.jsxs("section",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"Disponibilidad y redes"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Define dnde te gustara participar y comparte enlaces relevantes."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"En qu iniciativas te gustara participar? *"}),r.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:aN.map(p=>{const k=f==null?void 0:f.includes(p.id);return r.jsxs("button",{type:"button",onClick:()=>y(p.id),className:`flex h-full w-full items-start gap-3 rounded-2xl border px-4 py-4 text-left transition ${k?"border-primary-400 bg-primary-50/60 shadow-soft-lg":"border-slate-200 bg-white/50 hover:border-primary-200"}`,children:[r.jsx("span",{className:`mt-1 inline-flex h-5 w-5 items-center justify-center rounded-full border ${k?"border-primary-500 bg-primary-500 text-white":"border-slate-300 bg-white text-transparent"}`,children:r.jsx(mc,{className:"h-3 w-3"})}),r.jsxs("span",{children:[r.jsx("span",{className:"block font-semibold text-neutral-900",children:p.label}),r.jsx("span",{className:"text-sm text-neutral-500",children:p.description})]})]},p.id)})}),w.availability&&r.jsx("p",{className:"text-sm text-primary-600",children:w.availability.message})]}),r.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white/50 px-4 py-5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Tienes experiencia en competencias profesionales?"}),r.jsx("button",{type:"button",onClick:()=>N("hasCompetitionExperience",!u),className:`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition ${u?"bg-primary-500 text-white":"bg-slate-100 text-neutral-600"}`,children:u?"S":"No"})]}),u?r.jsxs("div",{children:[r.jsx("textarea",{rows:4,placeholder:"Cuntanos qu campeonatos has disputado, logros o equipos con los que has trabajado.",...h("competitionDetails"),className:"mt-3 w-full rounded-2xl border border-slate-200 bg-white/70 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.competitionDetails&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.competitionDetails.message})]}):null]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Instagram"}),r.jsx("input",{type:"text",placeholder:"@usuario",...h("instagram"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.instagram&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.instagram.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Otras redes"}),r.jsx("input",{type:"text",placeholder:"Facebook, TikTok, YouTube, etc.",...h("otherNetworks"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.otherNetworks&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.otherNetworks.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Referencias o recomendaciones"}),r.jsx("textarea",{rows:4,placeholder:"Puedes incluir contactos dentro de ACA u otras referencias relevantes.",...h("references"),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white/50 px-4 py-3 text-sm text-neutral-900 transition focus:border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-100"}),w.references&&r.jsx("p",{className:"mt-2 text-sm text-primary-600",children:w.references.message})]})]})]}),r.jsxs("div",{className:"border-t border-primary-100 bg-primary-50/60 px-6 py-6 sm:px-12",children:[s.status==="error"?r.jsx("div",{className:"mb-6 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:s.message}):null,s.status==="success"?r.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-emerald-700",children:[r.jsx(mc,{className:"h-5 w-5"}),r.jsx("span",{children:"Gracias por tu postulacin! Nuestro directorio revisar tu solicitud y te contactaremos cuando obtengas las dos aprobaciones necesarias."})]}):null,r.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[r.jsx("p",{className:"text-sm text-neutral-500",children:"Al enviar este formulario autorizas a ACA Chile a contactarte y gestionar tu postulacin."}),r.jsx("button",{type:"submit",disabled:j,className:"inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-3 text-base font-semibold text-white shadow-lg shadow-primary-200/70 transition hover:from-primary-600 hover:to-primary-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-70",children:j?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-5 w-5 animate-spin"}),"Enviando postulacin..."]}):r.jsxs(r.Fragment,{children:[r.jsx(hm,{className:"h-5 w-5"}),"Enviar postulacin"]})})]})]})]})]})},cN=()=>r.jsx("div",{className:"bg-soft-gradient-light py-20",children:r.jsxs(Un,{children:[r.jsxs("div",{className:"mx-auto mb-16 max-w-4xl text-center",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-primary-200 bg-primary-50 px-4 py-2 text-sm font-semibold text-primary-600",children:[r.jsx(um,{className:"h-4 w-4"}),"Comunidad ACA Chile"]}),r.jsx("h1",{className:"mt-6 text-4xl font-bold leading-tight text-neutral-900 sm:text-5xl",children:"Postula para convertirte en socio oficial de ACA Chile"}),r.jsx("p",{className:"mt-4 text-lg text-neutral-600",children:"Buscamos personas apasionadas por la parrilla que quieran compartir conocimientos, representar a la comunidad y aportar a nuestros proyectos en todo el pas."})]}),r.jsx("div",{className:"grid gap-6 pb-16 md:grid-cols-3",children:[{icon:ct,title:"Comunidad profesional",description:"Comparte experiencias con parrilleros de todo Chile y accede a capacitaciones exclusivas."},{icon:Tv,title:"Proceso transparente",description:"Tu postulacin ser revisada por dos miembros del directorio para garantizar la calidad de la red."},{icon:um,title:"Compromiso ACA",description:"Ser socio implica representar los valores de la asociacin en eventos, talleres y competencias."}].map(({icon:e,title:t,description:s})=>r.jsxs("div",{className:"rounded-3xl border border-white/70 bg-white/80 p-6 shadow-soft-lg backdrop-blur",children:[r.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-primary-100 text-primary-600",children:r.jsx(e,{className:"h-6 w-6"})}),r.jsx("h3",{className:"mt-4 text-lg font-semibold text-neutral-900",children:t}),r.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:s})]},t))}),r.jsx(lN,{})]})});class dN{constructor(){dt(this,"baseUrl");this.baseUrl="https://acachile.pages.dev"}mapInscriptionStatus(t){if(!t)return"pending";switch(t.toLowerCase()){case"confirmed":case"confirmada":return"confirmed";case"waitlist":case"lista_espera":case"lista-espera":return"waitlist";case"cancelled":case"cancelada":return"cancelled";default:return"pending"}}normalizeInscription(t){var n;if(!t)return{id:"",eventId:0,eventoId:0,userId:0,status:"pending",createdAt:new Date().toISOString(),evento:null};const s=typeof t.eventId=="number"?t.eventId:typeof t.eventoId=="number"?t.eventoId:Number(t.eventId??t.eventoId??0),a=typeof t.createdAt=="string"?t.createdAt:typeof t.fechaInscripcion=="string"?t.fechaInscripcion:new Date().toISOString();return{id:String(t.id??`${t.userId??"user"}_${s}`),eventId:s,eventoId:typeof t.eventoId=="number"?t.eventoId:s,userId:Number(t.userId??t.usuarioId??((n=t.usuario)==null?void 0:n.id)??0),status:this.mapInscriptionStatus(typeof t.status=="string"?t.status:t.estado),estado:typeof t.estado=="string"?t.estado:void 0,notes:t.notes??t.notas??void 0,createdAt:a,fechaInscripcion:typeof t.fechaInscripcion=="string"?t.fechaInscripcion:void 0,updatedAt:typeof t.updatedAt=="string"?t.updatedAt:void 0,evento:t.evento??null}}async request(t,s){const a=this.getAuthToken(),n=await fetch(`${this.baseUrl}${t}`,{...s,headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...s==null?void 0:s.headers}});if(!n.ok){const o=await n.json().catch(()=>({error:"Error de conexin"}));throw new Error(o.error||`HTTP ${n.status}`)}return n.json()}getAuthToken(){const t=document.cookie.split(";");for(const s of t){const[a,n]=s.trim().split("=");if(a==="auth_token")return n||null}return null}async getEventos(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([n,o])=>{o!==void 0&&o!==""&&s.append(n,o.toString())});const a=s.toString();return this.request(`/api/eventos${a?`?${a}`:""}`)}async getEvento(t){return this.request(`/api/eventos/${t}`)}async createEvento(t){return this.request("/api/eventos",{method:"POST",body:JSON.stringify(t)})}async updateEvento(t,s){return this.request(`/api/eventos/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteEvento(t){return this.request(`/api/eventos/${t}`,{method:"DELETE"})}async inscribirseEvento(t,s){const a=await this.request(`/api/eventos/${t}/inscribirse`,{method:"POST",body:JSON.stringify({notes:s})});return a.success&&a.data?{...a,data:this.normalizeInscription(a.data)}:a}async cancelarInscripcion(t){return this.request(`/api/inscripciones/${t}`,{method:"DELETE"})}async getMyInscripciones(){const t=await this.request("/api/mis-inscripciones");return t.success&&Array.isArray(t.data)?{...t,data:t.data.map(s=>this.normalizeInscription(s))}:t}async getEventParticipants(t){const s=await this.request(`/api/eventos/${t}/inscripciones`);return s.success&&s.data?{success:!0,data:{evento:s.data.evento??null,inscripciones:Array.isArray(s.data.inscripciones)?s.data.inscripciones.map(n=>this.normalizeInscription(n)):[],stats:s.stats??void 0},message:s.message,error:s.error}:{success:s.success,message:s.message,error:s.error}}async uploadEventImage(t){const s=new FormData;s.append("image",t);const a=this.getAuthToken(),n=await fetch(`${this.baseUrl}/api/eventos/upload-image`,{method:"POST",headers:{...a&&{Authorization:`Bearer ${a}`}},body:s});if(!n.ok){const o=await n.json().catch(()=>({error:"Error al subir imagen"}));throw new Error(o.error||"Error al subir imagen")}return n.json()}}const Mt=new dN,uN={eventos:[],currentEvent:null,myInscripciones:[],isLoading:!1,error:null,pagination:{page:1,limit:12,total:0,pages:0},filters:{}},mN=(e,t)=>{var s,a;switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_EVENTOS":return{...e,eventos:t.payload.eventos,pagination:t.payload.pagination};case"SET_CURRENT_EVENT":return{...e,currentEvent:t.payload};case"ADD_EVENTO":return{...e,eventos:[t.payload,...e.eventos]};case"UPDATE_EVENTO":return{...e,eventos:e.eventos.map(n=>n.id===t.payload.id?t.payload:n),currentEvent:((s=e.currentEvent)==null?void 0:s.id)===t.payload.id?t.payload:e.currentEvent};case"DELETE_EVENTO":return{...e,eventos:e.eventos.filter(n=>n.id!==t.payload),currentEvent:((a=e.currentEvent)==null?void 0:a.id)===t.payload?null:e.currentEvent};case"SET_MY_INSCRIPCIONES":return{...e,myInscripciones:t.payload};case"ADD_INSCRIPCION":return{...e,myInscripciones:[...e.myInscripciones,t.payload],currentEvent:e.currentEvent?{...e.currentEvent,currentParticipants:e.currentEvent.currentParticipants+1}:null};case"REMOVE_INSCRIPCION":return{...e,myInscripciones:e.myInscripciones.filter(n=>n.id!==t.payload),currentEvent:e.currentEvent?{...e.currentEvent,currentParticipants:Math.max(0,e.currentEvent.currentParticipants-1)}:null};case"SET_FILTERS":return{...e,filters:{...e.filters,...t.payload}};default:return e}},dx=g.createContext(null),Fn=()=>{const e=g.useContext(dx);if(!e)throw new Error("useEvents debe ser usado dentro de un EventProvider");return e},hN=({children:e})=>{const[t,s]=g.useReducer(mN,uN),{user:a}=$e(),n=g.useCallback(async f=>{s({type:"SET_LOADING",payload:!0});try{const u=await Mt.getEventos({...t.filters,page:f||t.pagination.page,limit:t.pagination.limit});u.success&&u.data&&s({type:"SET_EVENTOS",payload:{eventos:u.data,pagination:u.pagination||t.pagination}})}catch(u){s({type:"SET_ERROR",payload:u instanceof Error?u.message:"Error al cargar eventos"})}finally{s({type:"SET_LOADING",payload:!1})}},[t.filters,t.pagination.page,t.pagination.limit]),o=g.useCallback(async f=>{s({type:"SET_LOADING",payload:!0});try{const u=await Mt.getEvento(f);u.success&&u.data&&s({type:"SET_CURRENT_EVENT",payload:u.data})}catch(u){s({type:"SET_ERROR",payload:u instanceof Error?u.message:"Error al cargar evento"})}finally{s({type:"SET_LOADING",payload:!1})}},[]),i=g.useCallback(async f=>{s({type:"SET_LOADING",payload:!0});try{const u=await Mt.createEvento(f);if(u.success&&u.data)return s({type:"ADD_EVENTO",payload:u.data}),u.data;throw new Error(u.error||"Error al crear evento")}catch(u){throw s({type:"SET_ERROR",payload:u instanceof Error?u.message:"Error al crear evento"}),u}finally{s({type:"SET_LOADING",payload:!1})}},[]),l=g.useCallback(async(f,u)=>{s({type:"SET_LOADING",payload:!0});try{const y=await Mt.updateEvento(f,u);if(y.success&&y.data)return s({type:"UPDATE_EVENTO",payload:y.data}),y.data;throw new Error(y.error||"Error al actualizar evento")}catch(y){throw s({type:"SET_ERROR",payload:y instanceof Error?y.message:"Error al actualizar evento"}),y}finally{s({type:"SET_LOADING",payload:!1})}},[]),c=g.useCallback(async f=>{s({type:"SET_LOADING",payload:!0});try{(await Mt.deleteEvento(f)).success&&s({type:"DELETE_EVENTO",payload:f})}catch(u){throw s({type:"SET_ERROR",payload:u instanceof Error?u.message:"Error al eliminar evento"}),u}finally{s({type:"SET_LOADING",payload:!1})}},[]),d=g.useCallback(async f=>{s({type:"SET_LOADING",payload:!0});try{const u=await Mt.inscribirseEvento(f);u.success&&u.data&&s({type:"ADD_INSCRIPCION",payload:u.data})}catch(u){throw s({type:"SET_ERROR",payload:u instanceof Error?u.message:"Error al inscribirse"}),u}finally{s({type:"SET_LOADING",payload:!1})}},[]),m=g.useCallback(async f=>{s({type:"SET_LOADING",payload:!0});try{(await Mt.cancelarInscripcion(f)).success&&s({type:"REMOVE_INSCRIPCION",payload:f})}catch(u){throw s({type:"SET_ERROR",payload:u instanceof Error?u.message:"Error al cancelar inscripcin"}),u}finally{s({type:"SET_LOADING",payload:!1})}},[]),h=g.useCallback(async()=>{if(a)try{const f=await Mt.getMyInscripciones();f.success&&f.data&&s({type:"SET_MY_INSCRIPCIONES",payload:f.data})}catch(f){console.error("Error loading user inscriptions:",f)}},[a]),x=g.useCallback(f=>{s({type:"SET_FILTERS",payload:f})},[]),N=g.useCallback(()=>{s({type:"SET_ERROR",payload:null})},[]),w=g.useCallback(f=>t.myInscripciones.some(u=>u.eventId===f&&u.status!=="cancelled"),[t.myInscripciones]),j=g.useCallback(f=>(a==null?void 0:a.id)===f.organizerId||(a==null?void 0:a.membershipType)==="vip",[a]),b={...t,fetchEventos:n,fetchEvento:o,createEvento:i,updateEvento:l,deleteEvento:c,inscribirseEvento:d,cancelarInscripcion:m,fetchMyInscripciones:h,setFilters:x,clearError:N,isUserInscribed:w,canUserEditEvent:j};return r.jsx(dx.Provider,{value:b,children:e})},fN=({evento:e,showActions:t=!0,variant:s="default"})=>{var j,b,f,u,y,v;const{isUserInscribed:a,inscribirseEvento:n}=Fn(),{isAuthenticated:o,user:i}=$e(),l=a(e.id),c=(i==null?void 0:i.id)===e.organizerId,d=e.maxParticipants&&e.currentParticipants>=e.maxParticipants,m=e.registrationOpen&&!l&&!d&&e.status==="published",h=S=>new Date(S).toLocaleDateString("es-CL",{day:"numeric",month:"short",year:"numeric"}),x=S=>{switch(S){case"campeonato":return"#EF4444";case"taller":return"#3B82F6";case"encuentro":return"#10B981";case"torneo":return"#F59E0B";default:return"#6B7280"}},N=()=>{switch(e.status){case"draft":return r.jsx("span",{className:"px-2 py-1 text-xs rounded-lg bg-yellow-50/90 backdrop-blur-medium border border-yellow-200/50 text-yellow-700 shadow-soft-xs",children:"Borrador"});case"cancelled":return r.jsx("span",{className:"px-2 py-1 text-xs rounded-lg bg-red-50/90 backdrop-blur-medium border border-red-200/50 text-red-700 shadow-soft-xs",children:"Cancelado"});case"completed":return r.jsx("span",{className:"px-2 py-1 text-xs rounded-lg bg-green-50/90 backdrop-blur-medium border border-green-200/50 text-green-700 shadow-soft-xs",children:"Completado"});default:return null}},w=async S=>{if(S.preventDefault(),S.stopPropagation(),!o){window.location.href="/login?redirect="+encodeURIComponent(window.location.pathname);return}try{await n(e.id)}catch(A){console.error("Error al inscribirse:",A)}};return s==="compact"?r.jsx(ne,{to:`/eventos/${e.id}`,className:"block p-4 bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105 group",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:e.image,alt:e.title,className:"w-16 h-16 object-cover rounded-xl shadow-soft-xs"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold truncate text-neutral-700 group-hover:text-primary-600 transition-colors",children:e.title}),r.jsxs("div",{className:"flex items-center text-sm mt-1 text-neutral-600",children:[r.jsx(ye,{className:"w-4 h-4 mr-1"}),h(e.date)]})]}),r.jsx(wi,{className:"w-5 h-5 text-neutral-400 group-hover:text-primary-500 transition-colors"})]})}):s==="featured"?r.jsxs("div",{className:"bg-white/70 backdrop-blur-soft border border-white/40 rounded-2xl p-8 shadow-soft-lg hover:shadow-soft-xl transition-all duration-300 hover:scale-105 relative overflow-hidden group",children:[r.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-1 px-3 py-1 rounded-full bg-gradient-to-r from-pastel-yellow-200 to-pastel-yellow-300 text-pastel-yellow-800 shadow-soft-xs",children:[r.jsx(Ub,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-semibold",children:"Destacado"})]}),r.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-6 shadow-soft-sm",children:[r.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium text-white backdrop-blur-medium shadow-soft-xs",style:{backgroundColor:x(e.type)},children:((b=(j=e.type)==null?void 0:j.charAt(0))==null?void 0:b.toUpperCase())+((f=e.type)==null?void 0:f.slice(1))||"Evento"})}),N()&&r.jsx("div",{className:"absolute top-4 right-4",children:N()})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ne,{to:`/eventos/${e.id}`,children:r.jsx("h3",{className:"text-xl font-bold hover:text-primary-600 transition-colors text-neutral-700",children:e.title})}),r.jsx("p",{className:"text-sm leading-relaxed line-clamp-2 text-neutral-600",children:e.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-neutral-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ye,{className:"w-4 h-4"}),r.jsx("span",{children:h(e.date)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{className:"truncate",children:e.location})]}),e.time&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mr,{className:"w-4 h-4"}),r.jsx("span",{children:e.time})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ct,{className:"w-4 h-4"}),r.jsxs("span",{children:[e.currentParticipants,e.maxParticipants&&`/${e.maxParticipants}`]})]})]}),t&&r.jsxs("div",{className:"flex space-x-3 pt-4",children:[m&&r.jsx("button",{onClick:w,className:"flex-1 py-3 rounded-xl text-white font-medium bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-lg hover:shadow-soft-xl transition-all duration-300 hover:scale-105",children:"Inscribirse"}),l&&o&&r.jsx("span",{className:"flex-1 py-3 px-4 rounded-xl text-center font-medium bg-green-50/80 backdrop-blur-medium border border-green-200/50 text-green-700 shadow-soft-xs",children:"Inscrito "}),r.jsx(ne,{to:`/eventos/${e.id}`,className:"px-6 py-3 rounded-xl font-medium bg-white/60 backdrop-blur-medium border border-white/30 text-neutral-700 shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105",children:"Ver Detalles"})]})]})]}):r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl p-6 shadow-soft-md hover:shadow-soft-lg transition-all duration-300 hover:scale-105 group",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-xl mb-6 shadow-soft-sm",children:[r.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium text-white flex items-center space-x-1 backdrop-blur-medium shadow-soft-xs",style:{backgroundColor:x(e.type)},children:[r.jsx(Vb,{className:"w-3 h-3"}),r.jsx("span",{children:((y=(u=e.type)==null?void 0:u.charAt(0))==null?void 0:y.toUpperCase())+((v=e.type)==null?void 0:v.slice(1))||"Evento"})]})}),N()&&r.jsx("div",{className:"absolute top-4 right-4",children:N()}),c&&r.jsx("div",{className:"absolute bottom-4 right-4",children:r.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-medium bg-blue-500/90 backdrop-blur-medium text-white shadow-soft-xs",children:"Mi evento"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ne,{to:`/eventos/${e.id}`,children:r.jsx("h3",{className:"text-xl font-bold hover:text-primary-600 transition-colors text-neutral-700",children:e.title})}),r.jsx("p",{className:"text-sm leading-relaxed line-clamp-3 text-neutral-600",children:e.description}),r.jsxs("div",{className:"space-y-2 text-sm text-neutral-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ye,{className:"w-4 h-4"}),r.jsx("span",{children:h(e.date)}),e.time&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(mr,{className:"w-4 h-4"}),r.jsx("span",{children:e.time})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{className:"truncate",children:e.location})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ct,{className:"w-4 h-4"}),r.jsxs("span",{children:[e.currentParticipants,e.maxParticipants&&`/${e.maxParticipants}`," participantes"]})]}),e.price&&e.price>0&&r.jsxs("span",{className:"font-semibold text-green-600",children:["$",e.price.toLocaleString("es-CL")]})]})]}),t&&r.jsxs("div",{className:"flex space-x-3 pt-2",children:[o?r.jsxs(r.Fragment,{children:[m&&r.jsx("button",{onClick:w,className:"flex-1 py-3 rounded-xl text-white font-medium bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-lg hover:shadow-soft-xl transition-all duration-300 hover:scale-105",children:"Inscribirse"}),l&&r.jsx("span",{className:"flex-1 py-3 px-4 rounded-xl text-center font-medium bg-green-50/80 backdrop-blur-medium border border-green-200/50 text-green-700 shadow-soft-xs",children:"Inscrito "}),d&&!l&&r.jsx("span",{className:"flex-1 py-3 px-4 rounded-xl text-center font-medium bg-red-50/80 backdrop-blur-medium border border-red-200/50 text-red-700 shadow-soft-xs",children:"Completo"})]}):r.jsx("button",{onClick:()=>{},className:"flex-1 py-3 rounded-xl text-white font-medium bg-gradient-to-r from-neutral-500 to-neutral-600 shadow-soft-lg hover:shadow-soft-xl transition-all duration-300 hover:scale-105",children:"Inicia sesin para inscribirte"}),r.jsx(ne,{to:`/eventos/${e.id}`,className:"px-6 py-3 rounded-xl font-medium bg-white/60 backdrop-blur-medium border border-white/30 text-neutral-700 shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105",children:"Ver Ms"})]})]})]})},pN=()=>{const[e,t]=g.useState("grid"),[s,a]=g.useState(""),[n,o]=g.useState(""),[i,l]=g.useState("date"),{eventos:c,isLoading:d,error:m,pagination:h,fetchEventos:x,setFilters:N,clearError:w}=Fn(),{isAuthenticated:j}=$e(),[b,f]=g.useState(j?"":"published");g.useEffect(()=>{f(j?"":"published")},[j]),g.useEffect(()=>{N({search:s,type:n,status:b})},[s,n,b,N]),g.useEffect(()=>{x(1)},[x,j]);const u=Pe.useMemo(()=>{const S=[...c];switch(i){case"date":return S.sort((A,T)=>new Date(A.date).getTime()-new Date(T.date).getTime());case"title":return S.sort((A,T)=>A.title.localeCompare(T.title));case"participants":return S.sort((A,T)=>T.currentParticipants-A.currentParticipants);default:return S}},[c,i]),y=S=>{S.preventDefault(),x(1)},v=()=>{h.page<h.pages&&x(h.page+1)};return m?r.jsxs("div",{className:"bg-red-50/80 backdrop-blur-soft border border-red-200/50 rounded-2xl p-8 text-center shadow-soft-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-700",children:"Error al cargar eventos"}),r.jsx("p",{className:"mb-4 text-red-600",children:m}),r.jsx("button",{onClick:()=>{w(),x(1)},className:"px-6 py-2 rounded-xl bg-gradient-to-r from-red-600 to-red-500 text-white shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105",children:"Reintentar"})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:"Eventos ACA Chile"}),r.jsx("p",{className:"text-lg text-neutral-600",children:"Descubre y participa en nuestros eventos de asadores"})]}),j&&r.jsxs(ne,{to:"/eventos/crear",className:"flex items-center space-x-2 px-6 py-3 rounded-xl text-white font-medium bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-lg hover:shadow-soft-xl transition-all duration-300 hover:scale-105 group",children:[r.jsx(or,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),r.jsx("span",{children:"Crear Evento"})]})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl p-6 shadow-soft-lg",children:[r.jsx("form",{onSubmit:y,className:"mb-6",children:r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex items-center bg-white/70 backdrop-blur-medium border border-white/40 rounded-xl px-4 py-3 shadow-soft-xs hover:shadow-soft-sm transition-shadow duration-300",children:[r.jsx(Qe,{className:"w-5 h-5 mr-3 text-neutral-500"}),r.jsx("input",{type:"text",placeholder:"Buscar eventos por nombre, ubicacin...",value:s,onChange:S=>a(S.target.value),className:"flex-1 bg-transparent outline-none text-neutral-700 placeholder-neutral-500"}),r.jsx("button",{type:"submit",className:"ml-3 px-4 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105",children:"Buscar"})]})})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("select",{value:n,onChange:S=>o(S.target.value),className:"px-4 py-2 rounded-xl bg-white/50 backdrop-blur-medium border border-white/30 outline-none text-neutral-700 shadow-soft-xs hover:shadow-soft-sm transition-shadow duration-300",children:[r.jsx("option",{value:"",children:"Todos los tipos"}),r.jsx("option",{value:"campeonato",children:"Campeonatos"}),r.jsx("option",{value:"taller",children:"Talleres"}),r.jsx("option",{value:"encuentro",children:"Encuentros"}),r.jsx("option",{value:"competencia",children:"Competencias"}),r.jsx("option",{value:"masterclass",children:"Masterclass"})]}),r.jsxs("select",{value:b,onChange:S=>f(S.target.value),className:"px-4 py-2 rounded-xl bg-white/50 backdrop-blur-medium border border-white/30 outline-none text-neutral-700 shadow-soft-xs hover:shadow-soft-sm transition-shadow duration-300",children:[r.jsx("option",{value:"",children:"Todos los estados"}),r.jsx("option",{value:"published",children:"Publicados"}),r.jsx("option",{value:"draft",children:"Borradores"}),r.jsx("option",{value:"completed",children:"Completados"}),r.jsx("option",{value:"cancelled",children:"Cancelados"})]}),r.jsxs("select",{value:i,onChange:S=>l(S.target.value),className:"px-4 py-2 rounded-xl bg-white/50 backdrop-blur-medium border border-white/30 outline-none text-neutral-700 shadow-soft-xs hover:shadow-soft-sm transition-shadow duration-300",children:[r.jsx("option",{value:"date",children:"Ordenar por fecha"}),r.jsx("option",{value:"title",children:"Ordenar por ttulo"}),r.jsx("option",{value:"participants",children:"Ordenar por participantes"})]})]}),r.jsxs("div",{className:"flex bg-white/40 backdrop-blur-medium border border-white/30 rounded-xl overflow-hidden shadow-soft-xs",children:[r.jsx("button",{onClick:()=>t("grid"),className:`p-3 transition-all duration-300 ${e==="grid"?"bg-white/80 shadow-soft-sm text-primary-600":"hover:bg-white/60 text-neutral-600"}`,children:r.jsx(rb,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>t("list"),className:`p-3 transition-all duration-300 ${e==="list"?"bg-white/80 shadow-soft-sm text-primary-600":"hover:bg-white/60 text-neutral-600"}`,children:r.jsx(db,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:h.total>0?r.jsxs(r.Fragment,{children:["Mostrando ",c.length," de ",h.total," eventos"]}):"No se encontraron eventos"})]}),d&&c.length===0&&r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-white/60 backdrop-blur-soft border border-white/30 shadow-soft-lg flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-3 border-primary-500 border-t-transparent rounded-full animate-spin"})})}),u.length>0&&r.jsx("div",{className:`${e==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8":"space-y-6"}`,children:u.map(S=>r.jsx(fN,{evento:S,variant:e==="list"?"compact":"default"},S.id))}),!d&&u.length===0&&r.jsxs("div",{className:"text-center py-16 bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-semibold mb-2 text-neutral-700",children:"No se encontraron eventos"}),r.jsx("p",{className:"mb-6 text-neutral-600",children:"Intenta cambiar los filtros o crear un nuevo evento"}),j&&r.jsxs(ne,{to:"/eventos/nuevo",className:"inline-flex items-center space-x-2 px-6 py-3 rounded-xl text-white font-medium bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-lg hover:shadow-soft-xl transition-all duration-300 hover:scale-105 group",children:[r.jsx(or,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),r.jsx("span",{children:"Crear Primer Evento"})]})]}),h.page<h.pages&&r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:v,disabled:d,className:"px-8 py-4 rounded-xl font-medium bg-white/60 backdrop-blur-soft border border-white/30 text-neutral-700 shadow-soft-lg hover:shadow-soft-xl transition-all duration-300 hover:scale-105 disabled:opacity-50",children:d?"Cargando...":"Cargar ms eventos"})})]})},xN=()=>r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-pastel-purple-50 to-neutral-100 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-r from-primary-200/20 to-pastel-blue-200/20 rounded-full blur-3xl animate-soft-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-pastel-pink-200/20 to-primary-200/20 rounded-full blur-3xl animate-soft-pulse delay-1000"}),r.jsx(bs,{children:r.jsx("div",{className:"py-12 relative z-10",children:r.jsx(pN,{})})})]}),gN=()=>{var C,_;const{id:e}=Ln(),t=Rt(),{user:s}=$e(),[a,n]=g.useState(null),[o,i]=g.useState(!0),[l,c]=g.useState(null),[d,m]=g.useState({isInscribed:!1,canInscribe:!1}),[h,x]=g.useState(!1),[N,w]=g.useState(!1),[j,b]=g.useState("");g.useEffect(()=>{if(e&&e!==void 0){const I=parseInt(e);isNaN(I)?(c("ID de evento invlido"),i(!1)):f(I)}else c("ID de evento no encontrado"),i(!1)},[e]),g.useEffect(()=>{a&&s&&u()},[a,s]);const f=async I=>{try{i(!0);const L=await Mt.getEvento(I);L.success&&L.data?n(L.data):c(L.error||"Evento no encontrado")}catch(L){c("Error cargando el evento"),console.error("Error loading event:",L)}finally{i(!1)}},u=async()=>{if(!(!a||!s))try{const I=await Mt.getMyInscripciones();if(I.success&&I.data){const R=I.data.find(U=>U.eventId===a.id&&U.status!=="cancelled");if(R){m({isInscribed:!0,inscriptionData:R,canInscribe:!1,message:v(R.status)});return}}else I.success||console.error("Error fetching inscriptions:",I.error);const L=y(a);m({isInscribed:!1,canInscribe:L.can,message:L.message})}catch(I){console.error("Error checking inscription status:",I);const L=y(a);m({isInscribed:!1,canInscribe:L.can,message:L.message})}},y=I=>I.registrationOpen?new Date(I.date)<new Date?{can:!1,message:"Este evento ya pas"}:I.maxParticipants&&I.currentParticipants>=I.maxParticipants?{can:!0,message:"Se agregar a la lista de espera"}:{can:!0}:{can:!1,message:"Las inscripciones estn cerradas"},v=I=>{switch(I){case"confirmed":return"Inscripcin confirmada";case"pending":return"Inscripcin pendiente de confirmacin";case"waitlist":return"En lista de espera";case"cancelled":return"Inscripcin cancelada";default:return""}},S=async()=>{var I,L;if(!(!a||!s)){x(!0);try{const R=await Mt.inscribirseEvento(a.id,j);R.success?(await u(),w(!1),b(""),alert(R.message||"Inscripcin exitosa!")):(I=R.error)!=null&&I.includes("ya est inscrito")||(L=R.error)!=null&&L.includes("already registered")?(await u(),w(!1),alert("Ya ests inscrito en este evento")):alert(R.error||"Error en la inscripcin")}catch(R){alert("Error procesando la inscripcin"),console.error("Inscription error:",R)}finally{x(!1)}}},A=async()=>{if(!(!d.inscriptionData||!window.confirm("Ests seguro de que deseas cancelar tu inscripcin? Esta accin no se puede deshacer."))){x(!0);try{const L=await Mt.cancelarInscripcion(d.inscriptionData.id);L.success?(await u(),alert("Inscripcin cancelada exitosamente")):alert(L.error||"Error cancelando la inscripcin")}catch(L){alert("Error cancelando la inscripcin"),console.error("Cancellation error:",L)}finally{x(!1)}}},T=I=>!I||I===0?"Gratis":`$${I.toLocaleString("es-CL")}`,p=I=>new Date(I).toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),k=I=>{switch(I){case"confirmed":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"waitlist":return"text-orange-600 bg-orange-50";case"cancelled":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return o?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando evento..."})]})}):l||!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ne,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),r.jsx("p",{className:"text-gray-600 mb-4",children:l}),r.jsx("button",{onClick:()=>t("/eventos"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Volver a Eventos"})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-pastel-purple-50 to-neutral-100 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-r from-primary-200/20 to-pastel-blue-200/20 rounded-full blur-3xl animate-soft-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-pastel-pink-200/20 to-primary-200/20 rounded-full blur-3xl animate-soft-pulse delay-1000"}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:[r.jsx("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg overflow-hidden mb-8",children:r.jsxs("div",{className:"relative h-64 md:h-80",children:[r.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent flex items-end",children:r.jsxs("div",{className:"p-6 text-white",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 drop-shadow-lg",children:a.title}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsx("span",{className:"bg-primary-600 px-3 py-1 rounded-full capitalize backdrop-blur-medium shadow-soft-sm",children:a.type}),r.jsx("span",{className:"bg-white/20 backdrop-blur-medium px-3 py-1 rounded-full shadow-soft-sm",children:T(a.price)})]})]})})]})}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"md:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center text-neutral-700",children:[r.jsx(ib,{className:"w-5 h-5 mr-2 text-primary-600"}),"Informacin del Evento"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(ye,{className:"w-5 h-5 mr-3 text-red-600"}),r.jsx("span",{children:p(a.date)})]}),a.time&&r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(mr,{className:"w-5 h-5 mr-3 text-red-600"}),r.jsxs("span",{children:[a.time," hrs"]})]}),r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(it,{className:"w-5 h-5 mr-3 text-red-600"}),r.jsx("span",{children:a.location})]}),r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(ct,{className:"w-5 h-5 mr-3 text-red-600"}),r.jsxs("span",{children:[a.currentParticipants," participantes",a.maxParticipants&&` / ${a.maxParticipants} mximo`]})]})]}),r.jsxs("div",{className:"prose max-w-none",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Descripcin"}),r.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:a.description})]})]}),a.requirements&&a.requirements.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Requisitos"}),r.jsx("ul",{className:"space-y-2",children:a.requirements.map((I,L)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:I})]},L))})]}),a.tags&&a.tags.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((I,L)=>r.jsxs("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:["#",I]},L))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Inscripcin"}),s?r.jsx("div",{className:"space-y-4",children:d.isInscribed?r.jsxs("div",{children:[r.jsx("div",{className:`px-4 py-3 rounded-lg border ${k(((C=d.inscriptionData)==null?void 0:C.status)||"confirmed")}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Re,{className:"w-5 h-5 mr-2"}),r.jsx("span",{className:"font-medium",children:d.message})]})}),((_=d.inscriptionData)==null?void 0:_.status)==="confirmed"&&r.jsx("button",{onClick:A,disabled:h,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:h?"Cancelando...":"Cancelar Inscripcin"})]}):r.jsx("div",{children:d.canInscribe?r.jsxs("button",{onClick:()=>w(!0),className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center",children:[r.jsx(Si,{className:"w-5 h-5 mr-2"}),"Inscribirse"]}):r.jsx("div",{className:"bg-gray-100 text-gray-600 px-4 py-3 rounded-lg text-center",children:d.message})})}):r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Inicia sesin para inscribirte"}),r.jsx("button",{onClick:()=>t("/auth"),className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Iniciar Sesin"})]})]}),a.contactInfo&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[a.contactInfo.email&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",r.jsx("a",{href:`mailto:${a.contactInfo.email}`,className:"text-red-600 hover:underline",children:a.contactInfo.email})]}),a.contactInfo.phone&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Telfono:"})," ",r.jsx("a",{href:`tel:${a.contactInfo.phone}`,className:"text-red-600 hover:underline",children:a.contactInfo.phone})]}),a.contactInfo.website&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sitio web:"})," ",r.jsx("a",{href:a.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:underline",children:"Visitar sitio"})]})]})]})]})]})]}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Confirmar Inscripcin"}),r.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ye,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-600 mb-3",children:["Te inscribirs en: ",r.jsx("strong",{children:a.title})]}),d.message&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-yellow-800 text-sm",children:[r.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),d.message]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentarios adicionales (opcional)"}),r.jsx("textarea",{value:j,onChange:I=>b(I.target.value),placeholder:"Algo especial que debamos saber?",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:S,disabled:h,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:h?"Inscribiendo...":"Confirmar"})]})]})})]})},yN=zn({title:xe().min(5,"El ttulo debe tener al menos 5 caracteres").max(100,"El ttulo no puede exceder 100 caracteres"),description:xe().min(20,"La descripcin debe tener al menos 20 caracteres").max(1e3,"La descripcin no puede exceder 1000 caracteres"),date:xe().min(1,"La fecha es requerida").refine(e=>{const t=new Date(e),s=new Date;return s.setHours(0,0,0,0),t>=s},"La fecha debe ser hoy o en el futuro"),endDate:xe().optional(),time:xe().min(1,"La hora es requerida"),location:xe().min(5,"La ubicacin debe tener al menos 5 caracteres").max(100,"La ubicacin no puede exceder 100 caracteres"),type:wo(["campeonato","taller","encuentro","competencia","masterclass"],{errorMap:()=>({message:"Selecciona un tipo de evento vlido"})}),maxParticipants:Vm().min(1,"Debe permitir al menos 1 participante").max(1e3,"No puede exceder 1000 participantes").optional(),price:Vm().min(0,"El precio no puede ser negativo").max(1e6,"El precio es demasiado alto"),registrationOpen:Yp(),requirements:xe().optional(),tags:xe().optional(),contactEmail:xe().email("Debe ser un email vlido").optional().or(Ht("")),contactPhone:xe().optional(),contactWebsite:xe().url("Debe ser una URL vlida").optional().or(Ht(""))}).superRefine((e,t)=>{if(e.endDate&&e.date){const s=new Date(e.date);new Date(e.endDate)<s&&t.addIssue({code:B.custom,message:"La fecha de fin debe ser posterior o igual a la fecha de inicio",path:["endDate"]})}}),vN=()=>{const e=Rt(),{user:t}=$e(),{createEvento:s,isLoading:a}=Fn(),[n,o]=g.useState(!1),[i,l]=g.useState(""),{register:c,handleSubmit:d,watch:m,formState:{errors:h,isValid:x},reset:N}=Dn({resolver:On(yN),mode:"onChange",defaultValues:{price:0,registrationOpen:!0}}),w=m();Pe.useEffect(()=>{t||e("/auth")},[t,e]);const j=v=>{var T;const S=(T=v.target.files)==null?void 0:T[0];if(!S)return;if(S.size>5*1024*1024){alert("La imagen no puede superar 5MB");return}const A=new FileReader;A.onload=p=>{var k;return l((k=p.target)==null?void 0:k.result)},A.readAsDataURL(S)},b=async v=>{var S,A,T;if(t)try{const p=v.requirements?v.requirements.split(`
`).map(_=>_.trim()).filter(Boolean):[],k=v.tags?v.tags.split(",").map(_=>_.trim()).filter(Boolean):[],C={};(S=v.contactEmail)!=null&&S.trim()&&(C.email=v.contactEmail.trim()),(A=v.contactPhone)!=null&&A.trim()&&(C.phone=v.contactPhone.trim()),(T=v.contactWebsite)!=null&&T.trim()&&(C.website=v.contactWebsite.trim()),await s({title:v.title,description:v.description,date:v.date,time:v.time,location:v.location,type:v.type,maxParticipants:v.maxParticipants,price:v.price,registrationOpen:v.registrationOpen,status:"published",image:i||"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800&h=500&fit=crop",requirements:p,tags:k,contactInfo:Object.keys(C).length>0?C:void 0}),e("/eventos")}catch(p){console.error("Error al crear evento:",p)}};if(!t)return r.jsx("div",{className:"min-h-screen bg-soft-gradient-light flex items-center justify-center",children:r.jsxs("div",{className:"rounded-3xl bg-white/70 backdrop-blur-md border border-white/60 shadow-soft-xl px-10 py-12 text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold text-neutral-900 mb-3",children:"Acceso requerido"}),r.jsx("p",{className:"text-neutral-600",children:"Debes iniciar sesin para crear eventos."})]})});const f="w-full px-4 py-3 rounded-2xl bg-white/80 border border-white/40 text-neutral-800 shadow-soft-sm focus:outline-none focus:ring-2 focus:ring-primary-400 transition",u="block text-sm font-medium text-neutral-500 mb-2",y=g.useMemo(()=>[{icon:r.jsx(ye,{className:"w-4 h-4"}),label:"Fecha inicio",value:w.date||""},{icon:r.jsx(ct,{className:"w-4 h-4"}),label:"Cupos mximos",value:w.maxParticipants?w.maxParticipants:"Ilimitado"},{icon:r.jsx(_d,{className:"w-4 h-4"}),label:"Precio",value:w.price?`$${w.price}`:"Gratis"},{icon:r.jsx(it,{className:"w-4 h-4"}),label:"Ubicacin",value:w.location||"Por definir"}],[w]);return r.jsxs("div",{className:"min-h-screen bg-soft-gradient-light relative overflow-hidden py-12",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 w-72 bg-primary-500/10 blur-3xl"}),r.jsx("div",{className:"absolute right-10 top-10 w-80 h-80 bg-pastel-blue/20 rounded-full blur-3xl"}),r.jsxs("div",{className:"relative mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 space-y-10",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:()=>e("/eventos"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-2xl bg-white/70 border border-white/60 text-neutral-600 shadow-soft-sm hover:shadow-soft-xl transition",children:[r.jsx(Sr,{className:"w-4 h-4"}),"Volver"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Crear evento"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Publica actividades oficiales para la comunidad ACA"})]})]}),r.jsxs("button",{type:"button",onClick:()=>o(v=>!v),className:`inline-flex items-center gap-2 px-4 py-2 rounded-2xl text-sm font-semibold transition ${n?"bg-primary-500 text-white shadow-soft-colored-red":"bg-white/70 text-neutral-600 border border-white/60"}`,children:[r.jsx(ot,{className:"w-4 h-4"}),n?"Ocultar vista previa":"Vista previa"]})]}),r.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1.15fr_0.85fr] items-start",children:[r.jsx("div",{className:"rounded-3xl bg-white/70 backdrop-blur-md border border-white/60 shadow-soft-xl px-6 sm:px-8 py-8 space-y-8",children:r.jsxs("form",{onSubmit:d(b),className:"space-y-8",children:[r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-600",children:r.jsx(ye,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-neutral-900",children:"Informacin bsica"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Completa los datos principales del evento"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Ttulo del evento *"}),r.jsx("input",{...c("title"),className:f,placeholder:"Ej: Campeonato Nacional de Asadores 2025"}),h.title&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.title.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Descripcin *"}),r.jsx("textarea",{...c("description"),rows:4,className:`${f} resize-none`,placeholder:"Describe tu evento, objetivos y actividades destacadas"}),h.description&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.description.message})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Tipo de evento *"}),r.jsxs("select",{...c("type"),className:f,children:[r.jsx("option",{value:"",children:"Selecciona un tipo"}),r.jsx("option",{value:"campeonato",children:"Campeonato"}),r.jsx("option",{value:"taller",children:"Taller"}),r.jsx("option",{value:"encuentro",children:"Encuentro"}),r.jsx("option",{value:"competencia",children:"Competencia"}),r.jsx("option",{value:"masterclass",children:"Masterclass"})]}),h.type&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.type.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Ubicacin *"}),r.jsx("input",{...c("location"),className:f,placeholder:"Ej: Sporting Club, Via del Mar"}),h.location&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.location.message})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Fecha de inicio *"}),r.jsx("input",{type:"date",...c("date"),min:new Date().toISOString().split("T")[0],className:f}),h.date&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.date.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Fecha de fin (opcional)"}),r.jsx("input",{type:"date",...c("endDate"),min:new Date().toISOString().split("T")[0],className:f}),h.endDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.endDate.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Hora *"}),r.jsx("input",{type:"time",...c("time"),className:f}),h.time&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.time.message})]})]})]}),r.jsxs("div",{className:"border-t border-white/60 pt-6 space-y-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-600",children:r.jsx(ct,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-neutral-900",children:"Configuracin del evento"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Define cupos, precio e inscripcin"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Cupos mximos"}),r.jsx("input",{type:"number",...c("maxParticipants",{valueAsNumber:!0}),className:f,placeholder:"Ej: 80"}),h.maxParticipants&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.maxParticipants.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Precio CLP *"}),r.jsx("input",{type:"number",...c("price",{valueAsNumber:!0}),className:f,placeholder:"Ej: 20000"}),h.price&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.price.message})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/70 border border-white/60 rounded-2xl px-4 py-3",children:[r.jsx("input",{type:"checkbox",...c("registrationOpen"),id:"registration-open",className:"h-4 w-4 text-primary-500 rounded border-neutral-300"}),r.jsx("label",{htmlFor:"registration-open",className:"text-sm text-neutral-600",children:"Permitir inscripciones en lnea para este evento"})]})]}),r.jsxs("div",{className:"border-t border-white/60 pt-6 space-y-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-600",children:r.jsx(_s,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-neutral-900",children:"Material adicional"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Define imagen de portada, tags y requisitos"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"event-image"}),r.jsxs("label",{htmlFor:"event-image",className:"inline-flex items-center gap-2 px-4 py-2 rounded-2xl bg-primary-500 text-white text-sm font-semibold shadow-soft-sm cursor-pointer hover:bg-primary-600 transition",children:[r.jsx(_s,{className:"w-4 h-4"}),"Subir imagen"]}),r.jsx("span",{className:"text-xs text-neutral-500",children:"PNG o JPG hasta 5MB"})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Requisitos (uno por lnea)"}),r.jsx("textarea",{...c("requirements"),rows:3,className:`${f} resize-none`,placeholder:`Ej:
Delantal obligatorio
Traer propio set de cuchillos`})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Tags (separados por coma)"}),r.jsx("input",{...c("tags"),className:f,placeholder:"parrilla, campeonato, costillar"})]})]}),r.jsxs("div",{className:"border-t border-white/60 pt-6 space-y-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-600",children:r.jsx(it,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-neutral-900",children:"Informacin de contacto"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Opcional para consultas directas"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Correo electrnico"}),r.jsx("input",{...c("contactEmail"),className:f,placeholder:"contacto@acachile.cl"}),h.contactEmail&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.contactEmail.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:u,children:"Telfono (opcional)"}),r.jsx("input",{...c("contactPhone"),className:f,placeholder:"+56 9 1234 5678"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:u,children:"Sitio web / Link de registro"}),r.jsx("input",{...c("contactWebsite"),className:f,placeholder:"https://"}),h.contactWebsite&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.contactWebsite.message})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[r.jsxs("button",{type:"submit",disabled:!x||a,className:`inline-flex items-center gap-2 px-5 py-3 rounded-2xl text-white font-semibold transition shadow-soft-colored-red ${x&&!a?"bg-primary-500 hover:bg-primary-600":"bg-neutral-400 cursor-not-allowed"}`,children:[r.jsx(aa,{className:"w-4 h-4"}),a?"Guardando":"Publicar evento"]}),r.jsx("button",{type:"button",onClick:()=>{N(),l("")},className:"px-5 py-3 rounded-2xl border border-white/60 bg-white/70 text-neutral-600 font-semibold shadow-soft-sm hover:shadow-soft-xl transition",children:"Limpiar campos"})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"rounded-3xl bg-white/70 backdrop-blur-md border border-white/60 shadow-soft-xl p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Resumen del evento"}),r.jsx("span",{className:"text-xs text-neutral-500 uppercase",children:"Vista previa"})]}),r.jsx("div",{className:"space-y-3",children:y.map(v=>r.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/80 border border-white/60 px-4 py-3",children:[r.jsx("span",{className:"text-primary-500",children:v.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-neutral-400",children:v.label}),r.jsx("p",{className:"text-sm font-semibold text-neutral-800",children:v.value})]})]},v.label))}),r.jsxs("div",{className:"rounded-2xl bg-neutral-900 text-neutral-100 p-5",children:[r.jsx("p",{className:"text-xs uppercase text-neutral-400 mb-2",children:"Nombre"}),r.jsx("p",{className:"text-lg font-semibold mb-3",children:w.title||"Evento ACA"}),r.jsx("p",{className:"text-sm text-neutral-300 leading-relaxed",children:w.description||"Describe aqu tu evento para motivar a la comunidad."})]})]}),(n||i)&&r.jsxs("div",{className:"rounded-3xl bg-white/70 backdrop-blur-md border border-white/60 shadow-soft-xl overflow-hidden",children:[r.jsxs("div",{className:"relative h-48 bg-neutral-200",children:[r.jsx("img",{src:i||"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?auto=format&fit=crop&w=1000&q=80",alt:"preview",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),r.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-white/80",children:"Avance visual"}),r.jsx("h4",{className:"text-lg font-semibold",children:w.title||"Nuevo evento"})]})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 text-neutral-600 text-sm",children:[r.jsx(ye,{className:"w-4 h-4"}),r.jsx("span",{children:w.date?new Date(w.date).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}):"Define una fecha para tu evento"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-neutral-600 text-sm",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{children:w.location||"Agrega una ubicacin"})]}),r.jsx("p",{className:"text-neutral-500 text-sm leading-relaxed",children:w.description||"Incluye una descripcin atractiva para motivar la participacin."})]})]})]})]})]})]})},bN=()=>{const e=Rt(),{user:t}=$e(),{eventos:s,fetchEventos:a,deleteEvento:n,isLoading:o,canUserEditEvent:i}=Fn();Pe.useEffect(()=>{t||e("/auth")},[t,e]),g.useEffect(()=>{t&&a()},[t,a]);const l=s.filter(h=>i(h)),c=h=>new Date(h).toLocaleDateString("es-CL",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),d=h=>{switch(h){case"campeonato":return"#EF4444";case"taller":return"#3B82F6";case"encuentro":return"#10B981";case"competencia":return"#F59E0B";case"masterclass":return"#8B5CF6";default:return"#6B7280"}},m=async h=>{if(window.confirm("Ests seguro de que quieres eliminar este evento?"))try{await n(h)}catch(x){console.error("Error al eliminar evento:",x)}};return t?o?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-pastel-purple-50 to-neutral-100 flex items-center justify-center",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-white/60 backdrop-blur-soft border border-white/30 shadow-soft-lg flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-3 border-primary-500 border-t-transparent rounded-full animate-spin"})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-pastel-purple-50 to-neutral-100 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-r from-primary-200/20 to-pastel-blue-200/20 rounded-full blur-3xl animate-soft-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-pastel-pink-200/20 to-primary-200/20 rounded-full blur-3xl animate-soft-pulse delay-1000"}),r.jsx(bs,{children:r.jsxs("div",{className:"py-12 relative z-10",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-8",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:"Mis Eventos"}),r.jsx("p",{className:"text-lg text-neutral-600",children:"Gestiona los eventos que has creado"})]}),r.jsxs(ne,{to:"/eventos/crear",className:"flex items-center space-x-2 px-6 py-3 rounded-xl text-white font-medium transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 4px 15px rgba(239, 68, 68, 0.3)"},children:[r.jsx(or,{className:"w-5 h-5"}),r.jsx("span",{children:"Crear Evento"})]})]}),l.length===0?r.jsxs("div",{className:"rounded-3xl p-12 text-center",style:{backgroundColor:"#e8ecf4",boxShadow:"20px 20px 40px #bec8d7, -20px -20px 40px #ffffff"},children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl flex items-center justify-center",style:{backgroundColor:"#e8ecf4",boxShadow:"inset 8px 8px 16px #bec8d7, inset -8px -8px 16px #ffffff"},children:r.jsx(ye,{className:"w-8 h-8",style:{color:"#9CA3AF"}})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"#374151"},children:"No has creado eventos an"}),r.jsx("p",{className:"text-base mb-6",style:{color:"#6B7280"},children:"Comparte tu pasin por el asado creando tu primer evento!"}),r.jsxs(ne,{to:"/eventos/crear",className:"inline-flex items-center space-x-2 px-8 py-4 rounded-xl text-white font-medium transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 4px 15px rgba(239, 68, 68, 0.3)"},children:[r.jsx(or,{className:"w-5 h-5"}),r.jsx("span",{children:"Crear Mi Primer Evento"})]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(h=>{var x,N,w,j;return r.jsxs("div",{className:"rounded-3xl overflow-hidden transition-all duration-300 hover:scale-105",style:{backgroundColor:"#e8ecf4",boxShadow:"15px 15px 30px #bec8d7, -15px -15px 30px #ffffff"},children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:h.image,alt:h.title,className:"w-full h-48 object-cover"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm font-medium",style:{backgroundColor:d(h.type)},children:((N=(x=h.type)==null?void 0:x.charAt(0))==null?void 0:N.toUpperCase())+((w=h.type)==null?void 0:w.slice(1))||"Evento"})}),r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h.status==="published"?"bg-green-100 text-green-800":h.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:h.status==="published"?"Publicado":h.status==="draft"?"Borrador":"Cancelado"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-3 line-clamp-2",style:{color:"#374151"},children:h.title}),r.jsxs("div",{className:"space-y-2 text-sm mb-4",style:{color:"#6B7280"},children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ye,{className:"w-4 h-4"}),r.jsx("span",{children:c(h.date)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{className:"truncate",children:h.location})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ct,{className:"w-4 h-4"}),r.jsxs("span",{children:[h.currentParticipants,"/",h.maxParticipants||""," participantes"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(_d,{className:"w-4 h-4"}),r.jsx("span",{children:h.price===0?"Gratuito":`$${(j=h.price)==null?void 0:j.toLocaleString("es-CL")}`})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",style:{borderColor:"#D1D5DB"},children:[r.jsxs(ne,{to:`/eventos/${h.id}`,className:"flex items-center space-x-1 px-4 py-2 rounded-xl transition-all duration-300",style:{backgroundColor:"#e8ecf4",boxShadow:"6px 6px 12px #bec8d7, -6px -6px 12px #ffffff",color:"#6B7280"},children:[r.jsx(ot,{className:"w-4 h-4"}),r.jsx("span",{children:"Ver"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>e(`/eventos/editar/${h.id}`),className:"flex items-center space-x-1 px-4 py-2 rounded-xl transition-all duration-300 hover:scale-105",style:{backgroundColor:"#DBEAFE",color:"#2563EB",border:"1px solid #BFDBFE"},children:[r.jsx(Id,{className:"w-4 h-4"}),r.jsx("span",{children:"Editar"})]}),r.jsxs("button",{onClick:()=>m(h.id),className:"flex items-center space-x-1 px-4 py-2 rounded-xl transition-all duration-300 hover:scale-105",style:{backgroundColor:"#FEE2E2",color:"#DC2626",border:"1px solid #FECACA"},children:[r.jsx(Td,{className:"w-4 h-4"}),r.jsx("span",{children:"Eliminar"})]})]})]})]})]},h.id)})})]})})]}):null},jN=()=>{const e=Rt(),{isAuthenticated:t}=$e();Pe.useEffect(()=>{t&&e("/eventos")},[t,e]);const s=()=>{e("/eventos")};return t?null:r.jsxs("div",{className:"min-h-screen bg-soft-gradient-light relative overflow-hidden py-16",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 w-64 bg-primary-500/10 blur-3xl"}),r.jsx("div",{className:"absolute -top-20 right-10 w-72 h-72 bg-pastel-blue/20 rounded-full blur-3xl"}),r.jsx("div",{className:"relative mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid gap-10 lg:grid-cols-[1.1fr_0.9fr] items-stretch",children:[r.jsxs("div",{className:"hidden lg:flex flex-col justify-center rounded-3xl bg-white/60 backdrop-blur-md border border-white/30 shadow-soft-xl p-10 space-y-8",children:[r.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 rounded-full shadow-soft-sm border border-white/40 text-primary-600 font-semibold text-sm uppercase",children:"Comunidad ACA Chile"}),r.jsx("h1",{className:"text-4xl font-bold leading-tight text-neutral-900",children:"Tu entrada a la red oficial de asadores en Chile"}),r.jsx("p",{className:"text-lg text-neutral-600 leading-relaxed",children:"Participa de campeonatos, talleres exclusivos y encuentros nicos en torno al fuego. Administra tus eventos y conecta con una comunidad que comparte tu pasin."}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Eventos organizados",value:"150+"},{label:"Miembros activos",value:"500+"},{label:"Ciudades presentes",value:"25+"},{label:"Aos de trayectoria",value:"10"}].map(a=>r.jsxs("div",{className:"bg-white/70 rounded-2xl p-4 text-center border border-white/60 shadow-soft-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-primary-600",children:a.value}),r.jsx("p",{className:"text-xs uppercase tracking-wide text-neutral-500",children:a.label})]},a.label))}),r.jsxs("div",{className:"rounded-2xl bg-primary-50/60 border border-primary-100/50 p-6 text-sm text-primary-900",children:[r.jsx("p",{className:"font-semibold mb-2",children:"Credenciales de Demo"}),r.jsxs("p",{children:["Admin: ",r.jsx("span",{className:"font-mono",children:"admin@acachile.com / 123456"})]}),r.jsxs("p",{children:["Usuario: ",r.jsx("span",{className:"font-mono",children:"usuario@acachile.com / 123456"})]})]})]}),r.jsxs("div",{className:"rounded-3xl bg-white/70 backdrop-blur-md border border-white/60 shadow-soft-xl p-8 sm:p-10 space-y-8",children:[r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-primary-600 text-white text-2xl font-bold",children:"ACA"}),r.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Bienvenido de vuelta"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Accede a tu panel personal para gestionar eventos y experiencias."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Xp,{onSuccess:s}),r.jsx("div",{className:"text-center text-sm text-neutral-500",children:r.jsxs("span",{className:"inline-flex flex-wrap items-center justify-center gap-1",children:["An no eres socio?"," ",r.jsx("button",{onClick:()=>e("/unete"),className:"font-semibold text-primary-600 hover:text-primary-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-offset-2 focus-visible:ring-offset-white rounded-lg px-1",children:"nete a ACA"})]})})]})]})]})})]})},wN=zn({email:xe().email("Email invlido").min(1,"Email es requerido")}),NN=()=>{const[e,t]=g.useState(!1),[s,a]=g.useState(!1),[n,o]=g.useState(""),[i,l]=g.useState(""),{register:c,handleSubmit:d,formState:{errors:m},watch:h}=Dn({resolver:On(wN)}),x=h("email"),N=async w=>{t(!0),o("");try{const b=await(await fetch("undefined/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).json();if(!b.success)throw new Error(b.error||"Error al procesar la solicitud");a(!0),b.resetToken&&l(b.resetToken)}catch(j){o(j.message||"Error de conexin")}finally{t(!1)}};return s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Re,{className:"mx-auto h-16 w-16 text-green-500"}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Revisa tu Email"}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Si existe una cuenta con el email ",r.jsx("strong",{children:x}),", recibirs un enlace para restablecer tu contrasea."]})]}),i&&r.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:" Modo Desarrollo - Token de Reset:"}),r.jsx("code",{className:"text-xs bg-yellow-100 p-2 rounded block break-all",children:i}),r.jsx(ne,{to:`/reset-password?token=${i}`,className:"mt-2 inline-block text-sm text-yellow-700 underline",children:"Ir directamente al reset de contrasea"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs(ne,{to:"/auth",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Volver al Login"]})})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsxs(ne,{to:"/auth",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[r.jsx(Sr,{className:"h-4 w-4 mr-1"}),"Volver"]}),r.jsxs("div",{className:"text-center",children:[r.jsx(er,{className:"mx-auto h-12 w-12 text-orange-600"}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Olvidaste tu contrasea?"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Ingresa tu email y te enviaremos un enlace para restablecer tu contrasea"})]})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d(N),children:[n&&r.jsx("div",{className:"rounded-md bg-red-50 p-4 border border-red-200",children:r.jsxs("div",{className:"flex",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("p",{className:"mt-1 text-sm text-red-700",children:n})]})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{...c("email"),type:"email",autoComplete:"email",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 sm:text-sm transition-all duration-200",placeholder:"Tu email"})]}),m.email&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.email.message})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:e,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e?"Enviando...":"Enviar enlace de recuperacin"})}),r.jsx("div",{className:"text-center",children:r.jsx(ne,{to:"/auth",className:"font-medium text-orange-600 hover:text-orange-500 text-sm transition-colors",children:"Recordaste tu contrasea? Inicia sesin"})})]})]})})},kN=zn({newPassword:xe().min(6,"La contrasea debe tener al menos 6 caracteres").max(50,"La contrasea es demasiado larga"),confirmPassword:xe()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]}),SN=()=>{const e=Rt(),[t]=Tp(),s=t.get("token"),[a,n]=g.useState(!1),[o,i]=g.useState(!1),[l,c]=g.useState(""),[d,m]=g.useState(!1),[h,x]=g.useState(!1),{register:N,handleSubmit:w,formState:{errors:j}}=Dn({resolver:On(kN)});g.useEffect(()=>{s||c("Token de recuperacin no encontrado")},[s]);const b=async f=>{if(!s){c("Token de recuperacin no encontrado");return}n(!0),c("");try{const y=await(await fetch("undefined/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,newPassword:f.newPassword})})).json();if(!y.success)throw new Error(y.error||"Error al restablecer la contrasea");i(!0),setTimeout(()=>{e("/auth")},3e3)}catch(u){c(u.message||"Error de conexin")}finally{n(!1)}};return!s&&!l.includes("Token de recuperacin no encontrado")?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[r.jsx(Ne,{className:"mx-auto h-16 w-16 text-red-500"}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Enlace Invlido"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"El enlace de recuperacin no es vlido o ha expirado."}),r.jsx(ne,{to:"/forgot-password",className:"inline-flex items-center justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200",children:"Solicitar nuevo enlace"})]})}):o?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Re,{className:"mx-auto h-16 w-16 text-green-500"}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Contrasea Actualizada!"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Tu contrasea ha sido actualizada exitosamente."}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Sers redirigido al login en unos segundos..."})]}),r.jsx("div",{className:"space-y-4",children:r.jsx(ne,{to:"/auth",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200",children:"Ir al Login"})})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsxs(ne,{to:"/auth",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[r.jsx(Sr,{className:"h-4 w-4 mr-1"}),"Volver"]}),r.jsxs("div",{className:"text-center",children:[r.jsx(sa,{className:"mx-auto h-12 w-12 text-orange-600"}),r.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Restablecer Contrasea"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Ingresa tu nueva contrasea"})]})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w(b),children:[l&&r.jsx("div",{className:"rounded-md bg-red-50 p-4 border border-red-200",children:r.jsxs("div",{className:"flex",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("p",{className:"mt-1 text-sm text-red-700",children:l})]})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"sr-only",children:"Nueva Contrasea"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(sa,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{...N("newPassword"),type:d?"text":"password",autoComplete:"new-password",className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 sm:text-sm transition-all duration-200",placeholder:"Nueva contrasea"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!d),children:d?r.jsx(ra,{className:"h-5 w-5 text-gray-400"}):r.jsx(ot,{className:"h-5 w-5 text-gray-400"})})]}),j.newPassword&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:j.newPassword.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirmar Contrasea"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(sa,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{...N("confirmPassword"),type:h?"text":"password",autoComplete:"new-password",className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 sm:text-sm transition-all duration-200",placeholder:"Confirmar nueva contrasea"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!h),children:h?r.jsx(ra,{className:"h-5 w-5 text-gray-400"}):r.jsx(ot,{className:"h-5 w-5 text-gray-400"})})]}),j.confirmPassword&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:j.confirmPassword.message})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:a?"Actualizando...":"Actualizar contrasea"})}),r.jsx("div",{className:"text-center",children:r.jsx(ne,{to:"/auth",className:"font-medium text-orange-600 hover:text-orange-500 text-sm transition-colors",children:"Recordaste tu contrasea? Inicia sesin"})})]})]})})},CN=()=>r.jsx("div",{className:"section-padding",children:r.jsxs(Un,{children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Noticias"}),r.jsx("p",{className:"text-lg text-secondary-600",children:"Pgina en construccin..."})]})}),_N=()=>r.jsx("div",{className:"section-padding",children:r.jsxs(Un,{children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Detalle de la Noticia"}),r.jsx("p",{className:"text-lg text-secondary-600",children:"Pgina en construccin..."})]})}),Lr=()=>_r("contact").map(e=>({...e})),EN=e=>{const t=new Map(_r("contact").map(a=>[a.key,a])),s=new Map;(e||[]).forEach((a,n)=>{var c;const o=typeof(a==null?void 0:a.key)=="string"&&a.key.trim().length>0?a.key.trim():((c=_r("contact")[n])==null?void 0:c.key)??`section_${n}`,i=t.get(o),l={page:"contact",key:o,title:typeof(a==null?void 0:a.title)=="string"?a.title:(i==null?void 0:i.title)??"",content:typeof(a==null?void 0:a.content)=="string"?a.content:(i==null?void 0:i.content)??"",image_url:typeof(a==null?void 0:a.image_url)=="string"?a.image_url:(i==null?void 0:i.image_url)??"",sort_order:typeof(a==null?void 0:a.sort_order)=="number"?a.sort_order:(i==null?void 0:i.sort_order)??n,source_type:(a==null?void 0:a.source_type)??(i==null?void 0:i.source_type),source_id:(a==null?void 0:a.source_id)??(i==null?void 0:i.source_id),cta_label:(a==null?void 0:a.cta_label)??(i==null?void 0:i.cta_label),cta_url:(a==null?void 0:a.cta_url)??(i==null?void 0:i.cta_url)};s.set(l.key,l),t.delete(l.key)});for(const a of t.values())s.set(a.key,{...a});return Array.from(s.values()).sort((a,n)=>a.sort_order-n.sort_order)},AN=e=>{const t=e.split(/\r?\n/).map(a=>a.trim()).filter(Boolean),s=[];return t.forEach(a=>{const[n,...o]=a.split(":"),i=n==null?void 0:n.trim(),l=o.join(":").trim();if(!i||!l)return;let c,d="";const m=i.toLowerCase();if(m.includes("mail")||l.includes("@"))c=l.startsWith("mailto:")?l:`mailto:${l}`,d="";else if(m.includes("tel")||m.includes("fono")||/\+?\d/.test(l))c=l.startsWith("tel:")?l:`tel:${l.replace(/\s+/g,"")}`,d="";else if(m.includes("instagram")){const h=l.replace(/^@/,"");c=l.startsWith("http")?l:`https://www.instagram.com/${h}`,d=""}else m.includes("facebook")&&(c=l.startsWith("http")?l:`https://www.facebook.com/${l.replace(/^\//,"")}`,d="");s.push({label:i,value:l,href:c,icon:d})}),s},PN=({section:e,loading:t})=>r.jsx("section",{className:"relative overflow-hidden py-20 bg-soft-gradient-light",children:r.jsxs("div",{className:"relative px-4 py-16 mx-auto max-w-5xl sm:px-6 lg:px-8 lg:py-24 text-center space-y-6",children:[r.jsx("span",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/80 backdrop-blur-soft rounded-full shadow-soft-sm border border-white/40 text-primary-600 font-semibold text-sm tracking-wide uppercase",children:t?"Cargando":"Ponte en contacto"}),r.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold leading-tight text-neutral-900",children:e.display_title}),r.jsx("p",{className:"text-lg sm:text-xl text-neutral-600 font-light leading-relaxed max-w-3xl mx-auto",children:e.display_content}),e.display_cta_label&&e.display_cta_url?r.jsx("a",{href:e.display_cta_url,className:"inline-flex items-center px-8 py-4 rounded-2xl text-white font-semibold text-lg transition-all duration-500",style:{background:"linear-gradient(135deg, #f56934 0%, #e04c1a 50%, #b93c14 100%)"},children:e.display_cta_label}):null]})}),IN=({details:e})=>e.length===0?null:r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft rounded-3xl p-8 shadow-soft-lg border border-white/30",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800 mb-6 text-center",children:"Informacin de contacto"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((t,s)=>r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white/40 rounded-xl border border-white/20",children:[r.jsx("span",{className:"text-xl leading-none",children:t.icon??""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-neutral-700",children:t.label}),t.href?r.jsx("a",{href:t.href,className:"text-sm text-primary-600 hover:underline break-words",children:t.value}):r.jsx("p",{className:"text-sm text-neutral-600 break-words",children:t.value})]})]},s))})]}),TN=({section:e})=>!e.display_image&&!e.display_cta_url&&!e.display_content?null:r.jsx("div",{className:"bg-white/60 backdrop-blur-soft rounded-3xl p-8 shadow-soft-lg border border-white/30",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold text-neutral-800",children:e.display_title}),r.jsx("p",{className:"text-neutral-600 leading-relaxed",children:e.display_content}),e.display_cta_label&&e.display_cta_url?r.jsx("a",{href:e.display_cta_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-xl transition-all duration-300",children:e.display_cta_label}):null]}),e.display_image?r.jsx("div",{className:"flex-1 w-full",children:r.jsx("img",{src:e.display_image,alt:e.display_title,className:"w-full h-full object-cover rounded-2xl"})}):null]})}),RN=()=>{const[e,t]=g.useState(Lr()),[s,a]=g.useState(!0);g.useEffect(()=>{let d=!0;return(async()=>{try{const m=await fetch("/api/admin/content?page=contact",{cache:"no-store"});if(!m.ok)throw new Error(`HTTP ${m.status}`);const h=await m.json();d&&(h!=null&&h.success)&&t(EN(h.sections))}catch(m){console.warn("[ContactPage] No se pudo obtener contenido dinmico, usando valores por defecto.",m),d&&t(Lr())}finally{d&&a(!1)}})(),()=>{d=!1}},[]);const n=g.useMemo(()=>e.map((d,m)=>({...d,display_title:d.title||`Seccin ${m+1}`,display_content:d.content||"",display_image:d.image_url||void 0,display_cta_label:d.cta_label,display_cta_url:d.cta_url})),[e]),o=n[0]??{...Lr()[0],display_title:Lr()[0].title,display_content:Lr()[0].content,display_image:Lr()[0].image_url,display_cta_label:Lr()[0].cta_label,display_cta_url:Lr()[0].cta_url},i=n.find(d=>d.key==="contact-info"),l=n.find(d=>d.key==="contact-map"),c=i?AN(i.display_content):[];return r.jsxs("div",{className:"min-h-screen bg-soft-gradient-light space-y-10",children:[r.jsx(PN,{section:o,loading:s}),r.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pb-16 space-y-8",children:[c.length>0?r.jsx(IN,{details:c}):null,l?r.jsx(TN,{section:l}):null]})]})},ux=Pe.forwardRef(({className:e,variant:t="primary",size:s="md",children:a,...n},o)=>{const i="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-secondary-100 hover:bg-secondary-200 text-secondary-900 focus:ring-secondary-500",outline:"border border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white focus:ring-primary-500",ghost:"text-secondary-700 hover:bg-secondary-100 focus:ring-secondary-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return r.jsx("button",{className:lx(i,l[t],c[s],e),ref:o,...n,children:a})});ux.displayName="Button";const LN=()=>r.jsx("div",{className:"section-padding",children:r.jsx(Un,{children:r.jsxs("div",{className:"text-center max-w-md mx-auto",children:[r.jsx("h1",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pgina no encontrada"}),r.jsx("p",{className:"text-secondary-600 mb-8",children:"La pgina que buscas no existe o ha sido movida."}),r.jsx(ne,{to:"/",children:r.jsx(ux,{children:"Volver al inicio"})})]})})});class MN{constructor(){dt(this,"TOKEN_KEY","auth_token");dt(this,"USER_KEY","auth_user")}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getUser(){const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}setAuth(t,s){localStorage.setItem(this.TOKEN_KEY,t),localStorage.setItem(this.USER_KEY,JSON.stringify(s))}clearAuth(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}isAuthenticated(){return!!this.getToken()}isAdmin(){const t=this.getUser();return(t==null?void 0:t.role)==="admin"}async login(t,s){try{const n=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:s})})).json();return n.success&&n.token&&n.user&&this.setAuth(n.token,n.user),n}catch(a){return console.error("Error en login:",a),{success:!1,message:"Error de conexin"}}}logout(){this.clearAuth()}async verifySession(){const t=this.getToken();if(!t)return null;try{const s=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const a=await s.json();if(a.success&&a.user)return localStorage.setItem(this.USER_KEY,JSON.stringify(a.user)),a.user}return this.clearAuth(),null}catch(s){return console.error("Error verificando sesin:",s),null}}}const _i=new MN,ds="https://acachile.pages.dev";class $N{getAuthHeaders(){const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}async getNews(t){try{const s=new URLSearchParams;t!=null&&t.page&&s.append("page",t.page.toString()),t!=null&&t.limit&&s.append("limit",t.limit.toString()),t!=null&&t.category&&s.append("category",t.category),t!=null&&t.tag&&s.append("tag",t.tag),t!=null&&t.featured&&s.append("featured","true");const a=await fetch(`${ds}/api/noticias${s.toString()?`?${s.toString()}`:""}`,{method:"GET",headers:this.getAuthHeaders()});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(s){throw console.error("Error getting news:",s),s}}async getNewsBySlug(t){try{const s=await fetch(`${ds}/api/noticias/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("Error getting news by slug:",s),s}}async createNews(t){try{const s=await fetch(`${ds}/api/noticias`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("Error creating news:",s),s}}async updateNews(t,s){try{const a=await fetch(`${ds}/api/noticias/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(s)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error updating news:",a),a}}async deleteNews(t){try{const s=await fetch(`${ds}/api/noticias/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error("Error deleting news:",s),s}}async getCategories(){try{const t=await fetch(`${ds}/api/noticias/categorias`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error getting categories:",t),t}}async getTags(){try{const t=await fetch(`${ds}/api/noticias/tags`,{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error getting tags:",t),t}}}const Ec=new $N,Mr="https://acachile.pages.dev";class DN{getAuthHeaders(){const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}async getComments(t,s="noticia"){var a;try{const n=await fetch(`${Mr}/api/comments?article_id=${t}&type=${s}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();return{success:o.success,data:((a=o.data)==null?void 0:a.comments)||[]}}catch(n){return console.error("Error getting comments:",n),{success:!1,error:n instanceof Error?n.message:"Error desconocido"}}}async createComment(t){var s;try{const a=await fetch(`${Mr}/api/comments`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({...t,type:t.type||"noticia"})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();return{success:n.success,data:(s=n.data)==null?void 0:s.comment}}catch(a){return console.error("Error creating comment:",a),{success:!1,error:a instanceof Error?a.message:"Error creando comentario"}}}async moderateComment(t,s,a,n="noticia"){try{const o=await fetch(`${Mr}/api/comments/moderate`,{method:"PATCH",headers:this.getAuthHeaders(),body:JSON.stringify({comment_id:t,action:s,article_id:a,type:n})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(o){return console.error("Error moderating comment:",o),{success:!1,error:o instanceof Error?o.message:"Error moderando comentario"}}}async deleteComment(t,s,a="noticia"){try{const n=await fetch(`${Mr}/api/comments/moderate`,{method:"DELETE",headers:this.getAuthHeaders(),body:JSON.stringify({comment_id:t,article_id:s,type:a})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){return console.error("Error deleting comment:",n),{success:!1,error:n instanceof Error?n.message:"Error eliminando comentario"}}}async getLikes(t){try{const s=await fetch(`${Mr}/api/likes/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return{success:!0,data:await s.json()}}catch(s){return console.error("Error getting likes:",s),{success:!1,error:s instanceof Error?s.message:"Error obteniendo likes"}}}async toggleCommentLike(t,s,a="noticia"){var n,o;try{const i=await fetch(`${Mr}/api/comments/like`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({comment_id:t,article_id:s,type:a})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const l=await i.json();return{success:l.success,data:{totalLikes:((n=l.data)==null?void 0:n.likes_count)||0,userLiked:((o=l.data)==null?void 0:o.liked)||!1}}}catch(i){return console.error("Error toggling comment like:",i),{success:!1,error:i instanceof Error?i.message:"Error procesando like"}}}async getCommentsStats(t,s="noticia"){try{const a=await fetch(`${Mr}/api/comments/stats?article_id=${t}&type=${s}`,{method:"GET",headers:this.getAuthHeaders()});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){return console.error("Error getting comments stats:",a),{success:!1,error:a instanceof Error?a.message:"Error obteniendo estadsticas"}}}async shareArticle(t,s){try{const a=await fetch(`${Mr}/api/compartir/${t}`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({platform:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){return console.error("Error sharing article:",a),{success:!1,error:a instanceof Error?a.message:"Error registrando compartido"}}}}const ml=new DN,kt="/api",ON=["usuario","director","director_editor","admin"],zN=e=>typeof e=="string"&&ON.includes(e);class UN{getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Bearer ${_i.getToken()}`}}normalizeUser(t){const s=(t==null?void 0:t.id)!==void 0&&(t==null?void 0:t.id)!==null?String(t.id):(t==null?void 0:t.user_id)!==void 0&&(t==null?void 0:t.user_id)!==null?String(t.user_id):"",a=t!=null&&t.email?t.email.split("@")[0]:"Usuario sin nombre",n=`${(t==null?void 0:t.nombre)??""} ${(t==null?void 0:t.apellido)??""}`.trim(),o=((t==null?void 0:t.name)??(n||a)).trim(),i=zN(t==null?void 0:t.role)?t.role:"usuario",l=(t==null?void 0:t.stats)??(t==null?void 0:t.statistics)??null;let c;l&&(c={events_created:Number(l.events_created??l.eventos_creados??l.total_eventos??0),inscriptions:Number(l.inscriptions??l.inscripciones??l.inscripciones_count??0),comments:Number(l.comments??l.comentarios??l.comments_count??0)});const d=(()=>{if(typeof(t==null?void 0:t.is_active)=="boolean")return t.is_active;if((t==null?void 0:t.status)!==void 0&&(t==null?void 0:t.status)!==null){if(typeof t.status=="string")return t.status==="active"||t.status==="ACTIVO";if(typeof t.status=="number")return t.status===1}return(t==null?void 0:t.activo)!==void 0?t.activo===1||t.activo===!0:!0})(),m=typeof(t==null?void 0:t.status)=="string"?t.status.toLowerCase()==="inactive"?"inactive":"active":d?"active":"inactive",h=(t==null?void 0:t.email_verified)??(t==null?void 0:t.emailVerified)??(t==null?void 0:t.email_verificado)??(t==null?void 0:t.emailVerificado),x=typeof h=="boolean"?h:void 0;return{id:s,name:o||a,email:(t==null?void 0:t.email)??"",role:i,created_at:(t==null?void 0:t.created_at)??"",updated_at:(t==null?void 0:t.updated_at)??"",last_login:(t==null?void 0:t.last_login)||(t==null?void 0:t.lastLogin)||void 0,is_active:d,status:m,email_verified:x,stats:c}}async getDashboardStats(t){try{return await new Promise(a=>setTimeout(a,500)),{success:!0,data:{users:{total:156,active:142,new_today:3,new_week:12},events:{total:24,active:18,archived:6,new_today:1},news:{total:45,published:38,drafts:7,new_today:2},comments:{total:89,pending:5,approved:84,new_today:4},system:{uptime:"15 das",health:"Excelente",last_backup:"2024-10-15 02:00:00"}}}}catch(s){return console.error("Error en getDashboardStats:",s),{success:!1,error:"Error cargando estadsticas del dashboard"}}}async getRecentActivity(){try{return await new Promise(s=>setTimeout(s,300)),[{id:"1",type:"user_registration",user:{id:"123",name:"Juan Prez",email:"juan@email.com"},description:"Nuevo usuario registrado",timestamp:new Date(Date.now()-1e3*60*30).toISOString()},{id:"2",type:"event_created",user:{id:"456",name:"Mara Admin",email:"maria@aca.cl"},description:'Cre el evento "Asado de Octubre"',timestamp:new Date(Date.now()-1e3*60*120).toISOString()},{id:"3",type:"news_published",user:{id:"789",name:"Carlos Editor",email:"carlos@aca.cl"},description:"Public noticia sobre tcnicas de parrilla",timestamp:new Date(Date.now()-1e3*60*60*4).toISOString()}]}catch(t){throw console.error("Error en getRecentActivity:",t),t}}async getUsers(t){var s;try{const a=new URLSearchParams;t!=null&&t.page&&a.set("page",t.page.toString()),t!=null&&t.limit&&a.set("limit",t.limit.toString()),t!=null&&t.search&&a.set("search",t.search),t!=null&&t.role&&a.set("role",t.role),t!=null&&t.status&&a.set("status",t.status);const n=await fetch(`${kt}/admin/users?${a}`,{headers:this.getAuthHeaders()});if(!n.ok)throw new Error("Error obteniendo usuarios");const o=await n.json();if((o==null?void 0:o.success)===!1)throw new Error((o==null?void 0:o.error)||"Error obteniendo usuarios");const l=(Array.isArray(o==null?void 0:o.data)?o.data:Array.isArray(o==null?void 0:o.users)?o.users:[]).map(m=>this.normalizeUser(m)),c=(o==null?void 0:o.pagination)??((s=o==null?void 0:o.meta)==null?void 0:s.pagination)??null;let d=null;if(c){const m=Number(c.page??c.currentPage??1)||1,h=Number(c.limit??c.perPage??20)||20,x=Number(c.total??c.totalItems??c.count??l.length)||l.length,N=Number(c.totalPages??c.total_pages??c.pages??Math.ceil(x/h))||Math.ceil(x/h),w=Math.max(1,N||1);d={page:m,limit:h,total:x,totalPages:w,hasNext:c.hasNext??c.has_next??m<w,hasPrev:c.hasPrev??c.has_prev??m>1}}return{users:l,pagination:d}}catch(a){throw console.error("Error en getUsers:",a),a}}async getUser(t){try{const s=await fetch(`${kt}/admin/users/${t}`,{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Error obteniendo usuario");const a=await s.json();if((a==null?void 0:a.success)===!1)throw new Error((a==null?void 0:a.error)||"Error obteniendo usuario");const n=(a==null?void 0:a.data)??(a==null?void 0:a.user);return this.normalizeUser(n)}catch(s){throw console.error("Error en getUser:",s),s}}async updateUser(t,s){try{const a={...s};"is_active"in a&&(a.status=a.is_active?"active":"inactive",delete a.is_active),"stats"in a&&delete a.stats;const n=Object.fromEntries(Object.entries(a).filter(([,c])=>c!==void 0)),o=await fetch(`${kt}/admin/users/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(n)});if(!o.ok)throw new Error("Error actualizando usuario");const i=await o.json();if((i==null?void 0:i.success)===!1)throw new Error((i==null?void 0:i.error)||"Error actualizando usuario");const l=(i==null?void 0:i.data)??(i==null?void 0:i.user);return this.normalizeUser(l)}catch(a){throw console.error("Error en updateUser:",a),a}}async deleteUser(t){try{const s=await fetch(`${kt}/admin/users/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Error eliminando usuario");const a=await s.json().catch(()=>null);if(a&&a.success===!1)throw new Error((a==null?void 0:a.error)||"Error eliminando usuario")}catch(s){throw console.error("Error en deleteUser:",s),s}}async createUser(t){try{const s=Object.fromEntries(Object.entries(t).filter(([,i])=>i!==void 0)),a=await fetch(`${kt}/admin/users`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(s)});if(!a.ok)throw new Error("Error creando usuario");const n=await a.json();if((n==null?void 0:n.success)===!1)throw new Error((n==null?void 0:n.error)||"Error creando usuario");const o=(n==null?void 0:n.data)??(n==null?void 0:n.user);return this.normalizeUser(o)}catch(s){throw console.error("Error en createUser:",s),s}}async getRoleCatalog(){try{const t=await fetch(`${kt}/admin/roles`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Error obteniendo catlogo de roles");const s=await t.json();return s.success&&Array.isArray(s.data)?s.data:[]}catch(t){return console.error("Error en getRoleCatalog:",t),[]}}async getAdvancedStats(t){try{const s=new URLSearchParams;t!=null&&t.period&&s.set("period",t.period),t!=null&&t.start_date&&s.set("start_date",t.start_date),t!=null&&t.end_date&&s.set("end_date",t.end_date);const a=await fetch(`${kt}/admin/stats?${s}`,{headers:this.getAuthHeaders()});if(!a.ok)throw new Error("Error obteniendo estadsticas avanzadas");return(await a.json()).stats}catch(s){throw console.error("Error en getAdvancedStats:",s),s}}async getSystemConfig(){try{const t=await fetch(`${kt}/system/config`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Error obteniendo configuracin del sistema");return(await t.json()).config}catch(t){throw console.error("Error en getSystemConfig:",t),t}}async updateSystemConfig(t){try{if(!(await fetch(`${kt}/system/config`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({config:t})})).ok)throw new Error("Error actualizando configuracin del sistema")}catch(s){throw console.error("Error en updateSystemConfig:",s),s}}async getSystemHealth(t=!1){try{const s=await fetch(`${kt}/system/health?detailed=${t}`,{headers:this.getAuthHeaders()});if(!s.ok)throw new Error("Error obteniendo estado del sistema");return await s.json()}catch(s){throw console.error("Error en getSystemHealth:",s),s}}async getSystemLogs(t){try{const s=new URLSearchParams;t!=null&&t.type&&s.set("type",t.type),t!=null&&t.limit&&s.set("limit",t.limit.toString()),t!=null&&t.page&&s.set("page",t.page.toString()),t!=null&&t.level&&s.set("level",t.level),t!=null&&t.start_date&&s.set("start_date",t.start_date),t!=null&&t.end_date&&s.set("end_date",t.end_date);const a=await fetch(`${kt}/system/logs?${s}`,{headers:this.getAuthHeaders()});if(!a.ok)throw new Error("Error obteniendo logs del sistema");return await a.json()}catch(s){throw console.error("Error en getSystemLogs:",s),s}}async performMaintenance(t,s){try{const a=await fetch(`${kt}/system/maintenance`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({action:t,params:s})});if(!a.ok)throw new Error("Error ejecutando operacin de mantenimiento");return await a.json()}catch(a){throw console.error("Error en performMaintenance:",a),a}}async getMaintenanceStatus(){try{const t=await fetch(`${kt}/system/maintenance`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Error obteniendo estado de mantenimiento");return await t.json()}catch(t){throw console.error("Error en getMaintenanceStatus:",t),t}}}const bt=new UN,FN=()=>{const[e,t]=g.useState([]),[s,a]=g.useState([]),[n,o]=g.useState(!0),[i,l]=g.useState(null),[c,d]=g.useState(1),[m,h]=g.useState(1),[x,N]=g.useState(""),[w,j]=g.useState(""),[b,f]=g.useState(!1),[u,y]=g.useState([]),[v,S]=g.useState(!1),A=12;g.useEffect(()=>{T(),p()},[c,x,b]),g.useEffect(()=>{if(w.length>=2){const R=setTimeout(()=>{k()},300);return()=>clearTimeout(R)}else y([]),S(!1)},[w]);const T=async()=>{try{o(!0);const R=await Ec.getNews({page:c,limit:A,category:x||void 0,featured:b});R.success&&R.data?(t(R.data),h(R.pagination.pages)):l(R.error||"Error cargando noticias")}catch(R){l("Error cargando noticias"),console.error(R)}finally{o(!1)}},p=async()=>{try{const R=await Ec.getCategories();R.success&&R.data&&a(R.data)}catch(R){console.error("Error cargando categoras:",R)}},k=async()=>{try{const R=await Wr.getSuggestions(w);R.success&&R.data&&(y(R.data),S(!0))}catch(R){console.error("Error obteniendo sugerencias:",R)}},C=()=>{w.trim()&&(window.location.href=`/busqueda?q=${encodeURIComponent(w)}&type=noticias`)},_=R=>{j(R),S(!1),C()},I=R=>new Date(R).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}),L=()=>{N(""),f(!1),d(1)};return n&&e.length===0?r.jsx("div",{className:"min-h-screen bg-soft-gradient-light py-12",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"animate-soft-pulse",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("div",{className:"h-12 bg-white/60 backdrop-blur-soft rounded-2xl shadow-soft-sm w-64 mx-auto mb-8"}),r.jsx("div",{className:"h-16 bg-white/40 backdrop-blur-soft rounded-2xl shadow-soft-sm w-96 mx-auto mb-4"}),r.jsx("div",{className:"h-6 bg-white/40 backdrop-blur-soft rounded-xl shadow-soft-sm w-80 mx-auto"})]}),r.jsx("div",{className:"bg-white/60 backdrop-blur-soft rounded-3xl shadow-soft-lg p-8 mb-12",children:r.jsx("div",{className:"h-14 bg-white/80 rounded-2xl shadow-soft-inset-sm"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((R,U)=>r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft rounded-3xl shadow-soft-lg overflow-hidden",children:[r.jsx("div",{className:"h-48 bg-white/80 shadow-soft-inset-sm"}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-6 bg-white/80 rounded-xl shadow-soft-inset-sm w-20"}),r.jsx("div",{className:"h-6 bg-white/80 rounded-xl shadow-soft-inset-sm w-16"})]}),r.jsx("div",{className:"h-6 bg-white/80 rounded-xl shadow-soft-inset-sm w-3/4"}),r.jsx("div",{className:"h-4 bg-white/80 rounded-lg shadow-soft-inset-sm w-full"}),r.jsx("div",{className:"h-4 bg-white/80 rounded-lg shadow-soft-inset-sm w-2/3"}),r.jsxs("div",{className:"flex justify-between items-center pt-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("div",{className:"h-6 bg-white/80 rounded-lg shadow-soft-inset-sm w-16"}),r.jsx("div",{className:"h-6 bg-white/80 rounded-lg shadow-soft-inset-sm w-16"})]}),r.jsx("div",{className:"h-6 bg-white/80 rounded-lg shadow-soft-inset-sm w-12"})]})]})]},U))})]})})}):r.jsx("div",{className:"min-h-screen bg-soft-gradient-light py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16 animate-slide-up",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/80 backdrop-blur-soft rounded-full shadow-soft-sm border border-white/40 mb-8",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-primary-600 font-semibold text-sm tracking-wide uppercase",children:"Blog & Noticias"})]}),r.jsxs("h1",{className:"text-5xl font-bold text-neutral-900 mb-6 lg:text-6xl",children:["Noticias ",r.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:"ACA Chile"})]}),r.jsx("p",{className:"text-xl text-neutral-600 font-light max-w-3xl mx-auto leading-relaxed",children:"Mantente al da con las ltimas noticias, tcnicas y eventos del mundo del asado"})]}),r.jsx("div",{className:"bg-white/60 backdrop-blur-soft rounded-3xl shadow-soft-lg border border-white/30 p-8 mb-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative md:col-span-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Buscar noticias...",value:w,onChange:R=>j(R.target.value),onKeyPress:R=>R.key==="Enter"&&C(),className:"w-full pl-12 pr-4 py-4 bg-white/80 backdrop-blur-soft rounded-2xl shadow-soft-inset-sm border border-white/40 focus:outline-none focus:shadow-soft-inset-md focus:border-primary-300 transition-all duration-300 text-neutral-700 placeholder-neutral-400"}),r.jsx(Qe,{className:"absolute left-4 top-4 h-5 w-5 text-neutral-400"}),r.jsx("button",{onClick:C,className:"absolute right-3 top-3 p-2 bg-primary-500/10 hover:bg-primary-500/20 rounded-xl text-primary-600 hover:text-primary-700 transition-all duration-200",children:r.jsx(Qe,{className:"h-4 w-4"})})]}),v&&u.length>0&&r.jsx("div",{className:"absolute z-10 w-full bg-white/95 backdrop-blur-soft border border-white/40 rounded-2xl shadow-soft-lg mt-2 max-h-60 overflow-y-auto",children:u.map((R,U)=>r.jsx("button",{onClick:()=>_(R),className:"w-full text-left px-4 py-3 hover:bg-primary-50/50 text-neutral-700 hover:text-primary-700 transition-colors duration-200 border-b border-neutral-100/50 last:border-b-0 first:rounded-t-2xl last:rounded-b-2xl",children:R},U))})]}),r.jsxs("select",{value:x,onChange:R=>N(R.target.value),className:"w-full px-4 py-4 bg-white/80 backdrop-blur-soft rounded-2xl shadow-soft-inset-sm border border-white/40 focus:outline-none focus:shadow-soft-inset-md focus:border-primary-300 transition-all duration-300 text-neutral-700",children:[r.jsx("option",{value:"",children:"Todas las categoras"}),s.map(R=>r.jsx("option",{value:R.slug,children:R.name},R.id))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:R=>f(R.target.checked),className:"w-5 h-5 rounded-lg border-0 bg-white/80 shadow-soft-inset-xs checked:shadow-soft-inset-sm checked:bg-primary-500 focus:outline-none transition-all duration-200 text-white"}),r.jsx("span",{className:"ml-3 text-sm text-neutral-700 font-medium",children:"Destacadas"})]}),(x||b)&&r.jsx("button",{onClick:L,className:"px-4 py-2 bg-primary-500/10 hover:bg-primary-500/20 text-primary-600 hover:text-primary-700 rounded-xl font-medium text-sm transition-all duration-200",children:"Limpiar filtros"})]})]})}),i&&r.jsx("div",{className:"bg-red-50/80 backdrop-blur-soft border border-red-200/50 rounded-2xl p-6 mb-8 shadow-soft-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("p",{className:"text-red-700 font-medium",children:i})]})}),e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:e.map(R=>r.jsxs("div",{className:"group bg-white/60 backdrop-blur-soft rounded-3xl shadow-soft-lg hover:shadow-soft-xl overflow-hidden border border-white/30 transition-all duration-500 transform hover:-translate-y-2",children:[R.featured_image&&r.jsx(ne,{to:`/noticias/${R.slug}`,children:r.jsxs("div",{className:"h-48 overflow-hidden relative",children:[r.jsx("img",{src:R.featured_image,alt:R.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-neutral-900/30 via-transparent to-transparent"})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"inline-block px-3 py-2 rounded-xl text-xs font-semibold text-white shadow-soft-sm",style:{backgroundColor:R.category.color},children:R.category.name}),R.is_featured&&r.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white text-xs font-semibold px-3 py-2 rounded-xl shadow-soft-sm",children:" Destacada"})]}),r.jsx(ne,{to:`/noticias/${R.slug}`,children:r.jsx("h3",{className:"text-xl font-bold text-neutral-800 mb-3 group-hover:text-primary-600 transition-colors duration-300 line-clamp-2",children:R.title})}),r.jsx("p",{className:"text-neutral-600 mb-6 line-clamp-3 font-light leading-relaxed",children:R.excerpt}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-500",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center bg-neutral-100/50 px-2 py-1 rounded-lg",children:[r.jsx(ye,{className:"h-4 w-4 mr-2 text-neutral-400"}),r.jsx("span",{className:"font-medium",children:I(R.published_at)})]}),r.jsxs("div",{className:"flex items-center bg-neutral-100/50 px-2 py-1 rounded-lg",children:[r.jsx(ir,{className:"h-4 w-4 mr-2 text-neutral-400"}),r.jsx("span",{className:"font-medium",children:R.author_name})]})]}),r.jsxs("div",{className:"flex items-center bg-primary-50/50 px-2 py-1 rounded-lg text-primary-600",children:[r.jsx(ot,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"font-semibold",children:R.view_count})]})]})]})]},R.id))}):!n&&r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft rounded-3xl p-12 shadow-soft-lg border border-white/30 max-w-md mx-auto",children:[r.jsx("div",{className:"w-20 h-20 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold text-neutral-800 mb-3",children:"No se encontraron noticias"}),r.jsx("p",{className:"text-neutral-600 mb-6",children:x||b?"Prueba ajustando los filtros o busca algo diferente.":"Actualmente no hay noticias disponibles."}),(x||b)&&r.jsx("button",{onClick:L,className:"px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-soft-sm hover:shadow-soft-md",children:"Limpiar filtros"})]})}),m>1&&r.jsxs("div",{className:"flex justify-center items-center space-x-3 mt-16",children:[r.jsx("button",{onClick:()=>d(Math.max(1,c-1)),disabled:c===1,className:"px-6 py-3 text-sm font-semibold text-neutral-600 bg-white/60 backdrop-blur-soft border border-white/30 rounded-xl hover:bg-white/80 hover:shadow-soft-md disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-soft-sm",children:" Anterior"}),r.jsx("div",{className:"flex space-x-2",children:[...Array(Math.min(5,m))].map((R,U)=>{let P;return m<=5||c<=3?P=U+1:c>=m-2?P=m-4+U:P=c-2+U,r.jsx("button",{onClick:()=>d(P),className:`w-12 h-12 text-sm font-semibold rounded-xl transition-all duration-300 ${c===P?"text-white bg-primary-500 shadow-soft-colored-red transform scale-110":"text-neutral-600 bg-white/60 backdrop-blur-soft border border-white/30 hover:bg-white/80 hover:shadow-soft-md shadow-soft-sm"}`,children:P},P)})}),r.jsx("button",{onClick:()=>d(Math.min(m,c+1)),disabled:c===m,className:"px-6 py-3 text-sm font-semibold text-neutral-600 bg-white/60 backdrop-blur-soft border border-white/30 rounded-xl hover:bg-white/80 hover:shadow-soft-md disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-soft-sm",children:"Siguiente "})]})]})})},VN=()=>{const{slug:e}=Ln(),[t,s]=g.useState(null),[a,n]=g.useState([]),[o,i]=g.useState({totalLikes:0,userLiked:!1}),[l,c]=g.useState(!0),[d,m]=g.useState(null),[h,x]=g.useState(!1),[N,w]=g.useState({author_name:"",author_email:"",content:"",parent_id:void 0}),[j,b]=g.useState(!1),[f,u]=g.useState(!1);g.useEffect(()=>{e&&e!==void 0&&e.trim()!==""?y():(m("Slug del artculo no encontrado"),c(!1))},[e]),g.useEffect(()=>{t&&(v(),S())},[t]);const y=async()=>{try{c(!0);const _=await Ec.getNewsBySlug(e);_.success&&_.data?s(_.data):m(_.error||"Artculo no encontrado")}catch(_){m("Error cargando el artculo"),console.error(_)}finally{c(!1)}},v=async()=>{if(t)try{const _=await ml.getComments(t.slug,"noticia");_.success&&_.data&&n(_.data)}catch(_){console.error("Error cargando comentarios:",_)}},S=async()=>{i({totalLikes:0,userLiked:!1})},A=async()=>{console.log("Like functionality not implemented yet")},T=async _=>{if(!t)return;const I=`${window.location.origin}/noticias/${t.slug}`,L=t.title;try{switch(await ml.shareArticle(t.id,_),_){case"facebook":window.open(Wr.getShareUrl("facebook",I,L),"_blank");break;case"twitter":window.open(Wr.getShareUrl("twitter",I,L),"_blank");break;case"whatsapp":window.open(Wr.getShareUrl("whatsapp",I,L),"_blank");break;case"copy":const R=await Wr.copyToClipboard(I);alert(R?"Enlace copiado al portapapeles":"No se pudo copiar el enlace");break}u(!1)}catch(R){console.error("Error compartiendo:",R)}},p=async _=>{if(_.preventDefault(),!(!t||j)){if(!N.author_name.trim()||!N.author_email.trim()||!N.content.trim()){alert("Por favor completa todos los campos");return}try{b(!0);const I=await ml.createComment({article_id:t.slug,type:"noticia",...N});I.success?(w({author_name:"",author_email:"",content:"",parent_id:void 0}),x(!1),v(),alert("Comentario enviado. Ser revisado antes de publicarse.")):alert(I.error||"Error enviando comentario")}catch(I){console.error("Error enviando comentario:",I),alert("Error enviando comentario")}finally{b(!1)}}},k=(_,I=0)=>r.jsxs("div",{className:`${I>0?"ml-8 mt-4":"mb-6"} bg-gray-50 rounded-lg p-4`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:_.author_name}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(_.created_at).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),_.status==="pending"&&r.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded",children:"Pendiente"})]}),r.jsx("p",{className:"text-gray-700 mb-3",children:_.content}),_.replies&&_.replies.length>0&&r.jsx("div",{className:"space-y-4",children:_.replies.map(L=>k(L,I+1))})]},_.id),C=_=>new Date(_).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"});return l?r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded mb-6"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})})}):d||!t?r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:d||"Artculo no encontrado"}),r.jsx(ne,{to:"/noticias",className:"text-red-600 hover:text-red-800",children:"Volver a noticias"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(ne,{to:"/noticias",className:"inline-flex items-center text-red-600 hover:text-red-800",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Volver a noticias"]})}),r.jsxs("article",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-8",children:[t.featured_image&&r.jsx("div",{className:"h-64 md:h-96 overflow-hidden",children:r.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6 md:p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium text-white mr-4",style:{backgroundColor:t.category.color},children:t.category.name}),t.is_featured&&r.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-sm font-medium px-2 py-1 rounded",children:"Destacada"})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t.title}),r.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ye,{className:"h-4 w-4 mr-2"}),C(t.published_at)]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),t.author_name]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ot,{className:"h-4 w-4 mr-2"}),t.view_count," vistas"]})]})}),r.jsxs("div",{className:"flex items-center space-x-4 border-t border-b border-gray-200 py-4",children:[r.jsxs("button",{onClick:A,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${o.userLiked?"bg-red-100 text-red-700":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:[r.jsx(ab,{className:`h-5 w-5 ${o.userLiked?"fill-current":""}`}),r.jsx("span",{children:o.totalLikes})]}),r.jsxs("button",{onClick:()=>x(!h),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[r.jsx(pc,{className:"h-5 w-5"}),r.jsxs("span",{children:[a.length," Comentarios"]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>u(!f),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[r.jsx(Tb,{className:"h-5 w-5"}),r.jsx("span",{children:"Compartir"})]}),f&&r.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[r.jsxs("button",{onClick:()=>T("facebook"),className:"flex items-center w-full px-4 py-2 text-left hover:bg-gray-50",children:[r.jsx(Wv,{className:"h-4 w-4 mr-3 text-blue-600"}),"Facebook"]}),r.jsxs("button",{onClick:()=>T("twitter"),className:"flex items-center w-full px-4 py-2 text-left hover:bg-gray-50",children:[r.jsx(Zb,{className:"h-4 w-4 mr-3 text-blue-400"}),"Twitter"]}),r.jsxs("button",{onClick:()=>T("whatsapp"),className:"flex items-center w-full px-4 py-2 text-left hover:bg-gray-50",children:[r.jsx(Qo,{className:"h-4 w-4 mr-3 text-green-600"}),"WhatsApp"]}),r.jsx("button",{onClick:()=>T("copy"),className:"flex items-center w-full px-4 py-2 text-left hover:bg-gray-50 border-t border-gray-100",children:"Copiar enlace"})]})]})]})]}),r.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:t.content}}),t.tags&&t.tags.length>0&&r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(_=>r.jsxs("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-gray-200 cursor-pointer",children:["#",_.name]},_.id))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Comentarios (",a.length,")"]}),h&&r.jsxs("form",{onSubmit:p,className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agregar comentario"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Tu nombre",value:N.author_name,onChange:_=>w({...N,author_name:_.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),r.jsx("input",{type:"email",placeholder:"Tu email",value:N.author_email,onChange:_=>w({...N,author_email:_.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsx("textarea",{placeholder:"Escribe tu comentario...",value:N.content,onChange:_=>w({...N,content:_.target.value}),required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent mb-4"}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:j?"Enviando...":"Enviar comentario"})]})]}),a.length>0?r.jsx("div",{className:"space-y-6",children:a.map(_=>k(_))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(pc,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No hay comentarios an. S el primero en comentar!"})]})]})]})})},BN=()=>{const[e,t]=Tp(),[s,a]=g.useState([]),[n,o]=g.useState(!1),[i,l]=g.useState(null),[c,d]=g.useState(!1),[m,h]=g.useState({page:1,limit:20,total:0,pages:0}),[x,N]=g.useState({query:e.get("q")||"",tipo:e.get("tipo")||void 0,fechaDesde:e.get("fechaDesde")||"",fechaHasta:e.get("fechaHasta")||"",categoria:e.get("categoria")||"",ubicacion:e.get("ubicacion")||"",estado:e.get("estado")||"",ordenarPor:e.get("ordenarPor")||"relevancia",orden:e.get("orden")||"desc",page:parseInt(e.get("page")||"1"),limit:parseInt(e.get("limit")||"20")});g.useEffect(()=>{x.query&&w()},[x]);const w=async()=>{var p;if((p=x.query)!=null&&p.trim())try{o(!0),l(null);const k=await Wr.advancedSearch(x);k.success&&k.data?(a(k.data.results),h(k.data.pagination)):l(k.error||"Error en la bsqueda")}catch(k){l("Error realizando la bsqueda"),console.error(k)}finally{o(!1)}},j=p=>{const k=new URLSearchParams;p.query&&k.set("q",p.query),p.tipo&&k.set("tipo",p.tipo),p.fechaDesde&&k.set("fechaDesde",p.fechaDesde),p.fechaHasta&&k.set("fechaHasta",p.fechaHasta),p.categoria&&k.set("categoria",p.categoria),p.ubicacion&&k.set("ubicacion",p.ubicacion),p.estado&&k.set("estado",p.estado),p.ordenarPor&&k.set("ordenarPor",p.ordenarPor),p.orden&&k.set("orden",p.orden),p.page&&p.page>1&&k.set("page",p.page.toString()),p.limit&&p.limit!==20&&k.set("limit",p.limit.toString()),t(k)},b=(p,k)=>{const C={...x,[p]:k,page:1};N(C),j(C)},f=p=>{const k={...x,page:p};N(k),j(k)},u=()=>{const p={query:x.query,ordenarPor:"relevancia",orden:"desc",page:1,limit:20};N(p),j(p)},y=p=>{switch(p){case"evento":return r.jsx(ye,{className:"h-5 w-5 text-red-600"});case"noticia":return r.jsx(Qt,{className:"h-5 w-5 text-blue-600"});case"usuario":return r.jsx(Ni,{className:"h-5 w-5 text-amber-600"});case"section":return r.jsx(Qt,{className:"h-5 w-5 text-emerald-600"});default:return r.jsx(Qe,{className:"h-5 w-5 text-gray-600"})}},v=p=>{switch(p){case"evento":return"Evento";case"noticia":return"Noticia";case"usuario":return"Perfil de socio";case"section":return"Seccin del sitio";default:return"Resultado"}},S=p=>p?new Date(p).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}):null,A=p=>{if(!p)return null;const k=new Date(p);return Number.isNaN(k.getTime())?p:k.toLocaleDateString("es-CL",{day:"numeric",month:"long",year:"numeric"})},T=p=>{const k=[];if(p.type==="evento"&&p.location&&k.push({key:"evento-location",icon:r.jsx(it,{className:"h-4 w-4"}),label:p.location}),p.type==="noticia"&&p.category&&k.push({key:"noticia-category",icon:r.jsx(Qt,{className:"h-4 w-4"}),label:p.category}),p.type==="usuario"&&p.metadata){const{city:C,region:_,email:I,phone:L,address:R,rut:U,birthdate:P}=p.metadata;(C||_)&&k.push({key:"usuario-location",icon:r.jsx(it,{className:"h-4 w-4"}),label:[C,_].filter(Boolean).join(", ")}),R&&k.push({key:"usuario-address",icon:r.jsx(Ad,{className:"h-4 w-4"}),label:R}),I&&k.push({key:"usuario-email",icon:r.jsx(er,{className:"h-4 w-4"}),label:I}),L&&k.push({key:"usuario-phone",icon:r.jsx(Mn,{className:"h-4 w-4"}),label:L}),U&&k.push({key:"usuario-rut",icon:r.jsx(Ed,{className:"h-4 w-4"}),label:U});const V=A(P);V&&k.push({key:"usuario-birthdate",icon:r.jsx(Cd,{className:"h-4 w-4"}),label:V})}if(p.type==="section"&&p.metadata){const{pageLabel:C}=p.metadata;C&&k.push({key:"section-page",icon:r.jsx(Qt,{className:"h-4 w-4"}),label:C})}return k};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Resultados de bsqueda"}),r.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[r.jsx(eb,{className:"h-4 w-4"}),r.jsx("span",{children:"Filtros"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",value:x.query,onChange:p=>b("query",p.target.value),placeholder:"Buscar eventos, noticias, socios o secciones...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),!n&&s.length>0&&r.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Mostrando ",(m.page-1)*m.limit+1," - ",Math.min(m.page*m.limit,m.total)," de ",m.total,' resultados para "',r.jsx("strong",{children:x.query}),'"']})]}),c&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtros de bsqueda"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[r.jsxs("select",{value:x.tipo||"",onChange:p=>b("tipo",p.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Todos los tipos"}),r.jsx("option",{value:"eventos",children:"Eventos"}),r.jsx("option",{value:"noticias",children:"Noticias editoriales"}),r.jsx("option",{value:"usuarios",children:"Perfiles de socios"}),r.jsx("option",{value:"secciones",children:"Secciones del sitio"})]}),r.jsx("input",{type:"date",value:x.fechaDesde||"",onChange:p=>b("fechaDesde",p.target.value),placeholder:"Fecha desde",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),r.jsx("input",{type:"date",value:x.fechaHasta||"",onChange:p=>b("fechaHasta",p.target.value),placeholder:"Fecha hasta",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),r.jsx("input",{type:"text",value:x.ubicacion||"",onChange:p=>b("ubicacion",p.target.value),placeholder:"Ubicacin",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsx("input",{type:"text",value:x.categoria||"",onChange:p=>b("categoria",p.target.value),placeholder:"Categora",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),r.jsxs("select",{value:x.ordenarPor||"relevancia",onChange:p=>b("ordenarPor",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"relevancia",children:"Relevancia"}),r.jsx("option",{value:"fecha",children:"Fecha"}),r.jsx("option",{value:"titulo",children:"Ttulo"})]}),r.jsxs("select",{value:x.orden||"desc",onChange:p=>b("orden",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"desc",children:"Descendente"}),r.jsx("option",{value:"asc",children:"Ascendente"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:u,className:"px-4 py-2 text-gray-600 hover:text-gray-800 underline",children:"Limpiar filtros"})})]}),n&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Buscando..."})]}),i&&r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:r.jsxs("div",{className:"text-red-600 text-center",children:[r.jsx("p",{className:"font-semibold",children:"Error en la bsqueda"}),r.jsx("p",{className:"mt-1",children:i})]})}),!n&&!i&&r.jsxs(r.Fragment,{children:[s.length>0?r.jsx("div",{className:"space-y-4 mb-6",children:s.map((p,k)=>{var V,$;const C=S(p.date),_=v(p.type),I=T(p),L=typeof p.relevance=="number",R=p.description||(p.type==="usuario"?"Perfil pblico de socio ACA Chile.":p.type==="section"?"Contenido destacado del sitio.":"Sin descripcin disponible."),U=(V=p.url)!=null&&V.startsWith("http")?r.jsx("a",{href:p.url,target:"_blank",rel:"noreferrer",className:"hover:text-red-600 transition-colors",children:p.title}):r.jsx(ne,{to:p.url,className:"hover:text-red-600 transition-colors",children:p.title}),P=r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-4",children:[p.type==="usuario"&&p.avatar&&r.jsx("img",{src:p.avatar,alt:p.title,className:"h-16 w-16 rounded-full object-cover border border-gray-200"}),p.type==="evento"&&p.image&&r.jsx("img",{src:p.image,alt:p.title,className:"h-20 w-20 rounded-lg object-cover border border-gray-200"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[y(p.type),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:_}),C&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-gray-400",children:""}),r.jsx("span",{className:"text-sm text-gray-500",children:C})]})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:U}),r.jsx("p",{className:"text-gray-600 line-clamp-3",children:R}),(I.length>0||L)&&r.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[I.map(H=>r.jsxs("span",{className:"flex items-center gap-1",children:[H.icon,H.label]},`${k}-${H.key}`)),L&&r.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs uppercase tracking-wide",children:["Relevancia: ",Math.round((p.relevance||0)*100),"%"]})]})]})]})});return($=p.url)!=null&&$.startsWith("http")?r.jsx("a",{href:p.url,target:"_blank",rel:"noreferrer",children:P},`${p.type}-${p.id}-${k}`):r.jsx(ne,{to:p.url,className:"block",children:P},`${p.type}-${p.id}-${k}`)})}):x.query&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[r.jsx(Qe,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No se encontraron resultados"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:['No pudimos encontrar resultados para "',x.query,'".']}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{children:"Sugerencias:"}),r.jsxs("ul",{className:"mt-2 space-y-1",children:[r.jsx("li",{children:" Verifica la ortografa"}),r.jsx("li",{children:" Usa trminos ms generales"}),r.jsx("li",{children:" Prueba con sinnimos"}),r.jsx("li",{children:" Reduce los filtros aplicados"})]})]})]}),m.pages>1&&r.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",m.page," de ",m.pages]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>f(m.page-1),disabled:m.page<=1,className:"flex items-center px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(hc,{className:"h-4 w-4 mr-1"}),"Anterior"]}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,m.pages)},(p,k)=>{const C=Math.max(1,m.page-2)+k;return C>m.pages?null:r.jsx("button",{onClick:()=>f(C),className:`px-3 py-2 text-sm rounded-lg ${C===m.page?"bg-red-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:C},C)})}),r.jsxs("button",{onClick:()=>f(m.page+1),disabled:m.page>=m.pages,className:"flex items-center px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Siguiente",r.jsx(wi,{className:"h-4 w-4 ml-1"})]})]})]})})]})]})})},Qm=()=>{const[e,t]=g.useState(null),[s,a]=g.useState(!0),[n,o]=g.useState(null),[i,l]=g.useState("month");g.useEffect(()=>{c()},[i]);const c=async()=>{try{a(!0);const m=await bt.getDashboardStats(i);m.success&&m.data?t(m.data):o(m.error||"Error cargando estadsticas")}catch(m){o("Error cargando el dashboard"),console.error(m)}finally{a(!1)}},d=({title:m,value:h,icon:x,color:N,change:w,changeType:j})=>r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:m}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.toLocaleString()}),w!==void 0&&r.jsxs("div",{className:`flex items-center mt-2 text-sm ${j==="increase"?"text-green-600":"text-red-600"}`,children:[r.jsx(ki,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[w>0?"+":"",w.toFixed(1),"%"]})]})]}),r.jsx("div",{className:`p-3 rounded-full ${N}`,children:x})]})});return s?r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((m,h)=>r.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},h))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]})]})})}):n?r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[r.jsx(Ne,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),r.jsx("p",{className:"text-gray-600",children:n}),r.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Intentar de nuevo"})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administracin"}),r.jsx("p",{className:"text-gray-600",children:"Resumen de actividad y estadsticas"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{htmlFor:"timeRange",className:"text-sm font-medium text-gray-700",children:"Perodo:"}),r.jsxs("select",{id:"timeRange",value:i,onChange:m=>l(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"week",children:"ltima semana"}),r.jsx("option",{value:"month",children:"ltimo mes"}),r.jsx("option",{value:"year",children:"ltimo ao"})]})]})]}),e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(d,{title:"Total Usuarios",value:e.users.total,icon:r.jsx(ct,{className:"h-6 w-6 text-white"}),color:"bg-blue-500",change:e.users.growth,changeType:"increase"}),r.jsx(d,{title:"Eventos Activos",value:e.events.active,icon:r.jsx(ye,{className:"h-6 w-6 text-white"}),color:"bg-green-500",change:e.events.growth,changeType:"increase"}),r.jsx(d,{title:"Artculos Publicados",value:e.articles.published,icon:r.jsx(Qt,{className:"h-6 w-6 text-white"}),color:"bg-purple-500",change:e.articles.growth,changeType:"increase"}),r.jsx(d,{title:"Comentarios",value:e.comments.total,icon:r.jsx(Qo,{className:"h-6 w-6 text-white"}),color:"bg-orange-500",change:e.comments.growth,changeType:"increase"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Usuarios Activos (",i,")"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Nuevos registros"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["+",e.users.newRegistrations]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Usuarios activos"}),r.jsx("span",{className:"font-semibold text-blue-600",children:e.users.activeUsers})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Tasa de actividad"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:[(e.users.activeUsers/e.users.total*100).toFixed(1),"%"]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contenido Pendiente"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-4 w-4 text-yellow-500 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Eventos por aprobar"})]}),r.jsx("span",{className:"font-semibold text-yellow-600",children:e.events.pending})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-4 w-4 text-yellow-500 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Artculos en borrador"})]}),r.jsx("span",{className:"font-semibold text-yellow-600",children:e.articles.draft})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-4 w-4 text-red-500 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Comentarios por moderar"})]}),r.jsx("span",{className:"font-semibold text-red-600",children:e.comments.pending})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vistas Totales"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ot,{className:"h-8 w-8 text-blue-500 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.pageViews.total.toLocaleString()}),r.jsxs("p",{className:"text-sm text-gray-600",children:["+",e.pageViews.growth.toFixed(1),"% vs perodo anterior"]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inscripciones a Eventos"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Re,{className:"h-8 w-8 text-green-500 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.registrations.total.toLocaleString()}),r.jsxs("p",{className:"text-sm text-gray-600",children:["+",e.registrations.growth.toFixed(1),"% vs perodo anterior"]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cancelaciones"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(dr,{className:"h-8 w-8 text-red-500 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.cancellations.total.toLocaleString()}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Tasa: ",(e.cancellations.total/e.registrations.total*100).toFixed(1),"%"]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rpidas"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[r.jsx(ct,{className:"h-6 w-6 text-gray-400 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Gestionar Usuarios"})]}),r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[r.jsx(ye,{className:"h-6 w-6 text-gray-400 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Aprobar Eventos"})]}),r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[r.jsx(Qt,{className:"h-6 w-6 text-gray-400 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Moderar Artculos"})]}),r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[r.jsx(Qo,{className:"h-6 w-6 text-gray-400 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Revisar Comentarios"})]})]})]})]})]})})},Km=[{key:"usuario",label:"Usuario / Socio",description:"Acceso bsico al portal de socios.",priority:100},{key:"director",label:"Director",description:"Gestin avanzada de socios y cuotas.",priority:60},{key:"director_editor",label:"Director Editor",description:"Puede administrar contenido y revisar postulaciones.",priority:80},{key:"admin",label:"Administrador",description:"Acceso total al sistema.",priority:40}],HN=e=>["usuario","director","director_editor","admin"].includes(e);function qN(){const[e,t]=g.useState([]),[s,a]=g.useState(!0),[n,o]=g.useState(null),[i,l]=g.useState(""),[c,d]=g.useState("all"),[m,h]=g.useState(1),[x,N]=g.useState(null),[w,j]=g.useState(!1),[b,f]=g.useState(null),[u,y]=g.useState(Km),v=Pe.useMemo(()=>u.reduce((C,_)=>(C[_.key]=_.label,C),{}),[u]);g.useEffect(()=>{let C=!1;return(async()=>{try{const I=await bt.getRoleCatalog();if(!I||I.length===0||C)return;const L=[...I].sort((R,U)=>(U.priority??100)-(R.priority??100)).filter(R=>HN(R.key)).map(R=>({key:R.key,label:R.label??R.key,description:R.description,priority:R.priority}));if(L.length===0||C)return;y(R=>{const U=[...R],P=new Set(R.map(V=>V.key));return L.forEach(V=>{if(P.has(V.key)){const $=U.findIndex(H=>H.key===V.key);$!==-1&&(U[$]=V)}else U.push(V)}),[...U].sort((V,$)=>($.priority??100)-(V.priority??100))})}catch(I){console.error("Error cargando catlogo de roles:",I)}})(),()=>{C=!0}},[]),g.useEffect(()=>{if(!_i.isAdmin()){o("Acceso denegado. Se requieren permisos de administrador."),a(!1);return}S()},[m,i,c]);const S=async()=>{try{a(!0);const C=await bt.getUsers({page:m,limit:20,search:i||void 0,role:c==="all"?void 0:c});t(C.users??[]),C.users&&C.users.length>0&&y(_=>{const I=new Set(_.map(R=>R.key));let L=_;return C.users.forEach(R=>{if(!I.has(R.role)){const U=Km.find(V=>V.key===R.role),P=U?{...U}:{key:R.role,label:R.role.charAt(0).toUpperCase()+R.role.slice(1),description:void 0,priority:-10};L===_?L=[..._,P]:L.push(P),I.add(R.role)}}),L===_?_:[...L].sort((R,U)=>(U.priority??100)-(R.priority??100))}),N(C.pagination??null),o(null)}catch(C){console.error("Error cargando usuarios:",C),o(C instanceof Error?C.message:"Error cargando los usuarios")}finally{a(!1)}},A=async C=>{if(window.confirm("Ests seguro de que deseas eliminar este usuario?"))try{await bt.deleteUser(C),await S()}catch(_){console.error("Error eliminando usuario:",_),alert(_ instanceof Error?_.message:"Error eliminando el usuario")}},T=async(C,_)=>{try{await bt.updateUser(C,{role:_}),await S()}catch(I){console.error("Error actualizando usuario:",I),alert(I instanceof Error?I.message:"Error actualizando el rol del usuario")}},p=C=>{if(!C)return"Fecha no disponible";const _=new Date(C);return Number.isNaN(_.getTime())?"Fecha no disponible":_.toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},k=C=>{switch(C){case"admin":return"bg-red-100 text-red-800";case"super_admin":return"bg-red-200 text-red-900";case"director":return"bg-purple-100 text-purple-800";case"director_editor":return"bg-blue-100 text-blue-800";case"usuario":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return s&&e.length===0?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando usuarios..."})]})}):n?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-red-400 mr-3",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-red-800 font-medium",children:"Error"}),r.jsx("p",{className:"text-red-600 mt-1",children:n})]})]})})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Usuarios"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Administrar usuarios del sistema"})]}),r.jsx("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:" Crear Usuario"})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar usuarios"}),r.jsx("input",{type:"text",value:i,onChange:C=>{l(C.target.value),h(1)},placeholder:"Nombre de usuario o email...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por rol"}),r.jsxs("select",{value:c,onChange:C=>{d(C.target.value),h(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"Todos los roles"}),u.map(C=>r.jsx("option",{value:C.key,children:C.label},C.key))]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:S,disabled:s,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors disabled:opacity-50",children:s?" Cargando...":" Buscar"})})]})}),r.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[r.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Usuarios del Sistema"}),x&&r.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Mostrando ",e.length," de ",x.total," usuarios"]})]}),e.length>0?r.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(C=>{var _,I,L,R;return r.jsx("li",{children:r.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((I=(_=C.name)==null?void 0:_.charAt(0))==null?void 0:I.toUpperCase())||((R=(L=C.email)==null?void 0:L.charAt(0))==null?void 0:R.toUpperCase())||"?"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name||"Usuario sin nombre"}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${k(C.role)}`,children:v[C.role]??C.role})]}),r.jsx("div",{className:"text-sm text-gray-500",children:C.email||"Sin email registrado"}),r.jsxs("div",{className:"text-xs text-gray-400",children:["Creado: ",p(C.created_at),C.last_login&&r.jsxs("span",{className:"ml-2",children:[" ltimo acceso: ",p(C.last_login)]})]}),r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Estado: ",C.status==="inactive"?"Inactivo":"Activo"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("select",{value:C.role,onChange:U=>T(C.id,U.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:u.map(U=>r.jsx("option",{value:U.key,children:U.label},U.key))}),r.jsx("button",{onClick:()=>f(C),className:"text-blue-600 hover:text-blue-800 px-2 py-1 text-sm",children:" Editar"}),r.jsx("button",{onClick:()=>A(C.id),className:"text-red-600 hover:text-red-800 px-2 py-1 text-sm",children:" Eliminar"})]})]}),C.stats&&r.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm text-gray-500",children:[r.jsxs("div",{children:[" ",C.stats.events_created??0," eventos creados"]}),r.jsxs("div",{children:[" ",C.stats.inscriptions??0," inscripciones"]}),r.jsxs("div",{children:[" ",C.stats.comments??0," comentarios"]})]})]})},C.id)})}):r.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"No se encontraron usuarios"})]})]}),x&&x.totalPages>1&&r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>h(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Anterior"}),Array.from({length:Math.min(5,x.totalPages)},(C,_)=>{const I=_+1;return r.jsx("button",{onClick:()=>h(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${m===I?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I},I)}),r.jsx("button",{onClick:()=>h(Math.min(x.totalPages,m+1)),disabled:m===x.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Siguiente"})]})})]}),w&&r.jsx(WN,{onClose:()=>j(!1),onUserCreated:()=>{j(!1),S()},roleOptions:u}),b&&r.jsx(GN,{user:b,onClose:()=>f(null),onUserUpdated:()=>{f(null),S()},roleOptions:u})]})}function WN({onClose:e,onUserCreated:t,roleOptions:s}){var x;const a=((x=s[0])==null?void 0:x.key)??"usuario",[n,o]=g.useState(()=>({name:"",email:"",password:"",role:a,send_welcome_email:!1})),[i,l]=g.useState(!1),[c,d]=g.useState(null),m=s.find(N=>N.key===n.role);g.useEffect(()=>{o(N=>{var j;return new Set(s.map(b=>b.key)).has(N.role)?N:{...N,role:((j=s[0])==null?void 0:j.key)??"usuario"}})},[s]);const h=async N=>{var w;if(N.preventDefault(),!n.name||!n.email||!n.password){d("Todos los campos son requeridos");return}try{l(!0),d(null),await bt.createUser({name:n.name.trim(),email:n.email.trim(),password:n.password,role:n.role,send_welcome_email:n.send_welcome_email}),o({name:"",email:"",password:"",role:((w=s[0])==null?void 0:w.key)??"usuario",send_welcome_email:!1}),t()}catch(j){console.error("Error creando usuario:",j),d(j instanceof Error?j.message:"Error creando el usuario")}finally{l(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Crear Nuevo Usuario"}),c&&r.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre completo"}),r.jsx("input",{type:"text",value:n.name,onChange:N=>o({...n,name:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",value:n.email,onChange:N=>o({...n,email:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),r.jsx("input",{type:"password",value:n.password,onChange:N=>o({...n,password:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rol"}),r.jsx("select",{value:n.role,onChange:N=>o({...n,role:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:s.map(N=>r.jsx("option",{value:N.key,children:N.label},N.key))}),(m==null?void 0:m.description)&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m.description})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{htmlFor:"send-welcome",className:"text-sm font-medium text-gray-700",children:"Enviar email de bienvenida"}),r.jsx("input",{id:"send-welcome",type:"checkbox",checked:n.send_welcome_email,onChange:N=>o({...n,send_welcome_email:N.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:i?"Creando...":"Crear Usuario"})]})]})]})})})}function GN({user:e,onClose:t,onUserUpdated:s,roleOptions:a}){const[n,o]=g.useState(()=>({name:e.name,email:e.email,role:e.role,status:e.status??(e.is_active?"active":"inactive")})),[i,l]=g.useState(!1),[c,d]=g.useState(null),m=a.find(x=>x.key===n.role);g.useEffect(()=>{o({name:e.name,email:e.email,role:e.role,status:e.status??(e.is_active?"active":"inactive")})},[e]);const h=async x=>{x.preventDefault();try{l(!0),d(null);const N={},w=n.name.trim();w&&w!==e.name.trim()&&(N.name=w),n.role!==e.role&&(N.role=n.role);const j=e.status??(e.is_active?"active":"inactive");if(n.status!==j&&(N.status=n.status),Object.keys(N).length===0){d("No hay cambios para guardar");return}await bt.updateUser(e.id,N),s()}catch(N){console.error("Error actualizando usuario:",N),d(N instanceof Error?N.message:"Error actualizando el usuario")}finally{l(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Editar Usuario"}),c&&r.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre completo"}),r.jsx("input",{type:"text",value:n.name,onChange:x=>o({...n,name:x.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",value:n.email,readOnly:!0,disabled:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed"}),r.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"El email no se puede actualizar desde este panel."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rol"}),r.jsx("select",{value:n.role,onChange:x=>o({...n,role:x.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:a.map(x=>r.jsx("option",{value:x.key,children:x.label},x.key))}),(m==null?void 0:m.description)&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),r.jsxs("select",{value:n.status,onChange:x=>o({...n,status:x.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"active",children:"Activo"}),r.jsx("option",{value:"inactive",children:"Inactivo"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:i?"Guardando...":"Guardar Cambios"})]})]})]})})})}const at="/api";class ZN{getAuthHeaders(){const t=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}}async getSocios(t){try{const s=new URLSearchParams;t!=null&&t.page&&s.append("page",t.page.toString()),t!=null&&t.limit&&s.append("limit",t.limit.toString()),t!=null&&t.search&&s.append("search",t.search),t!=null&&t.estado&&s.append("estado",t.estado),console.log("[sociosService] Llamando a:",`${at}/admin/socios?${s}`);const a=await fetch(`${at}/admin/socios?${s}`,{headers:this.getAuthHeaders()});if(console.log("[sociosService] Response status:",a.status),!a.ok){const o=await a.text();throw console.error("[sociosService] Error response:",o),new Error(`Error al obtener socios: ${a.status}`)}const n=await a.json();return console.log("[sociosService] Response JSON:",n),n.success&&n.data?{success:!0,data:n.data}:{success:!1,error:n.error||"Error desconocido"}}catch(s){return console.error("[sociosService] Error fetching socios:",s),{success:!1,error:s instanceof Error?s.message:"Error desconocido"}}}async getSocio(t){var s;try{const a=await fetch(`${at}/admin/socios/${t}`,{headers:this.getAuthHeaders()});if(!a.ok)throw new Error("Error al obtener socio");const n=await a.json();return{success:!0,data:((s=n.data)==null?void 0:s.socio)||n.data}}catch(a){return console.error("Error fetching socio:",a),{success:!1,error:a instanceof Error?a.message:"Error desconocido"}}}async createSocio(t){try{const s=await fetch(`${at}/admin/socios`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok){const n=await s.json();throw new Error(n.error||"Error al crear socio")}return{success:!0,data:(await s.json()).data}}catch(s){return console.error("Error creating socio:",s),{success:!1,error:s instanceof Error?s.message:"Error desconocido"}}}async updateSocio(t,s){try{const a=await fetch(`${at}/admin/socios/${t}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(s)});if(!a.ok)throw new Error("Error al actualizar socio");return{success:!0,data:(await a.json()).data}}catch(a){return console.error("Error updating socio:",a),{success:!1,error:a instanceof Error?a.message:"Error desconocido"}}}async deleteSocio(t){try{const s=await fetch(`${at}/admin/socios/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.error||"Error al eliminar socio")}return{success:(await s.json()).success!==!1}}catch(s){return console.error("Error deleting socio:",s),{success:!1,error:s instanceof Error?s.message:"Error desconocido"}}}async getCuotas(t){try{const s=new URLSearchParams;t!=null&&t.ao&&s.append("ao",t.ao.toString()),t!=null&&t.mes&&s.append("mes",t.mes.toString()),t!=null&&t.socioId&&s.append("socioId",t.socioId.toString()),t!=null&&t.estado&&s.append("estado",t.estado),t!=null&&t.page&&s.append("page",t.page.toString()),t!=null&&t.limit&&s.append("limit",t.limit.toString()),console.log("[sociosService] Llamando a cuotas:",`${at}/admin/cuotas?${s}`);const a=await fetch(`${at}/admin/cuotas?${s}`,{headers:this.getAuthHeaders()});if(console.log("[sociosService] Cuotas response status:",a.status),!a.ok){const o=await a.text();throw console.error("[sociosService] Error response cuotas:",o),new Error(`Error al obtener cuotas: ${a.status}`)}const n=await a.json();return console.log("[sociosService] Cuotas response JSON:",n),n.success&&n.data?{success:!0,data:n.data}:{success:!1,error:n.error||"Error desconocido"}}catch(s){return console.error("[sociosService] Error fetching cuotas:",s),{success:!1,error:s instanceof Error?s.message:"Error desconocido"}}}async crearCuotaIndividual(t,s,a,n){try{console.log("[sociosService] Creando cuota individual:",{usuarioId:t,ao:s,mes:a,valor:n});const o={usuarioId:t,ao:s,mes:a};n!==void 0&&(o.valor=n);const i=await fetch(`${at}/admin/cuotas`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(o)});if(console.log("[sociosService] Respuesta crear cuota status:",i.status),!i.ok){const c=await i.json();throw console.error("[sociosService] Error response crear cuota:",c),new Error(c.error||"Error al crear cuota")}const l=await i.json();return console.log("[sociosService] Cuota creada exitosamente:",l),{success:!0,data:l.data}}catch(o){return console.error("[sociosService] Error creando cuota individual:",o),{success:!1,error:o instanceof Error?o.message:"Error desconocido"}}}async generarCuotas(t,s,a=!1,n){try{const o={ao:t,mes:s,sobreescribir:a};n!==void 0&&(o.valorDefault=n);const i=await fetch(`${at}/admin/cuotas/generar`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(o)});if(!i.ok){const c=await i.json();throw new Error(c.error||"Error al generar cuotas")}return{success:!0,data:(await i.json()).data}}catch(o){return console.error("Error generating cuotas:",o),{success:!1,error:o instanceof Error?o.message:"Error desconocido"}}}async marcarCuotaPagada(t,s){try{const a={cuotaId:t,metodoPago:s.metodoPago};s.fechaPago&&(a.fechaPago=s.fechaPago),s.comprobanteUrl&&(a.comprobanteUrl=s.comprobanteUrl),s.notas&&(a.notas=s.notas),console.log("[sociosService] Marcando cuota como pagada:",t,a);const n=await fetch(`${at}/admin/cuotas/marcar-pago`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(a)});if(console.log("[sociosService] Respuesta status:",n.status),!n.ok){const i=await n.text();console.error("[sociosService] Error response:",i);try{const l=JSON.parse(i);throw new Error(l.error||"Error al marcar cuota como pagada")}catch{throw new Error(`Error ${n.status}: ${i||"Error al marcar cuota como pagada"}`)}}const o=await n.json();return console.log("[sociosService] Cuota marcada exitosamente:",o),{success:!0,data:o.data}}catch(a){return console.error("[sociosService] Error marking cuota as paid:",a),{success:!1,error:a instanceof Error?a.message:"Error desconocido"}}}async eliminarCuota(t){try{console.log("[sociosService] Eliminando cuota:",t);const s=await fetch(`${at}/admin/cuotas/${t}`,{method:"DELETE",headers:this.getAuthHeaders()});if(console.log("[sociosService] Respuesta eliminar status:",s.status),!s.ok){const n=await s.text();console.error("[sociosService] Error response:",n);try{const o=JSON.parse(n);throw new Error(o.error||"Error al eliminar cuota")}catch{throw new Error(`Error ${s.status}: ${n||"Error al eliminar cuota"}`)}}const a=await s.json();return console.log("[sociosService] Cuota eliminada exitosamente:",a),{success:!0}}catch(s){return console.error("[sociosService] Error eliminando cuota:",s),{success:!1,error:s instanceof Error?s.message:"Error desconocido"}}}async subirComprobante(t,s){try{const a=new FormData;a.append("file",t),a.append("cuotaId",s.toString());const n=localStorage.getItem("token"),o=await fetch(`${at}/cuotas/subir-comprobante`,{method:"POST",headers:{Authorization:n?`Bearer ${n}`:""},body:a});if(!o.ok)throw new Error("Error al subir comprobante");return{success:!0,data:(await o.json()).data}}catch(a){return console.error("Error uploading comprobante:",a),{success:!1,error:a instanceof Error?a.message:"Error desconocido"}}}async subirFotoSocio(t,s){try{const a=new FormData;a.append("file",t),a.append("socioId",s.toString()),a.append("tipo","foto-socio");const n=localStorage.getItem("token"),o=await fetch(`${at}/upload/imagen`,{method:"POST",headers:{Authorization:n?`Bearer ${n}`:""},body:a});if(!o.ok)throw new Error("Error al subir foto");return{success:!0,data:{url:(await o.json()).data.url}}}catch(a){return console.error("Error uploading foto:",a),{success:!1,error:a instanceof Error?a.message:"Error desconocido"}}}async getConfiguracion(){try{const t=await fetch(`${at}/admin/configuracion`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error("Error al obtener configuracin");return{success:!0,data:(await t.json()).data}}catch(t){return console.error("Error fetching configuracion:",t),{success:!1,error:t instanceof Error?t.message:"Error desconocido"}}}async updateConfiguracion(t,s){try{const a=await fetch(`${at}/admin/configuracion`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({clave:t,valor:s})});if(!a.ok){const o=await a.json();throw new Error(o.error||"Error al actualizar configuracin")}return{success:!0,data:(await a.json()).data}}catch(a){return console.error("Error updating configuracion:",a),{success:!1,error:a instanceof Error?a.message:"Error desconocido"}}}}const we=new ZN;function hl(){const[e,t]=g.useState([]),[s,a]=g.useState(!0),[n,o]=g.useState(null),[i,l]=g.useState(""),[c,d]=g.useState(""),[m,h]=g.useState(!1),[x,N]=g.useState(null),[w,j]=g.useState(null),[b,f]=g.useState(!1),[u,y]=g.useState([{key:"usuario",label:"Usuario",description:"Acceso bsico",priority:100},{key:"director",label:"Director",description:"Gestin avanzada",priority:60},{key:"director_editor",label:"Director Editor",description:"Editar contenidos",priority:80},{key:"admin",label:"Administrador",description:"Acceso total",priority:40}]),v=Rt(),S=hr(),{socioId:A}=Ln(),T=S.pathname.endsWith("/createuser"),p=S.pathname.endsWith("/edituser");g.useEffect(()=>{L()},[i,c]),g.useEffect(()=>{let P=!1;return(async()=>{try{const $=await bt.getRoleCatalog();if(!$||P)return;const H=$.filter(J=>typeof J.key=="string").map(J=>({key:J.key,label:J.label??J.key,description:J.description,priority:J.priority}));if(H.length===0)return;y(J=>{const D=new Set(J.map(W=>W.key)),z=[...J];return H.forEach(W=>{if(D.has(W.key)){const G=z.findIndex(K=>K.key===W.key);G!==-1&&(z[G]=W)}else z.push(W)}),z.sort((W,G)=>(G.priority??100)-(W.priority??100))})}catch($){console.warn("[AdminSocios] No se pudo obtener catlogo de roles, usando defaults.",$)}})(),()=>{P=!0}},[]);const k=g.useCallback(()=>{v("/panel-admin/users",{replace:!0})},[v]),C=g.useCallback(()=>{v("/panel-admin/users",{replace:!0})},[v]),_=g.useCallback(()=>{v("/panel-admin/users/createuser")},[v]),I=g.useCallback(P=>{v(`/panel-admin/users/${P}/edituser`)},[v]);g.useEffect(()=>{if(!p){N(null),f(!1);return}if(!A){N(null);return}const P=Number(A);if(Number.isNaN(P)){N(null);return}const V=e.find(H=>H.id===P);if(V){N(V),f(!1);return}let $=!1;return f(!0),we.getSocio(P).then(H=>{var J;if(!$){if(H.success&&H.data)N(H.data);else{console.warn("[AdminSocios] getSocio failed, opening fallback edit modal:",H.error),o(H.error||"No se pudo cargar la informacin del socio. Usando datos mnimos.");const D={id:P,nombre:"",apellido:"",email:"",telefono:"",rut:"",direccion:"",ciudad:"",valorCuota:6500,estadoSocio:"activo",fechaIngreso:new Date().toISOString().split("T")[0],listaNegra:!1,motivoListaNegra:"",fotoUrl:void 0,estadisticasCuotas:void 0,role:((J=u[0])==null?void 0:J.key)||"usuario"};N(D)}f(!1)}}),()=>{$=!0}},[p,A,e,C]);const L=async()=>{try{a(!0);const P=await we.getSocios({search:i||void 0,estado:c||void 0});P.success&&P.data?t(P.data.socios):o(P.error||"Error al cargar socios")}catch(P){o("Error al cargar socios"),console.error(P)}finally{a(!1)}},R=async P=>{if(window.confirm(`Ests seguro de eliminar a ${P.nombreCompleto}? Esta accin no se puede deshacer.`))try{const V=await we.deleteSocio(P.id);V.success?await L():alert(V.error||"Error al eliminar socio")}catch(V){console.error("Error eliminando socio:",V),alert("Error al eliminar socio")}},U=P=>{switch(P){case"activo":return"bg-green-100 text-green-800";case"honorario":return"bg-blue-100 text-blue-800";case"postumo":return"bg-gray-100 text-gray-800";case"expulsado":return"bg-red-100 text-red-800";case"renunciado":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ue,{className:"h-12 w-12 text-red-600 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando socios..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Socios"}),r.jsx("p",{className:"text-gray-600",children:"Administra los socios de ACA Chile"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ne,{to:"/panel-admin/postulantes",className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Gestionar postulantes"}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Kv,{className:"h-5 w-5 mr-2"}),"Importar CSV"]}),r.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Si,{className:"h-5 w-5 mr-2"}),"Agregar Socio"]})]})]}),n&&r.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700",children:n}),r.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-400 hover:text-red-600",children:r.jsx(Ye,{className:"h-4 w-4"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o RUT...",value:i,onChange:P=>l(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Todos los estados"}),r.jsx("option",{value:"activo",children:"Activos"}),r.jsx("option",{value:"inactivo",children:"Inactivos"}),r.jsx("option",{value:"suspendido",children:"Suspendidos"})]}),r.jsxs("div",{className:"flex items-center justify-end text-sm text-gray-600",children:["Total: ",r.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[e.length," socios"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Socio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cuota"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estadsticas"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:[r.jsx(ct,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),r.jsx("p",{children:"No se encontraron socios"})]})}):e.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:P.fotoUrl?r.jsx("img",{src:P.fotoUrl,alt:P.nombreCompleto,className:"h-10 w-10 rounded-full object-cover"}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:r.jsxs("span",{className:"text-red-600 font-semibold",children:[P.nombre.charAt(0),P.apellido.charAt(0)]})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx(ne,{to:`/panel-admin/users/${P.id}`,className:"text-sm font-medium text-gray-900 hover:text-red-600 hover:underline cursor-pointer transition-colors block",children:P.nombreCompleto}),P.rut&&r.jsxs("div",{className:"text-sm text-gray-500",children:["RUT: ",P.rut]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:P.email}),P.telefono&&r.jsx("div",{className:"text-sm text-gray-500",children:P.telefono})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",P.valorCuota.toLocaleString("es-CL")]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U(P.estadoSocio)}`,children:P.estadoSocio})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.estadisticasCuotas&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Re,{className:"h-4 w-4 text-green-500 mr-1"}),P.estadisticasCuotas.cuotasPagadas," pagadas"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(dr,{className:"h-4 w-4 text-red-500 mr-1"}),P.estadisticasCuotas.cuotasPendientes," pendientes"]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:()=>j(P),className:"text-red-600 hover:text-red-900 mr-3",title:"Ver detalle",children:r.jsx(ot,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>{N(P),I(P.id)},className:"text-blue-600 hover:text-blue-900 mr-3",title:"Editar socio",children:r.jsx(Id,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>R(P),className:"text-red-600 hover:text-red-900",title:"Eliminar socio",children:r.jsx(Td,{className:"h-5 w-5"})})]})]},P.id))})]})})]}),m&&r.jsx(QN,{onClose:()=>h(!1),onImportComplete:()=>{h(!1),L()}}),T&&r.jsx(KN,{onClose:k,onSocioCreated:()=>{L(),k()},roleOptions:u}),p&&b&&!x&&r.jsx(JN,{message:"Cargando informacin del socio...",onClose:C}),p&&x&&r.jsx(YN,{socio:x,onClose:()=>{N(null),C()},onSocioUpdated:()=>{L(),N(null),C()},roleOptions:u}),w&&r.jsx(XN,{socio:w,onClose:()=>j(null)})]})}function JN({message:e,onClose:t}){return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[r.jsx(Ue,{className:"h-8 w-8 text-red-600 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e}),r.jsx("button",{type:"button",onClick:t,className:"w-full inline-flex justify-center rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Cancelar"})]})})}function QN({onClose:e,onImportComplete:t}){var j;const[s,a]=g.useState(null),[n,o]=g.useState(!1),[i,l]=g.useState(null),[c,d]=g.useState([]),[m,h]=g.useState(null),x=b=>{var y;const f=(y=b.target.files)==null?void 0:y[0];if(!f)return;if(!f.name.endsWith(".csv")){l("Por favor selecciona un archivo CSV vlido");return}a(f),l(null),h(null);const u=new FileReader;u.onload=v=>{var p;const T=((p=v.target)==null?void 0:p.result).split(`
`).slice(0,6).map(k=>k.split(","));d(T)},u.readAsText(f)},N=()=>{const b=`nombre,apellido,email,telefono,rut,direccion,ciudad,valor_cuota,password,estado_socio
Juan,Prez,juan.perez@email.com,+56912345678,12.345.678-9,"Av. Libertador 123, Depto 45",Santiago,6500,password123,activo
Mara,Gonzlez,maria.gonzalez@email.com,+56987654321,98.765.432-1,"Calle Principal 456",Valparaso,6500,password456,activo`,f=new Blob([b],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a");u.href=URL.createObjectURL(f),u.download="plantilla_socios_aca.csv",u.click()},w=async()=>{if(!s){l("Por favor selecciona un archivo");return}o(!0),l(null),h(null);try{const b=new FileReader;b.onload=async f=>{var k;const y=((k=f.target)==null?void 0:k.result).split(`
`).filter(C=>C.trim());if(y.length<2){l("El archivo est vaco o no tiene datos"),o(!1);return}const v=y[0];if(!v){l("El archivo no tiene encabezados"),o(!1);return}const S=v.split(",").map(C=>C.trim()),T=["nombre","apellido","email","password"].filter(C=>!S.includes(C));if(T.length>0){l(`Faltan columnas requeridas: ${T.join(", ")}`),o(!1);return}const p=[];for(let C=1;C<y.length;C++){const _=y[C];if(!(!_||!_.trim()))try{const I=[];let L="",R=!1;for(let V=0;V<_.length;V++){const $=_[V];$==='"'?R=!R:$===","&&!R?(I.push(L.trim()),L=""):L+=$}I.push(L.trim());const U={};S.forEach((V,$)=>{U[V]=I[$]||""});const P=await we.createSocio({nombre:U.nombre,apellido:U.apellido,email:U.email,telefono:U.telefono||void 0,rut:U.rut||void 0,direccion:U.direccion||void 0,ciudad:U.ciudad||void 0,valorCuota:U.valor_cuota?parseInt(U.valor_cuota):6500,estadoSocio:"activo",fechaIngreso:new Date().toISOString().split("T")[0],password:U.password});P.success||p.push({row:C+1,error:P.error||"Error desconocido"})}catch(I){p.push({row:C+1,error:I instanceof Error?I.message:"Error al procesar fila"})}}h({success:y.length-1-p.length,errors:p}),p.length===0&&setTimeout(()=>{t()},2e3)},b.readAsText(s)}catch(b){l(b instanceof Error?b.message:"Error al importar archivo")}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Importar Socios desde CSV"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ye,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"mb-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:r.jsxs("div",{className:"flex",children:[r.jsx(Ne,{className:"h-5 w-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Instrucciones:"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"El archivo debe ser formato CSV (separado por comas)"}),r.jsxs("li",{children:["Columnas requeridas: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"nombre, apellido, email, password"})]}),r.jsxs("li",{children:["Columnas opcionales: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"telefono, rut, direccion, ciudad, valor_cuota, estado_socio"})]}),r.jsx("li",{children:"La primera fila debe contener los nombres de las columnas"}),r.jsxs("li",{children:["Si la direccin contiene comas, encirrala entre comillas: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:'"Calle 123, Depto 4"'})]})]})]})]})}),r.jsx("div",{className:"mb-6",children:r.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Vv,{className:"h-5 w-5 mr-2"}),"Descargar Plantilla CSV"]})}),i&&r.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700",children:i})]})}),m&&r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded mb-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Re,{className:"h-5 w-5 text-green-400 mr-2"}),r.jsxs("p",{className:"text-green-700 font-semibold",children:[m.success," socios importados exitosamente"]})]})}),m.errors.length>0&&r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:[r.jsxs("h4",{className:"font-semibold text-red-900 mb-2",children:["Errores (",m.errors.length,"):"]}),r.jsx("ul",{className:"text-sm text-red-800 space-y-1 max-h-40 overflow-y-auto",children:m.errors.map((b,f)=>r.jsxs("li",{children:[r.jsxs("strong",{children:["Fila ",b.row,":"]})," ",b.error]},f))})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar archivo CSV"}),r.jsx("input",{type:"file",accept:".csv",onChange:x,className:`block w-full text-sm text-gray-500
                file:mr-4 file:py-2 file:px-4
                file:rounded-lg file:border-0
                file:text-sm file:font-semibold
                file:bg-red-50 file:text-red-700
                hover:file:bg-red-100
                cursor-pointer`})]}),c.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vista previa (primeras 5 filas):"}),r.jsx("div",{className:"overflow-x-auto border rounded-lg",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsx("tr",{children:(j=c[0])==null?void 0:j.map((b,f)=>r.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-500",children:b},f))})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.slice(1).map((b,f)=>r.jsx("tr",{children:b.map((u,y)=>r.jsx("td",{className:"px-3 py-2 text-gray-700",children:u},y))},f))})]})})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{onClick:w,disabled:!s||n,className:"flex items-center px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-5 w-5 mr-2 animate-spin"}),"Importando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_s,{className:"h-5 w-5 mr-2"}),"Importar Socios"]})})]})]})})})}function KN({onClose:e,onSocioCreated:t,roleOptions:s}){var j,b,f;const[a,n]=g.useState({nombre:"",apellido:"",email:"",telefono:"",rut:"",direccion:"",valorCuota:6500,estadoSocio:"activo",fechaIngreso:new Date().toISOString().substring(0,10),listaNegra:!1,motivoListaNegra:"",password:""}),[o,i]=g.useState(!1),[l,c]=g.useState(null),[d,m]=g.useState(null),[h,x]=g.useState(null),N=u=>{var v;const y=(v=u.target.files)==null?void 0:v[0];if(y){m(y);const S=new FileReader;S.onloadend=()=>{x(S.result)},S.readAsDataURL(y)}},w=async u=>{u.preventDefault(),i(!0),c(null);try{const y={...a};a&&a.role&&(y.role=a.role);const v=await we.createSocio(y);if(!v.success||!v.data)throw new Error(v.error||"Error al crear socio");d&&v.data.id&&await we.subirFotoSocio(d,v.data.id),t()}catch(y){c(y instanceof Error?y.message:"Error desconocido")}finally{i(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agregar Nuevo Socio"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ye,{className:"h-6 w-6"})})]}),l&&r.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700",children:l})]})}),r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto del Socio"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:h?r.jsx("img",{src:h,alt:"Preview",className:"h-20 w-20 rounded-full object-cover"}):r.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(_s,{className:"h-8 w-8 text-gray-400"})})}),r.jsxs("label",{htmlFor:"foto-input",className:"cursor-pointer bg-white px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Seleccionar foto"}),r.jsx("input",{id:"foto-input",type:"file",accept:"image/*",onChange:N,className:"hidden"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"nombre-input",className:"block text-sm font-medium text-gray-700 mb-2",children:["Nombre ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"nombre-input",type:"text",required:!0,value:a.nombre,onChange:u=>n({...a,nombre:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"apellido-input",className:"block text-sm font-medium text-gray-700 mb-2",children:["Apellido ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"apellido-input",type:"text",required:!0,value:a.apellido,onChange:u=>n({...a,apellido:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email-input",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"email-input",type:"email",required:!0,value:a.email,onChange:u=>n({...a,email:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"telefono-input",className:"block text-sm font-medium text-gray-700 mb-2",children:["Telfono ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"telefono-input",type:"tel",required:!0,value:a.telefono,onChange:u=>n({...a,telefono:u.target.value}),placeholder:"+56912345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["RUT ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",required:!0,value:a.rut,onChange:u=>n({...a,rut:u.target.value}),placeholder:"12.345.678-9",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Direccin ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{required:!0,value:a.direccion,onChange:u=>n({...a,direccion:u.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Cuota Mensual (CLP)"}),r.jsx("input",{type:"number",value:a.valorCuota,onChange:u=>n({...a,valorCuota:parseInt(u.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Por defecto: $6.500 CLP"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado del Socio"}),r.jsxs("select",{value:a.estadoSocio,onChange:u=>n({...a,estadoSocio:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"activo",children:"Activo"}),r.jsx("option",{value:"honorario",children:"Honorario"}),r.jsx("option",{value:"postumo",children:"Pstumo"}),r.jsx("option",{value:"expulsado",children:"Expulsado"}),r.jsx("option",{value:"renunciado",children:"Renunciado"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Ingreso"}),r.jsx("input",{type:"date",value:a.fechaIngreso,onChange:u=>n({...a,fechaIngreso:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:a.listaNegra,onChange:u=>n({...a,listaNegra:u.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Lista Negra (Prohibicin permanente)"})]}),a.listaNegra&&r.jsxs("div",{className:"mt-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo de la Lista Negra"}),r.jsx("textarea",{value:a.motivoListaNegra,onChange:u=>n({...a,motivoListaNegra:u.target.value}),rows:3,placeholder:"Explique el motivo de la prohibicin permanente...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contrasea ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"password",required:!0,value:a.password,onChange:u=>n({...a,password:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Mnimo 6 caracteres"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),r.jsx("select",{value:a.role||((j=s[0])==null?void 0:j.key),onChange:u=>n({...a,role:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent mb-2",children:s.map(u=>r.jsx("option",{value:u.key,children:u.label},u.key))}),((b=s.find(u=>{var y;return u.key===(a.role||((y=s[0])==null?void 0:y.key))}))==null?void 0:b.description)&&r.jsx("p",{className:"text-xs text-gray-500",children:(f=s.find(u=>{var y;return u.key===(a.role||((y=s[0])==null?void 0:y.key))}))==null?void 0:f.description})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:o,className:"flex items-center px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-5 w-5 mr-2 animate-spin"}),"Creando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Si,{className:"h-5 w-5 mr-2"}),"Crear Socio"]})})]})]})]})})})}function YN({socio:e,onClose:t,onSocioUpdated:s,roleOptions:a}){var b;const[n,o]=g.useState({nombre:e.nombre,apellido:e.apellido,email:e.email,telefono:e.telefono||"",rut:e.rut||"",direccion:e.direccion||"",ciudad:e.ciudad||"",valorCuota:e.valorCuota,estadoSocio:e.estadoSocio,fechaIngreso:e.fechaIngreso,listaNegra:e.listaNegra,motivoListaNegra:e.motivoListaNegra||"",role:e.role||((b=a[0])==null?void 0:b.key)||"usuario"}),[i,l]=g.useState(!1),[c,d]=g.useState(null),[m,h]=g.useState(null),[x,N]=g.useState(e.fotoUrl||null),w=f=>{var y;const u=(y=f.target.files)==null?void 0:y[0];if(u){h(u);const v=new FileReader;v.onloadend=()=>{N(v.result)},v.readAsDataURL(u)}},j=async f=>{f.preventDefault(),l(!0),d(null);try{const u=await we.updateSocio(e.id,n);if(!u.success)throw new Error(u.error||"Error al actualizar socio");m&&await we.subirFotoSocio(m,e.id),s()}catch(u){d(u instanceof Error?u.message:"Error desconocido")}finally{l(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Editar Socio"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ye,{className:"h-6 w-6"})})]}),c&&r.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700",children:c})]})}),r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto del Socio"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:x?r.jsx("img",{src:x,alt:"Preview",className:"h-20 w-20 rounded-full object-cover"}):r.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(_s,{className:"h-8 w-8 text-gray-400"})})}),r.jsxs("label",{htmlFor:"edit-foto-input",className:"cursor-pointer bg-white px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Cambiar foto"}),r.jsx("input",{id:"edit-foto-input",type:"file",accept:"image/*",onChange:w,className:"hidden"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"edit-nombre-input",className:"block text-sm font-medium text-gray-700 mb-2",children:["Nombre ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"edit-nombre-input",type:"text",required:!0,value:n.nombre,onChange:f=>o({...n,nombre:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"edit-apellido-input",className:"block text-sm font-medium text-gray-700 mb-2",children:["Apellido ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"edit-apellido-input",type:"text",required:!0,value:n.apellido,onChange:f=>o({...n,apellido:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"edit-email-input",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"edit-email-input",type:"email",required:!0,value:n.email,onChange:f=>o({...n,email:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-telefono-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),r.jsx("input",{id:"edit-telefono-input",type:"tel",value:n.telefono,onChange:f=>o({...n,telefono:f.target.value}),placeholder:"+56912345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RUT"}),r.jsx("input",{type:"text",value:n.rut,onChange:f=>o({...n,rut:f.target.value}),placeholder:"12.345.678-9",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad"}),r.jsx("input",{type:"text",value:n.ciudad,onChange:f=>o({...n,ciudad:f.target.value}),placeholder:"Santiago, Valparaso, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),r.jsx("select",{value:n.role,onChange:f=>o({...n,role:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:a.map(f=>r.jsx("option",{value:f.key,children:f.label},f.key))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direccin"}),r.jsx("textarea",{value:n.direccion,onChange:f=>o({...n,direccion:f.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Cuota Mensual (CLP)"}),r.jsx("input",{type:"number",value:n.valorCuota,onChange:f=>o({...n,valorCuota:parseInt(f.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado del Socio"}),r.jsxs("select",{value:n.estadoSocio,onChange:f=>o({...n,estadoSocio:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"activo",children:"Activo"}),r.jsx("option",{value:"honorario",children:"Honorario"}),r.jsx("option",{value:"postumo",children:"Pstumo"}),r.jsx("option",{value:"expulsado",children:"Expulsado"}),r.jsx("option",{value:"renunciado",children:"Renunciado"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Ingreso"}),r.jsx("input",{type:"date",value:n.fechaIngreso,onChange:f=>o({...n,fechaIngreso:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:n.listaNegra,onChange:f=>o({...n,listaNegra:f.target.checked}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Lista Negra (Prohibicin permanente)"})]}),n.listaNegra&&r.jsxs("div",{className:"mt-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo de la Lista Negra"}),r.jsx("textarea",{value:n.motivoListaNegra,onChange:f=>o({...n,motivoListaNegra:f.target.value}),rows:3,placeholder:"Explique el motivo de la prohibicin permanente...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-5 w-5 mr-2 animate-spin"}),"Actualizando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Id,{className:"h-5 w-5 mr-2"}),"Actualizar Socio"]})})]})]})]})})})}function XN({socio:e,onClose:t}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Detalle del Socio"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ye,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[e.fotoUrl?r.jsx("img",{src:e.fotoUrl,alt:e.nombreCompleto,className:"h-20 w-20 rounded-full object-cover"}):r.jsx("div",{className:"h-20 w-20 rounded-full bg-red-100 flex items-center justify-center",children:r.jsxs("span",{className:"text-red-600 font-semibold text-2xl",children:[e.nombre.charAt(0),e.apellido.charAt(0)]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.nombreCompleto}),r.jsx("p",{className:"text-gray-600",children:e.email})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"RUT"}),r.jsx("p",{className:"text-gray-900",children:e.rut||"No especificado"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Telfono"}),r.jsx("p",{className:"text-gray-900",children:e.telefono||"No especificado"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Direccin"}),r.jsx("p",{className:"text-gray-900",children:e.direccion||"No especificada"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Cuota"}),r.jsxs("p",{className:"text-gray-900",children:["$",e.valorCuota.toLocaleString("es-CL")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Estado"}),r.jsx("p",{className:"text-gray-900 capitalize",children:e.estadoSocio})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fecha Ingreso"}),r.jsx("p",{className:"text-gray-900",children:new Date(e.fechaIngreso).toLocaleDateString("es-CL")})]})]}),e.estadisticasCuotas&&r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Estadsticas de Cuotas"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Cuotas Pagadas"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.estadisticasCuotas.cuotasPagadas})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Cuotas Pendientes"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.estadisticasCuotas.cuotasPendientes})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Deuda Total"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",e.estadisticasCuotas.totalDeuda.toLocaleString("es-CL")]})]})]})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t",children:r.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Cerrar"})})]})]})})})}const Oa=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];function Ym(){const[e]=g.useState(new Date().getFullYear()),[t]=g.useState(new Date().getMonth()+1),[s,a]=g.useState(e),[n,o]=g.useState([]),[i,l]=g.useState([]),[c,d]=g.useState(!0),[m,h]=g.useState(null),[x,N]=g.useState(!1),[w,j]=g.useState(null),[b,f]=g.useState(""),[u,y]=g.useState("todos");g.useEffect(()=>{v()},[s]);const v=async()=>{var k;try{d(!0),h(null),console.log("[AdminCuotas] Cargando datos...");const[C,_]=await Promise.all([we.getSocios({estado:"activo"}),we.getCuotas({ao:s})]);if(console.log("[AdminCuotas] Respuesta socios completa:",JSON.stringify(C,null,2)),console.log("[AdminCuotas] Respuesta cuotas completa:",JSON.stringify(_,null,2)),C.success&&C.data){const I=C.data.socios||[];if(!Array.isArray(I)){console.error("[AdminCuotas] sociosList no es un array:",I),h("Error: La respuesta del servidor no tiene el formato esperado");return}const L=((k=_.data)==null?void 0:k.cuotas)||[],R=S(I,L);o(R),console.log("[AdminCuotas] Socios procesados:",R.length)}else h(C.error||"Error al cargar socios"),console.error("[AdminCuotas] Error en respuesta de socios:",C);if(_.success&&_.data){const I=_.data.cuotas||[];l(I),console.log("[AdminCuotas] Cuotas cargadas:",I.length)}else console.warn("[AdminCuotas] Error al cargar cuotas:",_.error)}catch(C){const _=C instanceof Error?C.message:"Error desconocido";h(`Error al cargar datos: ${_}`),console.error("[AdminCuotas] Error:",C)}finally{d(!1)}},S=(k,C)=>{const _=new Date,I=_.getFullYear(),L=new Date(I-1,0,1);return k.map(R=>{var K;const U=C.filter(le=>le.usuarioId===R.id),P=U.filter(le=>{const ve=new Date(le.ao,le.mes-1,5);return _>ve}),V=P.filter(le=>le.pagado).length,$=P.length,H=$-V,J=U.filter(le=>!le.pagado||!le.fechaPago?!1:new Date(le.fechaPago)>=L).length,D=U.filter(le=>le.pagado).length,z=U.filter(le=>le.pagado&&le.fechaPago);let W;z.length>0&&(W=((K=z.sort((ve,pt)=>new Date(pt.fechaPago).getTime()-new Date(ve.fechaPago).getTime())[0])==null?void 0:K.fechaPago)||void 0);let G="sin-pagos";return(D>0||H===0)&&(G=H===0?"al-dia":"atrasado"),{...R,mesesPagados:D,mesesAtrasados:H,cuotasVencidas:$,cuotasPagadasVencidas:V,mesesPagadosUltimoAo:J,ultimoPago:W,estadoPago:G}})},A=n.filter(k=>{var I;const C=k.nombreCompleto.toLowerCase().includes(b.toLowerCase())||k.email.toLowerCase().includes(b.toLowerCase())||((I=k.rut)==null?void 0:I.toLowerCase().includes(b.toLowerCase())),_=u==="todos"||k.estadoPago===u;return C&&_}),p=(()=>{const k=n.length,C=n.filter(P=>P.estadoPago==="al-dia").length,_=n.filter(P=>P.estadoPago==="atrasado").length,I=n.filter(P=>P.estadoPago==="sin-pagos").length,L=i.filter(P=>P.ao===2025),R=L.filter(P=>P.pagado).reduce((P,V)=>P+V.valor,0),U=L.filter(P=>!P.pagado).reduce((P,V)=>P+V.valor,0);return{totalSocios:k,sociosAlDia:C,sociosAtrasados:_,sociosSinPagos:I,totalRecaudado:R,totalPendiente:U}})();return c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ue,{className:"h-12 w-12 text-red-600 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando cuotas..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Cuotas"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Administra los pagos de cuotas mensuales de los socios"})]}),r.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("select",{value:s,onChange:k=>a(Number(k.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:Array.from({length:16},(k,C)=>e-10+C).map(k=>r.jsx("option",{value:k,children:k},k))}),r.jsx("button",{onClick:v,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Recargar datos",children:r.jsx(Op,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[r.jsx(ye,{className:"h-4 w-4"}),"Generar Cuotas ",s]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Socios"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalSocios})]}),r.jsx(ir,{className:"h-10 w-10 text-gray-400"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Al Da"}),r.jsx("p",{className:"text-2xl font-bold text-green-700",children:p.sociosAlDia}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[p.totalSocios>0?(p.sociosAlDia/p.totalSocios*100).toFixed(0):0,"%"]})]}),r.jsx(Re,{className:"h-10 w-10 text-green-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Atrasados"}),r.jsx("p",{className:"text-2xl font-bold text-red-700",children:p.sociosAtrasados}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[p.totalSocios>0?(p.sociosAtrasados/p.totalSocios*100).toFixed(0):0,"%"]})]}),r.jsx(js,{className:"h-10 w-10 text-red-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Recaudado 2025"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(p.totalRecaudado/1e3).toFixed(0),"K"]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Pendiente 2025: $",(p.totalPendiente/1e3).toFixed(0),"K"]})]}),r.jsx(ki,{className:"h-10 w-10 text-green-500"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o RUT...",value:b,onChange:k=>f(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})}),r.jsxs("select",{value:u,onChange:k=>y(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"todos",children:"Todos los estados"}),r.jsx("option",{value:"al-dia",children:"Al da"}),r.jsx("option",{value:"atrasado",children:"Atrasados"})]}),r.jsxs("button",{onClick:()=>{},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(Zv,{className:"h-4 w-4"}),"Exportar"]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:r.jsx("div",{className:"divide-y divide-gray-200",children:A.length===0?r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx(ir,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),n.length===0?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-medium mb-2",children:"No hay socios registrados"}),r.jsx("p",{className:"text-sm",children:'Agrega socios desde la seccin "Gestin de Socios"'})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-medium mb-2",children:"No se encontraron socios"}),r.jsx("p",{className:"text-sm",children:"Intenta con otros trminos de bsqueda o filtros"})]})]}):A.map(k=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>j(k),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[k.fotoUrl?r.jsx("img",{src:k.fotoUrl,alt:k.nombreCompleto,className:"h-12 w-12 rounded-full object-cover"}):r.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:r.jsxs("span",{className:"text-red-600 font-semibold",children:[k.nombre.charAt(0),k.apellido.charAt(0)]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.nombreCompleto}),r.jsx("p",{className:"text-xs text-gray-500",children:k.email})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[k.cuotasPagadasVencidas,"/",k.cuotasVencidas]}),r.jsx("p",{className:"text-xs text-gray-500",children:k.ultimoPago?`ltimo: ${new Date(k.ultimoPago).toLocaleDateString("es-CL",{month:"short",year:"numeric"})}`:"Sin pagos"})]}),r.jsx("div",{className:`px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-2 ${k.mesesAtrasados===0?"bg-green-100 text-green-800":k.mesesAtrasados<=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:k.mesesAtrasados===0?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Re,{className:"h-3 w-3"}),k.mesesPagadosUltimoAo," ",k.mesesPagadosUltimoAo===1?"mes":"meses"]}):k.mesesAtrasados<=2?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ne,{className:"h-3 w-3"}),k.mesesAtrasados," ",k.mesesAtrasados===1?"mes":"meses"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ne,{className:"h-3 w-3"}),k.mesesAtrasados," ",k.mesesAtrasados===1?"mes":"meses"]})}),r.jsx(wi,{className:"h-5 w-5 text-gray-400"})]})]})},k.id))})}),m&&r.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-red-800",children:m})]})]}),w&&r.jsx(e1,{socio:w,cuotas:i.filter(k=>k.usuarioId===w.id),ao:s,mesActual:t,onClose:()=>j(null),onUpdate:v}),x&&r.jsx(t1,{ao:s,onClose:()=>N(!1),onGenerate:v})]})}function e1({socio:e,cuotas:t,ao:s,mesActual:a,onClose:n,onUpdate:o}){const[i,l]=g.useState(s),[c,d]=g.useState(t),[m,h]=g.useState(!1),[x,N]=g.useState(null),[w,j]=g.useState(!1),[b,f]=g.useState(null),[u,y]=g.useState(!1),[v,S]=g.useState(null),[A,T]=g.useState(!1),[p,k]=g.useState(null),[C,_]=g.useState(new Date().toISOString().substring(0,10)),I=z=>{if(z.pagado)return!1;const W=new Date(z.ao,z.mes-1,5);return new Date>W},L=async()=>{try{const z=new Date,W=new Set(c.map(G=>`${G.ao}-${G.mes}`));for(let G=0;G<12;G++){const K=new Date(z.getFullYear(),z.getMonth()+G,1),le=K.getFullYear(),ve=K.getMonth()+1,pt=`${le}-${ve}`;W.has(pt)||(console.log(`[Auto-generar] Creando cuota para ${ve}/${le}`),await we.crearCuotaIndividual(e.id,le,ve,e.valorCuota))}}catch(z){console.error("[Auto-generar] Error generando cuotas futuras:",z)}};g.useEffect(()=>{(async()=>{try{h(!0);const W=await we.getCuotas({ao:i,socioId:e.id});if(W.success&&W.data){d(W.data.cuotas||[]);const G=new Date().getFullYear();if(i===G){await L();const K=await we.getCuotas({ao:i,socioId:e.id});K.success&&K.data&&d(K.data.cuotas||[])}}}catch(W){console.error("Error cargando cuotas:",W)}finally{h(!1)}})()},[i,e.id]);const R=async z=>{const W=H(z);W?(f(W),j(!0)):(S(z),y(!0))},U=async()=>{var z,W;if(v!==null)try{h(!0),N(null),y(!1),console.log("[SocioDetailModal] Creando cuota individual para mes:",v,"ao:",i,"socio:",e.id);const G=await we.crearCuotaIndividual(e.id,i,v,e.valorCuota);if(console.log("[SocioDetailModal] Respuesta crear cuota:",G),!G.success){N(G.error||"Error al crear cuota");return}const K=(W=(z=G.data)==null?void 0:z.cuota)==null?void 0:W.id;if(!K){N("No se pudo obtener el ID de la cuota creada");return}console.log("[SocioDetailModal] Marcando cuota como pagada:",K);const le=new Date(C).toISOString(),ve=await we.marcarCuotaPagada(K,{metodoPago:"transferencia",fechaPago:le});if(console.log("[SocioDetailModal] Respuesta marcar pagado:",ve),!ve.success){N(ve.error||"Error al marcar como pagado");return}const pt=await we.getCuotas({ao:i,socioId:e.id});pt.success&&pt.data&&d(pt.data.cuotas||[]),o()}catch(G){const K=G instanceof Error?G.message:"Error desconocido";N(`Error al crear cuota: ${K}`),console.error("[SocioDetailModal] Error excepcin:",G)}finally{h(!1),S(null)}},P=async()=>{if(b)try{if(h(!0),N(null),j(!1),console.log("[SocioDetailModal] Marcando cuota:",b),b.pagado){console.log("[SocioDetailModal] Desmarcando pago...");const z=localStorage.getItem("token"),W=await fetch(`/api/admin/cuotas/${b.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:z?`Bearer ${z}`:""},body:JSON.stringify({pagado:!1,fechaPago:null,metodoPago:null})});if(console.log("[SocioDetailModal] Respuesta desmarcar:",W.status),W.ok){const G=await we.getCuotas({ao:i,socioId:e.id});G.success&&G.data&&d(G.data.cuotas||[]),o()}else{const G=await W.text();console.error("[SocioDetailModal] Error al desmarcar:",G);try{const K=JSON.parse(G);N(K.error||"Error al desmarcar pago")}catch{N(`Error al desmarcar pago: ${G}`)}}}else{const z=new Date(C).toISOString(),W=await we.marcarCuotaPagada(b.id,{metodoPago:"transferencia",fechaPago:z});if(console.log("[SocioDetailModal] Respuesta marcar pagado:",W),W.success){const G=await we.getCuotas({ao:i,socioId:e.id});G.success&&G.data&&d(G.data.cuotas||[]),o()}else N(W.error||"Error al marcar como pagado")}}catch(z){const W=z instanceof Error?z.message:"Error desconocido";N(`Error al actualizar el pago: ${W}`),console.error("[SocioDetailModal] Error:",z)}finally{h(!1),f(null)}},V=z=>{k(z),T(!0)},$=async()=>{var z;if(p)try{h(!0),N(null),T(!1),console.log("[SocioDetailModal] Eliminando cuota:",p.id),console.log("[SocioDetailModal] Cuota completa:",p);const W=await we.eliminarCuota(p.id);if(console.log("[SocioDetailModal] Respuesta eliminar:",W),W.success){console.log("[SocioDetailModal] Cuota eliminada exitosamente, recargando...");const G=await we.getCuotas({ao:i,socioId:e.id});console.log("[SocioDetailModal] Cuotas recargadas:",G),G.success&&G.data&&(d(G.data.cuotas||[]),console.log("[SocioDetailModal] Cuotas actualizadas en modal:",(z=G.data.cuotas)==null?void 0:z.length)),console.log("[SocioDetailModal] Llamando onUpdate para recargar lista principal..."),o()}else console.error("[SocioDetailModal] Error al eliminar:",W.error),N(W.error||"Error al eliminar cuota")}catch(W){const G=W instanceof Error?W.message:"Error desconocido";N(`Error al eliminar cuota: ${G}`),console.error("[SocioDetailModal] Error excepcin:",W)}finally{h(!1),k(null)}},H=z=>c.find(W=>W.mes===z),J=z=>i===new Date().getFullYear()&&z<a,D=z=>{if(!e.fechaIngreso)return!0;const W=new Date(e.fechaIngreso),G=W.getFullYear(),K=W.getMonth()+1;return i<G?!1:i===G?z>=K:!0};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[e.fotoUrl?r.jsx("img",{src:e.fotoUrl,alt:e.nombreCompleto,className:"h-16 w-16 rounded-full object-cover"}):r.jsx("div",{className:"h-16 w-16 rounded-full bg-red-100 flex items-center justify-center",children:r.jsxs("span",{className:"text-red-600 text-xl font-semibold",children:[e.nombre.charAt(0),e.apellido.charAt(0)]})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.nombreCompleto}),r.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("select",{value:i,onChange:z=>l(Number(z.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent",children:Array.from({length:16},(z,W)=>new Date().getFullYear()-10+W).map(z=>r.jsx("option",{value:z,children:z},z))}),r.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Ye,{className:"h-6 w-6"})})]})]})}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Cuota Mensual"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",e.valorCuota.toLocaleString("es-CL")]})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Meses Pagados"}),r.jsxs("p",{className:"text-xl font-bold text-green-700",children:[c.filter(z=>z.pagado).length," / ",c.length]})]}),r.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Meses Vencidos"}),r.jsx("p",{className:"text-xl font-bold text-red-700",children:c.filter(z=>I(z)).length})]})]}),r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-3",children:[r.jsx(js,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Las cuotas se generan automticamente hasta 12 meses adelante"}),r.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Las cuotas vencen el da 5 de cada mes. Los meses vencidos aparecen en rojo."})]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:Oa.map((z,W)=>{const G=W+1,K=H(G),le=J(G)&&(!K||!K.pagado),ve=D(G);return r.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all relative group ${ve?K?K.pagado?"border-green-500 bg-green-50":le?"border-red-500 bg-red-50":"border-gray-300 bg-white":"border-blue-300 bg-blue-50":"border-gray-200 bg-gray-100 opacity-40"}`,children:[K&&!K.pagado&&r.jsx("button",{onClick:pt=>{pt.stopPropagation(),V(K)},disabled:m,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",title:"Eliminar cuota",children:r.jsx(Ye,{className:"h-3 w-3"})}),r.jsxs("button",{onClick:()=>R(G),disabled:m||!ve,className:"w-full text-left",title:ve?K?K.pagado?"Click para desmarcar como pagado":"Click para marcar como pagado":"Click para marcar como pagado (crear la cuota automticamente)":"Mes no disponible - Anterior a fecha de ingreso del socio",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:z}),ve?K?K.pagado?r.jsx(Re,{className:"h-5 w-5 text-green-600"}):le?r.jsx(Ne,{className:"h-5 w-5 text-red-600"}):r.jsx(mr,{className:"h-5 w-5 text-gray-400"}):r.jsx(mr,{className:"h-5 w-5 text-blue-500"}):r.jsx("div",{className:"h-5 w-5"})]}),K?r.jsx("div",{className:"text-xs",children:K.pagado?r.jsx("span",{className:"text-green-700",children:K.fechaPago?new Date(K.fechaPago).toLocaleDateString("es-CL"):"Pagado"}):r.jsx("span",{className:le?"text-red-700 font-medium":"text-gray-500",children:le?"Atrasado":"Pendiente"})}):ve?r.jsx("div",{className:"text-xs",children:r.jsx("span",{className:"text-blue-600",children:"Sin generar"})}):r.jsx("div",{className:"text-xs",children:r.jsx("span",{className:"text-gray-400",children:"No disponible"})})]})]},G)})}),"          ",x&&r.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-red-800",children:x})]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Tip:"})," Haz clic en cualquier mes disponible para marcar como pagado/no pagado. Los meses sin cuota se crearn automticamente al marcarlos como pagados. Los meses en gris no estn disponibles (anteriores a la fecha de ingreso del socio)."]})})]})]}),w&&b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:b.pagado?"Desmarcar Pago":"Marcar como Pagado"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b.pagado?r.jsxs(r.Fragment,{children:["Ests seguro de desmarcar como pagado el mes de ",r.jsx("strong",{children:Oa[b.mes-1]}),"?"]}):r.jsxs(r.Fragment,{children:["Deseas marcar como pagado el mes de ",r.jsx("strong",{children:Oa[b.mes-1]}),"?"]})}),!b.pagado&&r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Pago"}),r.jsx("input",{type:"date",value:C,onChange:z=>_(z.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por defecto es hoy, pero puedes cambiarla si el pago fue en otra fecha"})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{j(!1),f(null)},disabled:m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Cancelar"}),r.jsx("button",{onClick:P,disabled:m,className:`px-4 py-2 text-sm font-medium text-white rounded-lg disabled:opacity-50 flex items-center gap-2 ${b.pagado?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:m?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Procesando..."]}):r.jsx(r.Fragment,{children:b.pagado?"Desmarcar":"Marcar como Pagado"})})]})]})}),u&&v!==null&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(js,{className:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsx("div",{children:r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Crear y Marcar Cuota como Pagada"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Vas a crear la cuota de ",r.jsxs("strong",{children:[Oa[v-1]," ",i]})," y marcarla como pagada."]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-6",children:r.jsxs("p",{className:"text-xs text-yellow-800",children:[" ",r.jsx("strong",{children:"Importante:"})," Una vez creada, la cuota quedar registrada en el sistema.",new Date().getFullYear()===i&&v<new Date().getMonth()+1&&r.jsx("span",{className:"block mt-1",children:"Este mes ya pas, por lo que la cuota aparecer como atrasada si no la marcas como pagada ahora."})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Pago"}),r.jsx("input",{type:"date",value:C,onChange:z=>_(z.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por defecto es hoy, pero puedes cambiarla si el pago fue en otra fecha"})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{y(!1),S(null)},disabled:m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Cancelar"}),r.jsx("button",{onClick:U,disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg disabled:opacity-50 flex items-center gap-2",children:m?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Procesando..."]}):r.jsx(r.Fragment,{children:"Crear y Marcar como Pagada"})})]})]})}),A&&p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(js,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),r.jsx("div",{children:r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Eliminar Cuota"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Ests seguro de eliminar la cuota de ",r.jsxs("strong",{children:[Oa[p.mes-1]," ",p.ao]}),"?"]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:r.jsxs("p",{className:"text-xs text-red-800",children:[" ",r.jsx("strong",{children:"Advertencia:"})," Esta accin no se puede deshacer. Solo puedes eliminar cuotas que no estn marcadas como pagadas."]})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{T(!1),k(null)},disabled:m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Cancelar"}),r.jsx("button",{onClick:$,disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg disabled:opacity-50 flex items-center gap-2",children:m?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Eliminando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ye,{className:"h-4 w-4"}),"Eliminar Cuota"]})})]})]})})]})}function t1({ao:e,onClose:t,onGenerate:s}){const[a,n]=g.useState(!1),[o,i]=g.useState(null),l=async()=>{try{n(!0),i(null);const c=[];for(let h=1;h<=12;h++)c.push(we.generarCuotas(e,h,!1));(await Promise.all(c)).some(h=>!h.success)?i("Error al generar algunas cuotas"):(s(),t())}catch(c){i("Error al generar cuotas"),console.error(c)}finally{n(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Generar Cuotas ",e]}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Se generarn 12 cuotas mensuales para todos los socios activos. Si ya existen cuotas para algunos meses, no se duplicarn."}),o&&r.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-red-800",children:o})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Cancelar"}),r.jsx("button",{onClick:l,disabled:a,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Generando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ye,{className:"h-4 w-4"}),"Generar Cuotas"]})})]})]})})})}function r1(){const[e,t]=g.useState(null),[s,a]=g.useState(!0),[n,o]=g.useState(!1),[i,l]=g.useState(null),[c,d]=g.useState(null),[m,h]=g.useState("site"),[x,N]=g.useState({}),[w,j]=g.useState(!1),[b,f]=g.useState(!1);g.useEffect(()=>{if(!_i.isAdmin()){l("Acceso denegado. Se requieren permisos de administrador."),a(!1);return}v(),u()},[]);const u=async()=>{try{j(!0);const p=await we.getConfiguracion();if(p.success&&p.data){const k={};Object.entries(p.data).forEach(([,C])=>{k[C.clave]=C.valor}),N(k)}}catch(p){console.error("Error cargando configuracin de socios:",p)}finally{j(!1)}},y=async(p,k)=>{try{f(!0),l(null),d(null);const C=await we.updateConfiguracion(p,k);C.success?(d("Configuracin de socios guardada exitosamente"),await u(),setTimeout(()=>d(null),3e3)):l(C.error||"Error guardando configuracin de socios")}catch(C){console.error("Error guardando configuracin de socios:",C),l("Error guardando la configuracin de socios")}finally{f(!1)}},v=async()=>{try{a(!0);const p=await bt.getSystemConfig();t(p),l(null)}catch(p){console.error("Error cargando configuracin:",p),l("Error cargando la configuracin del sistema")}finally{a(!1)}},S=async()=>{if(e)try{o(!0),l(null),d(null),await bt.updateSystemConfig(e),d("Configuracin guardada exitosamente"),setTimeout(()=>d(null),3e3)}catch(p){console.error("Error guardando configuracin:",p),l("Error guardando la configuracin")}finally{o(!1)}},A=(p,k,C)=>{e&&t({...e,[p]:{...e[p],[k]:C}})},T=[{id:"site",name:"Sitio",icon:""},{id:"socios",name:"Socios",icon:""},{id:"features",name:"Funciones",icon:""},{id:"limits",name:"Lmites",icon:""},{id:"security",name:"Seguridad",icon:""}];return s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando configuracin..."})]})}):i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-red-400 mr-3",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-red-800 font-medium",children:"Error"}),r.jsx("p",{className:"text-red-600 mt-1",children:i})]})]})})}):e?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Configuracin del Sistema"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gestionar configuraciones y ajustes del sistema"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:v,className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:" Recargar"}),r.jsx("button",{onClick:S,disabled:n,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:n?" Guardando...":" Guardar Cambios"})]})]})})}),c&&r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:[" ",c]})}),i&&r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:[" ",i]})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white shadow sm:rounded-lg",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex",children:T.map(p=>r.jsxs("button",{onClick:()=>h(p.id),className:`py-4 px-6 text-sm font-medium ${m===p.id?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[p.icon," ",p.name]},p.id))})}),r.jsxs("div",{className:"p-6",children:[m==="site"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Configuracin del Sitio"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del sitio"}),r.jsx("input",{type:"text",value:e.site.name,onChange:p=>A("site","name",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tema"}),r.jsxs("select",{value:e.site.theme,onChange:p=>A("site","theme",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"light",children:"Claro"}),r.jsx("option",{value:"dark",children:"Oscuro"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin del sitio"}),r.jsx("textarea",{value:e.site.description,onChange:p=>A("site","description",p.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:e.site.maintenance_mode,onChange:p=>A("site","maintenance_mode",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Modo de mantenimiento"})]}),e.site.maintenance_mode&&r.jsx("div",{className:"mt-2",children:r.jsx("textarea",{value:e.site.maintenance_message,onChange:p=>A("site","maintenance_message",p.target.value),placeholder:"Mensaje de mantenimiento...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]})]}),m==="socios"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Configuracin de Socios"}),w?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando configuracin..."})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cuota-default-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor de cuota por defecto ($)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{id:"cuota-default-input",type:"number",min:"0",step:"100",value:x.cuota_default||6500,onChange:p=>N({...x,cuota_default:parseInt(p.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{onClick:()=>y("cuota_default",x.cuota_default||6500),disabled:b,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:b?"":" Guardar"})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Este valor se usar como cuota por defecto al crear nuevos socios"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Informacin"}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"Valor actual:"})," $",x.cuota_default||6500]}),r.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"Este valor se aplica al crear nuevos socios y generar cuotas mensuales. Puede ser modificado individualmente para cada socio."})]})]})]})]}),m==="features"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Funciones del Sistema"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Registro de usuarios"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Permitir que nuevos usuarios se registren"})]}),r.jsx("input",{type:"checkbox",checked:e.features.user_registration,onChange:p=>A("features","user_registration",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Inscripcin a eventos"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Permitir inscripciones a eventos"})]}),r.jsx("input",{type:"checkbox",checked:e.features.event_registration,onChange:p=>A("features","event_registration",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Comentarios habilitados"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Permitir comentarios en noticias y eventos"})]}),r.jsx("input",{type:"checkbox",checked:e.features.comments_enabled,onChange:p=>A("features","comments_enabled",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Noticias pblicas"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Mostrar noticias a usuarios no registrados"})]}),r.jsx("input",{type:"checkbox",checked:e.features.news_public,onChange:p=>A("features","news_public",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bsqueda habilitada"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Permitir bsqueda de contenido"})]}),r.jsx("input",{type:"checkbox",checked:e.features.search_enabled,onChange:p=>A("features","search_enabled",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notificaciones habilitadas"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Enviar notificaciones a usuarios"})]}),r.jsx("input",{type:"checkbox",checked:e.features.notifications_enabled,onChange:p=>A("features","notifications_enabled",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),m==="limits"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lmites del Sistema"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mximo eventos por pgina"}),r.jsx("input",{type:"number",min:"1",max:"100",value:e.limits.max_events_per_page,onChange:p=>A("limits","max_events_per_page",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mximo noticias por pgina"}),r.jsx("input",{type:"number",min:"1",max:"100",value:e.limits.max_news_per_page,onChange:p=>A("limits","max_news_per_page",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mximo comentarios por item"}),r.jsx("input",{type:"number",min:"1",max:"1000",value:e.limits.max_comments_per_item,onChange:p=>A("limits","max_comments_per_item",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tamao mximo de archivos (MB)"}),r.jsx("input",{type:"number",min:"1",max:"100",value:e.limits.max_file_size_mb,onChange:p=>A("limits","max_file_size_mb",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tamao mximo de imgenes (MB)"}),r.jsx("input",{type:"number",min:"1",max:"50",value:e.limits.max_image_size_mb,onChange:p=>A("limits","max_image_size_mb",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),m==="security"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Configuracin de Seguridad"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mximo intentos de login"}),r.jsx("input",{type:"number",min:"1",max:"10",value:e.security.max_login_attempts,onChange:p=>A("security","max_login_attempts",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timeout de sesin (horas)"}),r.jsx("input",{type:"number",min:"1",max:"168",value:e.security.session_timeout_hours,onChange:p=>A("security","session_timeout_hours",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitud mnima de contrasea"}),r.jsx("input",{type:"number",min:"4",max:"20",value:e.security.min_password_length,onChange:p=>A("security","min_password_length",parseInt(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:e.security.require_email_verification,onChange:p=>A("security","require_email_verification",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Requerir verificacin de email"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:e.security.allow_password_reset,onChange:p=>A("security","allow_password_reset",p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Permitir recuperacin de contrasea"})]})]})]})]})]})]})})]}):null}function s1(){var v,S,A,T;const[e,t]=g.useState(null),[s,a]=g.useState(null),[n,o]=g.useState(null),[i,l]=g.useState(!0),[c,d]=g.useState(null),[m,h]=g.useState("health"),[x,N]=g.useState(null);g.useEffect(()=>{if(!_i.isAdmin()){d("Acceso denegado. Se requieren permisos de administrador."),l(!1);return}w()},[]);const w=async()=>{try{l(!0);const[p,k,C]=await Promise.all([bt.getSystemHealth(!0),bt.getMaintenanceStatus(),bt.getSystemLogs({type:"errors",limit:20})]);t(p),a(k.maintenance),o(C.logs),d(null)}catch(p){console.error("Error cargando datos de monitoreo:",p),d("Error cargando los datos de monitoreo")}finally{l(!1)}},j=async(p,k={})=>{var C;try{N(p);const _=await bt.performMaintenance(p,k);alert(` ${p} completado: ${((C=_.result)==null?void 0:C.message)||"Operacin exitosa"}`),await w()}catch(_){console.error(`Error en ${p}:`,_),alert(` Error ejecutando ${p}`)}finally{N(null)}},b=p=>{switch(p){case"healthy":return"text-green-600 bg-green-100";case"degraded":return"text-yellow-600 bg-yellow-100";case"unhealthy":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=p=>{switch(p){case"healthy":return"";case"degraded":return"";case"unhealthy":return"";default:return""}},u=p=>new Date(p).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=[{id:"health",name:"Estado del Sistema",icon:""},{id:"maintenance",name:"Mantenimiento",icon:""},{id:"logs",name:"Logs de Error",icon:""}];return i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando monitoreo del sistema..."})]})}):c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-red-400 mr-3",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-red-800 font-medium",children:"Error"}),r.jsx("p",{className:"text-red-600 mt-1",children:c})]})]})})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Monitoreo del Sistema"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Estado y mantenimiento del sistema"})]}),r.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:" Actualizar"})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white shadow sm:rounded-lg",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex",children:y.map(p=>r.jsxs("button",{onClick:()=>h(p.id),className:`py-4 px-6 text-sm font-medium ${m===p.id?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[p.icon," ",p.name]},p.id))})}),r.jsxs("div",{className:"p-6",children:[m==="health"&&e&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Estado General del Sistema"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["ltima actualizacin: ",u(e.timestamp)]})]}),r.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(e.status)}`,children:[f(e.status)," ",e.status.toUpperCase()]})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Verificaciones del Sistema"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e.checks).map(([p,k])=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:p.replace(/_/g," ")}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(k.status)}`,children:[f(k.status)," ",k.status]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:k.message}),k.response_time&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tiempo de respuesta: ",k.response_time,"ms"]})]},p))})]}),e.stats&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Estadsticas del Sistema"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("div",{className:"text-blue-600 text-2xl font-bold",children:((v=e.stats.data)==null?void 0:v.users_count)||0}),r.jsx("div",{className:"text-sm text-blue-800",children:"Usuarios"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[r.jsx("div",{className:"text-green-600 text-2xl font-bold",children:((S=e.stats.data)==null?void 0:S.events_count)||0}),r.jsx("div",{className:"text-sm text-green-800",children:"Eventos"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[r.jsx("div",{className:"text-purple-600 text-2xl font-bold",children:((A=e.stats.data)==null?void 0:A.news_count)||0}),r.jsx("div",{className:"text-sm text-purple-800",children:"Noticias"})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[r.jsx("div",{className:"text-yellow-600 text-2xl font-bold",children:((T=e.stats.data)==null?void 0:T.comments_count)||0}),r.jsx("div",{className:"text-sm text-yellow-800",children:"Comentarios"})]})]})]})]}),m==="maintenance"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Operaciones de Mantenimiento"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Limpiar Cach"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Eliminar datos en cach del sistema"}),r.jsx("button",{onClick:()=>j("clear_cache"),disabled:x==="clear_cache",className:"w-full bg-red-600 text-white px-3 py-2 rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",children:x==="clear_cache"?" Limpiando...":"Limpiar Cach"})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Reconstruir Stats"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Recalcular estadsticas del sistema"}),r.jsx("button",{onClick:()=>j("rebuild_stats"),disabled:x==="rebuild_stats",className:"w-full bg-blue-600 text-white px-3 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:x==="rebuild_stats"?" Reconstruyendo...":"Reconstruir"})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Limpiar Logs"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Eliminar logs antiguos (30+ das)"}),r.jsx("button",{onClick:()=>j("cleanup_logs",{days:30}),disabled:x==="cleanup_logs",className:"w-full bg-yellow-600 text-white px-3 py-2 rounded-md hover:bg-yellow-700 transition-colors disabled:opacity-50",children:x==="cleanup_logs"?" Limpiando...":"Limpiar Logs"})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Crear Backup"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Respaldar datos del sistema"}),r.jsx("button",{onClick:()=>j("backup_data"),disabled:x==="backup_data",className:"w-full bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50",children:x==="backup_data"?" Creando...":"Crear Backup"})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Conexiones"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Verificar conectividad del sistema"}),r.jsx("button",{onClick:()=>j("test_connections"),disabled:x==="test_connections",className:"w-full bg-purple-600 text-white px-3 py-2 rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50",children:x==="test_connections"?" Probando...":"Probar"})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Optimizar Storage"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Optimizar almacenamiento"}),r.jsx("button",{onClick:()=>j("optimize_storage"),disabled:x==="optimize_storage",className:"w-full bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50",children:x==="optimize_storage"?" Optimizando...":"Optimizar"})]})})]})]}),s&&s.last_operations.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"ltimas Operaciones"}),r.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:r.jsx("ul",{className:"divide-y divide-gray-200",children:s.last_operations.map(p=>r.jsx("li",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:`text-sm ${p.success?"text-green-600":"text-red-600"}`,children:p.success?"":""}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:p.action})]}),r.jsx("span",{className:"text-sm text-gray-500",children:u(p.timestamp)})]})},p.id))})})]})]}),m==="logs"&&n&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Logs de Errores Recientes"}),n.errors&&n.errors.length>0?r.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:r.jsx("ul",{className:"divide-y divide-gray-200",children:n.errors.map((p,k)=>{var C;return r.jsx("li",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-red-500 text-sm font-medium",children:[" ",((C=p.level)==null?void 0:C.toUpperCase())||"ERROR"]}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:p.category||"general"})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.message}),p.details&&r.jsx("pre",{className:"mt-2 text-xs text-gray-600 bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(p.details,null,2)})]}),r.jsx("span",{className:"text-sm text-gray-500 ml-4",children:u(p.timestamp)})]})},k)})})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"No hay errores recientes"})]})]})]})]})})]})}function a1(){const[e,t]=g.useState({totalSocios:0,cuotasPendientes:0,eventosActivos:0,comunicados:0,loading:!0,error:null}),s=$e();g.useEffect(()=>{s.isAuthenticated?a():t(n=>({...n,loading:!1}))},[s.isAuthenticated]);const a=async()=>{var n,o,i,l,c,d;try{const m=s.token,h={"Content-Type":"application/json"};m&&(h.Authorization=`Bearer ${m}`);const w=((o=(n=(await(await fetch("/api/admin/socios?limit=1",{headers:h})).json()).data)==null?void 0:n.pagination)==null?void 0:o.total)||0,f=((l=(i=(await(await fetch("/api/admin/cuotas?estado=pendiente&limit=1",{headers:h})).json()).data)==null?void 0:i.pagination)==null?void 0:l.total)||0,v=((c=(await(await fetch("/api/eventos?limit=1",{headers:h})).json()).pagination)==null?void 0:c.total)||0,T=((d=(await(await fetch("/api/noticias?limit=1",{headers:h})).json()).pagination)==null?void 0:d.total)||0;t({totalSocios:w,cuotasPendientes:f,eventosActivos:v,comunicados:T,loading:!1,error:null})}catch(m){console.error("[useDashboardStats] Error loading stats:",m),t(h=>({...h,loading:!1,error:"Error al cargar estadsticas"}))}};return e}function n1(){const{totalSocios:e,cuotasPendientes:t,eventosActivos:s,comunicados:a,loading:n,error:o}=a1(),i=[{label:"Total Socios",value:n?"...":e.toString(),change:"+0%",trend:"up",icon:ct,color:"blue"},{label:"Cuotas Pendientes",value:n?"...":t.toString(),change:"-0%",trend:"down",icon:mr,color:"yellow"},{label:"Eventos Activos",value:n?"...":s.toString(),change:"+0%",trend:"up",icon:Qt,color:"green"},{label:"Comunicados Publicados",value:n?"...":a.toString(),change:"+0%",trend:"up",icon:Jo,color:"purple"}],l=[{title:"Gestin de Socios",description:"Ver y administrar todos los socios",icon:ct,link:"/panel-admin/users",color:"blue"},{title:"Gestin de Cuotas",description:"Administrar pagos y cuotas mensuales",icon:fa,link:"/panel-admin/payments",color:"green"},{title:"Gestin de Contenido",description:"Crear y editar eventos y noticias",icon:Qt,link:"/panel-admin/content",color:"purple"},{title:"Comunicados",description:"Publicar anuncios y avisos importantes",icon:Jo,link:"/panel-admin/news",color:"red"}],c=d=>{const m={blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200",icon:"text-blue-500"},yellow:{bg:"bg-yellow-50",text:"text-yellow-600",border:"border-yellow-200",icon:"text-yellow-500"},green:{bg:"bg-green-50",text:"text-green-600",border:"border-green-200",icon:"text-green-500"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200",icon:"text-purple-500"},red:{bg:"bg-red-50",text:"text-red-600",border:"border-red-200",icon:"text-red-500"}};return m[d]??m.blue};return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Administrativo"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Bienvenido al panel de administracin de ACA Chile"})]}),o&&r.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700",children:o})]})}),n&&r.jsxs("div",{className:"flex items-center justify-center py-12 mb-8",children:[r.jsx(Ue,{className:"h-8 w-8 text-red-600 animate-spin mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Cargando estadsticas..."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:i.map(d=>{const m=d.icon,h=c(d.color);return r.jsxs("div",{className:`${h.bg} border ${h.border} rounded-lg p-6`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(m,{className:`h-8 w-8 ${h.icon}`}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(ki,{className:`h-4 w-4 ${h.text} mr-1`}),r.jsx("span",{className:h.text,children:d.change})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.label}),r.jsx("p",{className:`text-2xl font-bold ${h.text}`,children:d.value})]})]},d.label)})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Accesos Rpidos"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(d=>{const m=d.icon,h=c(d.color);return r.jsx(ne,{to:d.link,className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow group",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:`${h.bg} p-3 rounded-lg mr-4`,children:r.jsx(m,{className:`h-6 w-6 ${h.icon}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-red-600 transition-colors",children:d.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.description})]})]})},d.link)})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Actividad Reciente"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start p-4 bg-gray-50 rounded-lg",children:[r.jsx(Re,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-900",children:"Sistema configurado correctamente"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hace unos momentos"})]})]}),r.jsxs("div",{className:"flex items-start p-4 bg-blue-50 rounded-lg",children:[r.jsx(Ne,{className:"h-5 w-5 text-blue-500 mr-3 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-900",children:"Comienza a gestionar tu organizacin desde el panel"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sugerencia"})]})]})]})]})]})})}const o1="modulepreload",i1=function(e){return"/"+e},Xm={},l1=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=i1(c),c in Xm)return;Xm[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":o1,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((x,N)=>{h.addEventListener("load",x),h.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function eh(){const[e,t]=g.useState("eventos"),[s,a]=g.useState(""),{eventos:n,fetchEventos:o,deleteEvento:i,isLoading:l,setFilters:c}=Fn(),d=Pe.lazy(()=>l1(()=>import("./AdminHomeEditor-C01SEOEZ.js"),[])),m=b=>{switch(b){case"inicio":return"home";case"quienes":return"about";case"contacto":return"contact";default:return null}},h=[{id:"inicio",label:"Inicio",icon:Ad},{id:"quienes",label:"Quines Somos",icon:Xb},{id:"contacto",label:"Contacto",icon:er},{id:"eventos",label:"Eventos",icon:ye},{id:"noticias",label:"Noticias Editoriales",icon:xc}];g.useEffect(()=>{e==="eventos"&&(c({status:void 0}),o(1))},[e]);const x=n.filter(b=>b.title.toLowerCase().includes(s.toLowerCase())||b.description.toLowerCase().includes(s.toLowerCase())||b.location.toLowerCase().includes(s.toLowerCase())),N=async b=>{window.confirm("Ests seguro de que quieres eliminar este evento?")&&(await i(b),o(1))},w=b=>{switch(b){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},j=b=>{switch(b){case"published":return"Publicado";case"draft":return"Borrador";case"cancelled":return"Cancelado";case"completed":return"Completado";default:return b}};return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Contenido"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Administra portada, secciones institucionales, eventos y noticias de ACA Chile"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:h.map(b=>{const f=b.icon,u=e===b.id;return r.jsx("button",{onClick:()=>t(b.id),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${u?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(f,{className:"h-5 w-5 mr-2"}),b.label]})},b.id)})})}),(()=>{const b=m(e);return b?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-2xl font-semibold",children:[e==="inicio"&&"Editor de Inicio",e==="quienes"&&"Editor de Quines Somos",e==="contacto"&&"Editor de Contacto"]}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Gestiona las secciones que se muestran pblicamente en esta pgina usando el editor modular."})]}),r.jsx("div",{children:r.jsx(Pe.Suspense,{fallback:r.jsx("div",{children:"Cargando editor..."}),children:r.jsx(d,{initialPage:b},b)})})]}):null})(),e==="eventos"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar eventos...",value:s,onChange:b=>a(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs(ne,{to:"/eventos/crear",className:"ml-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[r.jsx(or,{className:"h-5 w-5 mr-2"}),"Crear Evento"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:l?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Cargando eventos..."})]}):x.length===0?r.jsxs("div",{className:"p-6 text-center py-12",children:[r.jsx(ye,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s?"No se encontraron eventos":"No hay eventos creados"}),r.jsx("p",{className:"text-gray-600 mb-6",children:s?"Intenta con otros trminos de bsqueda":"Comienza creando tu primer evento para la comunidad"}),!s&&r.jsxs(ne,{to:"/eventos/crear",className:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(or,{className:"h-5 w-5 mr-2"}),"Crear Primer Evento"]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Evento"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ubicacin"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscripciones"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(b=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:b.image?r.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:b.image,alt:b.title}):r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:r.jsx(ye,{className:"h-6 w-6 text-gray-400"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.title}),r.jsx("div",{className:"text-sm text-gray-500",children:b.type})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:new Date(b.date).toLocaleDateString("es-ES")}),r.jsx("div",{className:"text-sm text-gray-500",children:b.time})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.location}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(b.status)}`,children:j(b.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ct,{className:"h-4 w-4 mr-1 text-gray-400"}),b.currentParticipants||0,b.maxParticipants&&r.jsxs("span",{className:"text-gray-500",children:["/",b.maxParticipants]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(ne,{to:`/eventos/${b.id}`,className:"text-blue-600 hover:text-blue-900 p-1",title:"Ver evento",children:r.jsx(ot,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>N(b.id),className:"text-red-600 hover:text-red-900 p-1",title:"Eliminar evento",children:r.jsx(Td,{className:"h-4 w-4"})})]})})]},b.id))})]})})})]}),e==="noticias"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar noticias...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("button",{className:"ml-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[r.jsx(or,{className:"h-5 w-5 mr-2"}),"Crear Noticia"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xc,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay noticias publicadas"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Crea noticias editoriales para mantener informada a la comunidad"}),r.jsxs("button",{className:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(or,{className:"h-5 w-5 mr-2"}),"Crear Primera Noticia"]})]})})]})]})})}function c1(){return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Comunicados"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Publica anuncios y avisos importantes para los socios"})]}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar comunicados...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),r.jsxs("button",{className:"ml-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[r.jsx(or,{className:"h-5 w-5 mr-2"}),"Nuevo Comunicado"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx(Jo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx(Sn,{className:"h-6 w-6 text-red-500 absolute -top-1 -right-1 animate-bounce"})]}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay comunicados publicados"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Crea comunicados para mantener informados a todos los socios"}),r.jsxs("button",{className:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(or,{className:"h-5 w-5 mr-2"}),"Crear Primer Comunicado"]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:" Tip"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Los comunicados se envan automticamente por email a todos los socios activos"})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:" Notificaciones"}),r.jsx("p",{className:"text-sm text-green-700",children:"Los socios recibirn una notificacin push si tienen la app instalada"})]}),r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:" Programar"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Puedes programar comunicados para que se publiquen automticamente"})]})]})]})})}const d1=[{value:"pendiente",label:"Pendientes"},{value:"en_revision",label:"En revisin"},{value:"aprobada",label:"Aprobadas"},{value:"rechazada",label:"Rechazadas"},{value:"todos",label:"Todas"}],u1=e=>{switch(e){case"pendiente":return"bg-yellow-100 text-yellow-800";case"en_revision":return"bg-blue-100 text-blue-800";case"aprobada":return"bg-green-100 text-green-700";case"rechazada":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},m1=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}catch{return e}},h1=()=>{const{isDirector:e,isDirectorEditor:t,isAdmin:s,user:a}=$e(),n=e()||t()||s(),[o,i]=g.useState([]),[l,c]=g.useState("pendiente"),[d,m]=g.useState(""),[h,x]=g.useState(""),[N,w]=g.useState(1),[j,b]=g.useState(null),[f,u]=g.useState(!1),[y,v]=g.useState(null),[S,A]=g.useState(null),T=g.useCallback(async({overridePage:P,overrideSearch:V}={})=>{if(n)try{u(!0),v(null);const $=await No.getAdminPostulantes({status:l==="todos"?void 0:l,search:V??(h||void 0),page:P??N,limit:20});$.success?(i($.data??[]),b($.pagination??null)):v($.error||"Error al cargar postulaciones")}catch($){console.error("Error al cargar postulaciones:",$),v("Error al cargar postulaciones")}finally{u(!1)}},[n,l,h,N]);g.useEffect(()=>{n&&T()},[n,T]);const p=P=>{var V;return((V=P.approvals)==null?void 0:V.some($=>$.approverId===(a==null?void 0:a.id)))??!1},k=async P=>{const V=window.prompt("Comentario para registrar junto a tu aprobacin (opcional)");A(P.id);try{const $=await No.approvePostulante(P.id,V||void 0);$.success&&$.data?(i(H=>H.map(J=>J.id===$.data.postulacion.id?$.data.postulacion:J)),$.data.generatedPassword&&window.alert(`Postulacin aprobada. Contrasea temporal: ${$.data.generatedPassword}`)):$.error&&v($.error)}catch($){console.error("Error aprobando postulacion:",$),v("No pudimos registrar la aprobacin")}finally{A(null)}},C=async P=>{const V=window.prompt("Indica el motivo del rechazo de esta postulacin");if(V){A(P.id);try{const $=await No.rejectPostulante(P.id,V);$.success&&$.data?i(H=>H.map(J=>J.id===$.data.id?$.data:J)):$.error&&v($.error)}catch($){console.error("Error rechazando postulacion:",$),v("No pudimos rechazar la postulacin")}finally{A(null)}}},_=P=>{P.preventDefault(),w(1),x(d.trim()),T({overridePage:1,overrideSearch:d.trim()})},I=P=>{c(P),w(1),T({overridePage:1})},L=()=>{c("pendiente"),x(""),m(""),w(1),T({overridePage:1,overrideSearch:""})},R=P=>{if(!j)return;const V=P==="prev"?N-1:N+1;V<1||V>(j.totalPages||V)||(w(V),T({overridePage:V}))},U=()=>{T()};return n?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Postulaciones a ACA Chile"}),r.jsx("p",{className:"text-gray-600",children:"Revisa, aprueba o rechaza las postulaciones pendientes."})]}),r.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:r.jsxs("button",{onClick:U,className:"inline-flex items-center px-4 py-2 rounded-lg border border-gray-300 bg-white shadow-sm hover:bg-gray-100 transition-colors"+(f?" opacity-70 cursor-not-allowed":""),disabled:f,children:[r.jsx(Op,{className:"h-5 w-5 mr-2"+(f?" animate-spin":"")}),"Recargar lista"]})})]}),y&&r.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700",children:y}),r.jsx("button",{onClick:()=>v(null),className:"ml-auto text-red-400 hover:text-red-600",children:r.jsx(Ye,{className:"h-4 w-4"})})]})}),r.jsx("form",{onSubmit:_,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-5",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar postulaciones"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",value:d,onChange:P=>m(P.target.value),placeholder:"Buscar por nombre, email o ciudad",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),r.jsx("select",{value:l,onChange:P=>I(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:d1.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Aplicar filtros"}),r.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpiar"})]})]})}),f?r.jsxs("div",{className:"py-16 flex flex-col items-center justify-center text-gray-500",children:[r.jsx(Ue,{className:"h-10 w-10 animate-spin text-red-500 mb-4"}),r.jsx("p",{children:"Cargando postulaciones..."})]}):o.length===0?r.jsxs("div",{className:"py-16 flex flex-col items-center justify-center text-gray-500",children:[r.jsx(Si,{className:"h-12 w-12 text-gray-400 mb-2"}),r.jsx("p",{children:"No se encontraron postulaciones para los filtros seleccionados."})]}):r.jsx("div",{className:"space-y-4",children:o.map(P=>{const V=p(P),$=S===P.id,H=P.status==="aprobada"||P.status==="rechazada",J=Math.max(0,(P.approvalsRequired??2)-(P.approvalsCount??0));return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-5 space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[P.photoUrl?r.jsx("img",{src:P.photoUrl,alt:`Foto de ${P.fullName}`,className:"h-16 w-16 rounded-xl object-cover border border-gray-200 shadow-sm"}):r.jsx("div",{className:"h-16 w-16 rounded-xl bg-gray-100 border border-gray-200 flex items-center justify-center text-gray-400 text-sm uppercase",children:P.fullName.slice(0,2)}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.fullName}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(er,{className:"h-4 w-4 text-gray-400"})," ",P.email]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Mn,{className:"h-4 w-4 text-gray-400"})," ",P.phone||"Sin telfono"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(it,{className:"h-4 w-4 text-gray-400"})," ",P.region||"Regin no indicada"]})]}),P.photoUrl&&r.jsx("button",{type:"button",onClick:()=>window.open(P.photoUrl,"_blank"),className:"inline-flex items-center text-xs text-primary-600 hover:text-primary-700",children:"Ver foto en tamao completo"})]})]}),r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${u1(P.status)}`,children:P.status==="en_revision"?"En revisin":P.status==="aprobada"?"Aprobada":P.status==="rechazada"?"Rechazada":"Pendiente"}),(P.status==="pendiente"||P.status==="en_revision")&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Faltan ",J," aprobacin",J===1?"":"es"]}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Enviada el ",m1(P.createdAt)]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:"Motivacin"}),r.jsx("p",{className:"mt-1 bg-gray-50 border border-gray-100 rounded-lg p-3 whitespace-pre-line",children:P.motivation})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:"Cmo puede aportar"}),r.jsx("p",{className:"mt-1 bg-gray-50 border border-gray-100 rounded-lg p-3 whitespace-pre-line",children:P.contribution})]}),P.references&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:"Referencias"}),r.jsx("p",{className:"mt-1 bg-gray-50 border border-gray-100 rounded-lg p-3 whitespace-pre-line",children:P.references})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500",children:[(P.availability||[]).map(D=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-50 text-blue-600 border border-blue-100",children:[r.jsx(gc,{className:"h-3 w-3"})," ",D.replace(/_/g," ")]},D)),(P.approvals||[]).map(D=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 text-green-600 border border-green-100",children:[r.jsx(gc,{className:"h-3 w-3"})," ",D.approverName||"Miembro directorio"]},D.id))]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[r.jsxs("button",{type:"button",disabled:$||V||H,onClick:()=>k(P),className:`inline-flex items-center px-4 py-2 rounded-lg border ${$||V||H?"border-green-200 text-green-300 cursor-not-allowed":"border-green-500 text-green-600 hover:bg-green-50"}`,children:[r.jsx(Re,{className:"h-4 w-4 mr-1"})," Aprobar"]}),r.jsxs("button",{type:"button",disabled:$||H,onClick:()=>C(P),className:`inline-flex items-center px-4 py-2 rounded-lg border ${$||H?"border-red-200 text-red-300 cursor-not-allowed":"border-red-500 text-red-600 hover:bg-red-50"}`,children:[r.jsx(dr,{className:"h-4 w-4 mr-1"})," Rechazar"]})]})]},P.id)})}),j&&j.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between pt-2 text-sm text-gray-500",children:[r.jsxs("div",{children:["Pgina ",j.page," de ",j.totalPages]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>R("prev"),disabled:N<=1,className:"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50",children:"Anterior"}),r.jsx("button",{type:"button",onClick:()=>R("next"),disabled:j.hasNext===!1||N>=(j.totalPages||N),className:"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50",children:"Siguiente"})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm px-8 py-10 text-center text-gray-500 max-w-md",children:[r.jsx(Ko,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Acceso restringido"}),r.jsx("p",{className:"mt-2",children:"Solo los miembros del directorio pueden revisar postulaciones."})]})})},f1=24*60*60*1e3,Ms="acachile_image_";function p1(){const{user:e}=$e(),[t,s]=g.useState(!1),[a,n]=g.useState(null),[o,i]=g.useState(null),[l,c]=g.useState([]),[d,m]=g.useState({});g.useEffect(()=>{h()},[e==null?void 0:e.id]);const h=()=>{if(e!=null&&e.id)try{u();const S=N(`avatar_${e.id}`);S&&i(S);const A=w("home_images");c(A);const T=j();m(T)}catch(S){console.error("Error inicializando cache de imgenes:",S),n("Error cargando imgenes desde cache")}},x=(S,A,T)=>{try{const p={url:A,filename:T,uploadedAt:new Date().toISOString(),expiresAt:new Date(Date.now()+f1).toISOString()},k=`${Ms}${S}`;localStorage.setItem(k,JSON.stringify(p)),S.includes("avatar")&&(e!=null&&e.id)?(i(A),e&&(e.avatar=A)):S.includes("home")&&c(C=>[...C,A]),console.log(" Imagen guardada en cache:",{key:S,url:A,filename:T})}catch(p){console.error(" Error guardando imagen en cache:",p),n("Error guardando imagen en cache")}},N=S=>{try{const A=`${Ms}${S}`,T=localStorage.getItem(A);if(!T)return null;const p=JSON.parse(T),k=new Date,C=new Date(p.expiresAt);return k>C?(localStorage.removeItem(A),null):p.url}catch(A){return console.error("Error leyendo cache de imagen:",A),null}},w=S=>{try{const A=[],T=`${Ms}${S}`;for(let p=0;p<localStorage.length;p++){const k=localStorage.key(p);if(k&&k.startsWith(T)){const C=N(k.replace(Ms,""));C&&A.push(C)}}return A}catch(A){return console.error("Error obteniendo URLs del cache:",A),[]}},j=()=>{try{const S={},A=`${Ms}event_`;for(let T=0;T<localStorage.length;T++){const p=localStorage.key(T);if(p&&p.startsWith(A)){const k=p.replace(A,""),C=N(`event_${k}`);C&&(S[k]=C)}}return S}catch(S){return console.error("Error obteniendo imgenes de eventos:",S),{}}},b=(S,A)=>{const T=localStorage.getItem(S);if(!T)return!1;try{const p=JSON.parse(T),k=new Date(p.expiresAt);return A>k}catch{return!0}},f=S=>{const A=[];for(let T=0;T<localStorage.length;T++){const p=localStorage.key(T);p&&p.startsWith(Ms)&&b(p,S)&&A.push(p)}return A},u=()=>{try{const A=f(new Date);A.forEach(T=>localStorage.removeItem(T)),A.length>0&&console.log(` Limpieza de cache: ${A.length} imgenes expiradas eliminadas`)}catch(S){console.error("Error limpiando cache expirado:",S)}};return{isLoading:t,error:a,avatarUrl:o,homeImages:l,eventImages:d,cacheImageUrl:x,getCachedImageUrl:N,clearExpiredCache:u,validateImageExists:async S=>{try{return s(!0),(await fetch(S,{method:"HEAD"})).ok}catch(A){return console.error("Error validando existencia de imagen:",A),!1}finally{s(!1)}},refreshImageCache:()=>{s(!0),n(null);try{u(),h(),console.log(" Cache de imgenes refrescado")}catch(S){console.error("Error refrescando cache:",S),n("Error refrescando cache de imgenes")}finally{s(!1)}}}}function x1(){const{user:e}=$e(),{cacheImageUrl:t,getCachedImageUrl:s,isLoading:a,error:n}=p1(),o=(l,c)=>{e!=null&&e.id&&t(`avatar_${e.id}`,l,c)};return{avatarUrl:e!=null&&e.id&&(s(`avatar_${e.id}`)||e.avatar)||null,updateAvatar:o,isLoading:a,error:n}}class g1{constructor(){dt(this,"authContext")}setAuthContext(t){this.authContext=t}getAuthToken(){return typeof window>"u"?null:window.localStorage.getItem("auth_token")||window.localStorage.getItem("authToken")||window.localStorage.getItem("token")||null}mapAppUserToProfile(t){return{id:t.id.toString(),firstName:t.firstName||"",lastName:t.lastName||"",email:t.email,phone:t.phone||void 0,rut:t.rut||void 0,ciudad:t.ciudad||void 0,direccion:t.direccion||void 0,avatar:t.avatar||void 0,region:typeof t.region=="string"?t.region:void 0,fechaIngreso:t.createdAt||void 0,acaMembership:{yearsActive:2,membershipNumber:`ACA-${t.id.toString().slice(-4)}`,status:"active"}}}async getProfile(){var t;try{if((t=this.authContext)!=null&&t.user){await new Promise(n=>setTimeout(n,300)),console.log(" UserService: AuthContext user data:",this.authContext.user);const a=this.mapAppUserToProfile(this.authContext.user);return console.log(" UserService: Mapped profile:",a),{success:!0,data:a}}return await new Promise(a=>setTimeout(a,300)),{success:!0,data:{id:"1",firstName:"Juan",lastName:"Prez",email:"juan.perez@email.com",phone:"+56912345678",direccion:"Las Condes, Santiago",region:"Regin Metropolitana",avatar:"/avatars/juan.jpg",fechaIngreso:"2020-03-15",acaMembership:{yearsActive:4,membershipNumber:"ACA-2020-001",status:"active"}}}}catch(s){return console.error("Error getting profile:",s),{success:!1,error:"Error obteniendo perfil de usuario"}}}validateProfileData(t){return!t.firstName||!t.lastName?{valid:!1,error:"Nombre y apellido son obligatorios"}:t.email&&!this.isValidEmail(t.email)?{valid:!1,error:"Email no es vlido"}:{valid:!0}}buildUserUpdates(t){const s={};return t.firstName&&(s.firstName=t.firstName),t.lastName&&(s.lastName=t.lastName),t.email&&(s.email=t.email),t.phone!==void 0&&(s.phone=t.phone),t.rut!==void 0&&(s.rut=t.rut),t.ciudad!==void 0&&(s.ciudad=t.ciudad),t.direccion!==void 0&&(s.direccion=t.direccion),t.avatar!==void 0&&(s.avatar=t.avatar),t.region!==void 0&&(s.region=t.region),s}updateFullName(t,s){var a,n,o,i;if(s.firstName||s.lastName){const l=s.firstName||((n=(a=this.authContext)==null?void 0:a.user)==null?void 0:n.firstName)||"",c=s.lastName||((i=(o=this.authContext)==null?void 0:o.user)==null?void 0:i.lastName)||"";t.name=`${l} ${c}`.trim()}}async updateProfileWithAuthContext(t){var s;if(!((s=this.authContext)!=null&&s.user)||!this.authContext.updateUser)return{success:!1,error:"No hay contexto de autenticacin"};try{const a=this.getAuthToken();if(!a)return{success:!1,error:"No hay token de autenticacin"};const n=await fetch("/api/auth/me",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({nombre:t.firstName,apellido:t.lastName,telefono:t.phone||null,rut:t.rut||null,ciudad:t.ciudad||null,direccion:t.direccion||null})});if(!n.ok)return{success:!1,error:(await n.json()).error||"Error actualizando perfil en el servidor"};const o=await n.json();if(o.data){const d=o.data,m={firstName:d.nombre,lastName:d.apellido,phone:d.telefono,rut:d.rut,ciudad:d.ciudad,direccion:d.direccion};(m.firstName||m.lastName)&&(m.name=[m.firstName,m.lastName].filter(Boolean).join(" ").trim()),console.log(" UserService: Updating AuthContext with backend data:",m),this.authContext.updateUser(m);const h={...this.authContext.user,...m};return{success:!0,data:this.mapAppUserToProfile(h),message:o.message||"Perfil actualizado exitosamente"}}const i=this.buildUserUpdates(t);this.updateFullName(i,t),this.authContext.updateUser(i);const l={...this.authContext.user,...i};return{success:!0,data:this.mapAppUserToProfile(l),message:o.message||"Perfil actualizado exitosamente"}}catch(a){return console.error("Error calling API:",a),{success:!1,error:"Error de conexin con el servidor"}}}createMockProfile(t){return{id:"1",firstName:t.firstName||"Juan",lastName:t.lastName||"Prez",email:t.email||"juan.perez@email.com",phone:t.phone||void 0,direccion:t.direccion||void 0,avatar:t.avatar,region:t.region||"Regin Metropolitana",fechaIngreso:"2020-03-15",acaMembership:{yearsActive:4,membershipNumber:"ACA-2020-001",status:"active"}}}async updateProfile(t){var s;try{const a=this.validateProfileData(t);return a.valid?(s=this.authContext)!=null&&s.user?await this.updateProfileWithAuthContext(t):{success:!0,data:this.createMockProfile(t),message:"Perfil actualizado exitosamente"}:{success:!1,error:a.error}}catch(a){return console.error("Error updating profile:",a),{success:!1,error:"Error actualizando perfil"}}}async getPrivacyPreferences(){try{const t=this.getAuthToken();if(!t)return{success:!1,error:"No hay token de autenticacin"};const s=await fetch("/api/auth/privacy",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),a=await s.json();if(!s.ok)return{success:!1,error:(a==null?void 0:a.error)||"Error obteniendo preferencias de privacidad"};const n=a.data;return{success:!0,data:{showEmail:!!(n!=null&&n.showEmail),showPhone:!!(n!=null&&n.showPhone),showRut:!!(n!=null&&n.showRut),showAddress:!!(n!=null&&n.showAddress),showBirthdate:!!(n!=null&&n.showBirthdate),showPublicProfile:(n==null?void 0:n.showPublicProfile)!==!1}}}catch(t){return console.error("Error getting privacy preferences:",t),{success:!1,error:"Error obteniendo preferencias de privacidad"}}}async updatePrivacyPreferences(t){try{const s=this.getAuthToken();if(!s)return{success:!1,error:"No hay token de autenticacin"};const a=await fetch("/api/auth/privacy",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(t)}),n=await a.json();if(!a.ok)return{success:!1,error:(n==null?void 0:n.error)||"Error guardando preferencias de privacidad"};const o=n.data;return{success:!0,data:{showEmail:!!(o!=null&&o.showEmail),showPhone:!!(o!=null&&o.showPhone),showRut:!!(o!=null&&o.showRut),showAddress:!!(o!=null&&o.showAddress),showBirthdate:!!(o!=null&&o.showBirthdate),showPublicProfile:(o==null?void 0:o.showPublicProfile)!==!1},message:(n==null?void 0:n.message)||"Preferencias de privacidad actualizadas"}}catch(s){return console.error("Error updating privacy preferences:",s),{success:!1,error:"Error guardando preferencias de privacidad"}}}async uploadAvatar(t){var s;try{if(console.warn(" userService.uploadAvatar is deprecated. Use imageService.uploadAvatar instead."),!t.type.startsWith("image/"))return{success:!1,error:"Solo se permiten archivos de imagen"};if(t.size>5*1024*1024)return{success:!1,error:"El archivo no puede ser mayor a 5MB"};const a=URL.createObjectURL(t);return console.warn(" Esta imagen es temporal y se perder al refrescar la pgina. Use imageService para persistencia en R2."),(s=this.authContext)!=null&&s.user&&this.authContext.updateUser&&this.authContext.updateUser({avatar:a}),{success:!0,data:{avatarUrl:a},message:"Avatar subido exitosamente (temporal)"}}catch(a){return console.error("Error uploading avatar:",a),{success:!1,error:"Error subiendo imagen"}}}async changePassword(t,s){try{if(s.length<6)return{success:!1,error:"La nueva contrasea debe tener al menos 6 caracteres"};const a=this.getAuthToken();if(!a)return{success:!1,error:"No hay token de autenticacin"};const n=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({currentPassword:t,newPassword:s,confirmPassword:s})}),o=await n.json().catch(()=>null);return n.ok?{success:!0,message:(o==null?void 0:o.message)||"Contrasea cambiada exitosamente"}:{success:!1,error:(o==null?void 0:o.error)||(o==null?void 0:o.message)||"Error cambiando contrasea"}}catch(a){return console.error("Error changing password:",a),{success:!1,error:"Error cambiando contrasea"}}}async getNotificationPreferences(){var t;try{return await new Promise(a=>setTimeout(a,300)),(t=this.authContext)!=null&&t.user?{success:!0,data:{noticiasImportantes:!0,noticiasCorrientes:!1,comunicadosUrgentes:!0,medios:{email:!0,whatsapp:!0,sms:!1}}}:{success:!1,error:"Usuario no autenticado"}}catch(s){return console.error("Error getting notification preferences:",s),{success:!1,error:"Error obteniendo preferencias"}}}async updateNotificationPreferences(t){var s;try{return await new Promise(a=>setTimeout(a,500)),(s=this.authContext)!=null&&s.user?(console.log("Actualizando preferencias de notificacin:",t),{success:!0,message:"Preferencias de notificacin actualizadas"}):{success:!1,error:"Usuario no autenticado"}}catch(a){return console.error("Error updating notification preferences:",a),{success:!1,error:"Error actualizando preferencias"}}}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}}const th=new g1,mx=()=>{const{user:e,updateUser:t}=$e();return g.useEffect(()=>{e&&th.setAuthContext({user:e,updateUser:t})},[e,t]),th},y1=e=>{const t=e.replace(/[.\-\s]/g,"");if(!t)return"";const s=t.slice(0,-1),a=t.slice(-1).toUpperCase();return`${s.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${a}`},za=e=>e&&e.trim()!==""?e.trim():null,rh=()=>{var _,I;const{user:e,updateUser:t}=$e(),s=mx(),a=cx(),{updateAvatar:n,avatarUrl:o}=x1(),[i,l]=g.useState(!1),[c,d]=g.useState(!1),[m,h]=g.useState(!1),[x,N]=g.useState(null),[w,j]=g.useState(null),[b,f]=g.useState({firstName:"",lastName:"",email:"",phone:"",direccion:"",avatar:"",region:"",rut:"",ciudad:""});g.useEffect(()=>{u()},[]),g.useEffect(()=>{e&&(console.log(" ProfileModule: User data changed, reloading profile"),u())},[e]);const u=async()=>{try{d(!0),j(null),console.log(" ProfileModule: Loading profile from userService");const L=await s.getProfile();if(console.log(" ProfileModule: Profile response:",L),L.success&&L.data){N(L.data);const R=o||L.data.avatar||"";f({firstName:L.data.firstName,lastName:L.data.lastName,email:L.data.email,phone:L.data.phone||"",direccion:L.data.direccion||"",avatar:R,region:L.data.region||"",rut:L.data.rut||"",ciudad:L.data.ciudad||""}),console.log(" ProfileModule: Profile loaded successfully",L.data)}else j({type:"error",text:L.error||"Error cargando perfil"}),console.error(" ProfileModule: Error loading profile:",L.error)}catch(L){console.error(" ProfileModule: Exception loading profile:",L),j({type:"error",text:"Error cargando perfil de usuario"})}finally{d(!1)}},y=async()=>{h(!0),j(null);try{const L={...b,phone:za(b.phone),rut:za(b.rut),ciudad:za(b.ciudad),direccion:za(b.direccion),region:za(b.region)};console.log(" ProfileModule: Saving profile data:",L);const R=await s.updateProfile(L);console.log(" ProfileModule: Update response:",R),R.success&&R.data?(N(R.data),j({type:"success",text:R.message||"Perfil actualizado exitosamente"}),l(!1),console.log(" ProfileModule: Profile updated successfully"),setTimeout(()=>{u()},100)):(j({type:"error",text:R.error||"Error actualizando perfil"}),console.error(" ProfileModule: Error updating profile:",R.error))}catch(L){j({type:"error",text:"Error actualizando perfil"}),console.error(" ProfileModule: Exception updating profile:",L)}finally{h(!1)}},v=()=>{x&&f({firstName:x.firstName,lastName:x.lastName,email:x.email,phone:x.phone||"",direccion:x.direccion||"",avatar:x.avatar||"",region:x.region||"",rut:x.rut||"",ciudad:x.ciudad||""}),l(!1),j(null)},A=(()=>{if(!(x!=null&&x.fechaIngreso))return"0 meses";const L=new Date(x.fechaIngreso),R=new Date;let U=R.getFullYear()-L.getFullYear(),P=R.getMonth()-L.getMonth();return P<0&&(U--,P+=12),U===0&&P===0?"Menos de 1 mes":U===0?`${P} ${P===1?"mes":"meses"}`:P===0?`${U} ${U===1?"ao":"aos"}`:`${U} ${U===1?"ao":"aos"} y ${P} ${P===1?"mes":"meses"}`})(),T=x!=null&&x.fechaIngreso?new Date(x.fechaIngreso):new Date,p=o||b.avatar||(x==null?void 0:x.avatar)||"",k=L=>{const U=L.target.value.replace(/[^0-9kK.\-]/g,""),P=y1(U);f({...b,rut:P})},C=async L=>{var U;const R=(U=L.target.files)==null?void 0:U[0];if(R){d(!0),j(null);try{console.log(" Subiendo avatar a Cloudflare R2...");const P=await a.uploadAvatar(R);if(P.success&&P.data){const V=P.data.publicUrl,$=P.data.filename;f({...b,avatar:V}),n(V,$),x&&N({...x,avatar:V}),t({avatar:V}),console.log(" Avatar actualizado en AuthContext:",{avatarUrl:V}),j({type:"success",text:"Avatar actualizado en toda la aplicacin"}),console.log(" Avatar persistido en R2 y cache:",{avatarUrl:V,filename:$}),setTimeout(()=>{u()},100)}else j({type:"error",text:P.error||"Error subiendo imagen a R2"})}catch(P){console.error(" Error subiendo avatar:",P),j({type:"error",text:"Error subiendo imagen. Intntalo nuevamente."})}finally{d(!1)}}};return c&&!x?r.jsx("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ue,{className:"w-6 h-6 text-primary-600 animate-spin"}),r.jsx("span",{className:"text-neutral-600",children:"Cargando perfil..."})]})})}):r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-700",children:"Mi Perfil"}),r.jsx("button",{onClick:()=>i?y():l(!0),disabled:m,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:i?m?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Guardando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(aa,{className:"w-4 h-4"}),r.jsx("span",{children:"Guardar"})]}):r.jsxs(r.Fragment,{children:[r.jsx(kb,{className:"w-4 h-4"}),r.jsx("span",{children:"Editar"})]})})]}),w&&r.jsx("div",{className:`mb-6 p-4 rounded-xl border ${w.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[w.type==="success"?r.jsx(Re,{className:"w-5 h-5"}):r.jsx(Ne,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:w.text})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-6 sm:space-y-0 sm:space-x-8 mb-8",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"rounded-full bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-lg overflow-hidden",style:{width:"128px",height:"128px",minWidth:"128px",minHeight:"128px",maxWidth:"128px",maxHeight:"128px"},children:p?r.jsx("div",{style:{width:"128px",height:"128px",borderRadius:"50%",overflow:"hidden",position:"relative",backgroundColor:"#f3f4f6"},children:r.jsx("img",{src:p,alt:"Foto de perfil",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center top",display:"block"},onError:L=>{console.warn(" Error cargando avatar:",p);const R=L.target;R.style.display="none"}})}):r.jsx("div",{style:{width:"128px",height:"128px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("span",{className:"text-white font-bold text-4xl",children:((I=(_=e==null?void 0:e.name)==null?void 0:_.charAt(0))==null?void 0:I.toUpperCase())||"U"})})}),i&&r.jsxs("label",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white rounded-full shadow-soft-sm flex items-center justify-center cursor-pointer hover:shadow-soft-md transition-shadow",children:[r.jsx(wv,{className:"w-4 h-4 text-primary-600"}),r.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-neutral-700",children:e==null?void 0:e.name}),r.jsxs("p",{className:"text-sm text-neutral-500",children:["Miembro desde ",T.getFullYear()]}),r.jsx("div",{className:"mt-2 px-3 py-1 bg-gradient-to-r from-green-100 to-green-50 border border-green-200 rounded-full",children:r.jsxs("span",{className:"text-sm font-medium text-green-700",children:[A," en ACA"]})})]})]}),r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Nombre"}),r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"text",value:b.firstName,onChange:L=>f({...b,firstName:L.target.value}),disabled:!i,className:`w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs text-neutral-700 placeholder-neutral-500 transition-all duration-300 ${i?"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm":"cursor-not-allowed opacity-75"}`,placeholder:"Tu nombre"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Apellido"}),r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"text",value:b.lastName,onChange:L=>f({...b,lastName:L.target.value}),disabled:!i,className:`w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs text-neutral-700 placeholder-neutral-500 transition-all duration-300 ${i?"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm":"cursor-not-allowed opacity-75"}`,placeholder:"Tu apellido"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Correo Electrnico"}),r.jsxs("div",{className:"relative",children:[r.jsx(er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"email",value:b.email,onChange:L=>f({...b,email:L.target.value}),disabled:!i,className:`w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs text-neutral-700 placeholder-neutral-500 transition-all duration-300 ${i?"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm":"cursor-not-allowed opacity-75"}`,placeholder:"tu@email.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Telfono"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"tel",value:b.phone,onChange:L=>f({...b,phone:L.target.value}),disabled:!i,className:`w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs text-neutral-700 placeholder-neutral-500 transition-all duration-300 ${i?"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm":"cursor-not-allowed opacity-75"}`,placeholder:"+56 9 1234 5678"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"RUT"}),r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"text",value:b.rut,onChange:k,disabled:!i,className:`w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs text-neutral-700 placeholder-neutral-500 transition-all duration-300 ${i?"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm":"cursor-not-allowed opacity-75"}`,placeholder:"12.345.678-9"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Ciudad"}),r.jsxs("div",{className:"relative",children:[r.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"text",value:b.ciudad,onChange:L=>f({...b,ciudad:L.target.value}),disabled:!i,className:`w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs text-neutral-700 placeholder-neutral-500 transition-all duration-300 ${i?"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm":"cursor-not-allowed opacity-75"}`,placeholder:"Santiago, Valparaso, etc."})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Direccin"}),r.jsxs("div",{className:"relative",children:[r.jsx(it,{className:"absolute left-3 top-3 w-5 h-5 text-neutral-400"}),r.jsx("textarea",{value:b.direccion,onChange:L=>f({...b,direccion:L.target.value}),disabled:!i,rows:3,className:`w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs text-neutral-700 placeholder-neutral-500 transition-all duration-300 resize-none ${i?"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm":"cursor-not-allowed opacity-75"}`,placeholder:"Tu direccin completa"})]})]}),i&&r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105",children:[r.jsx(aa,{className:"w-4 h-4"}),r.jsx("span",{children:"Guardar Cambios"})]}),r.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-6 py-3 bg-white/60 backdrop-blur-medium border border-white/30 text-neutral-700 rounded-xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 hover:scale-105",children:[r.jsx(Ye,{className:"w-4 h-4"}),r.jsx("span",{children:"Cancelar"})]})]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 pt-6 border-t border-neutral-200/50",children:[r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-blue-25 border border-blue-200/50 rounded-xl",children:[r.jsx(ye,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Fecha de Ingreso"}),r.jsx("p",{className:"text-lg font-bold text-blue-800",children:T.toLocaleDateString("es-CL")})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-green-25 border border-green-200/50 rounded-xl",children:[r.jsx(ir,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-green-700",children:"Estado"}),r.jsx("p",{className:"text-lg font-bold text-green-800",children:"Activo"})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-purple-25 border border-purple-200/50 rounded-xl",children:[r.jsx(it,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Regin"}),r.jsx("p",{className:"text-lg font-bold text-purple-800",children:(e==null?void 0:e.region)||"No especificada"})]})]})]})})};class v1{constructor(){dt(this,"authContext")}setAuthContext(t){this.authContext=t}async getMembershipPayments(t){var s;try{if(await new Promise(o=>setTimeout(o,300)),!((s=this.authContext)!=null&&s.user))return{success:!1,error:"Usuario no autenticado"};const a=t||new Date().getFullYear();return{success:!0,data:[{id:1,userId:this.authContext.user.id,month:10,year:a,amount:25e3,paid:!0,paidDate:`${a}-10-05`,paymentMethod:"transferencia"},{id:2,userId:this.authContext.user.id,month:9,year:a,amount:25e3,paid:!0,paidDate:`${a}-09-03`,paymentMethod:"efectivo"},{id:3,userId:this.authContext.user.id,month:8,year:a,amount:25e3,paid:!1},{id:4,userId:this.authContext.user.id,month:7,year:a,amount:25e3,paid:!0,paidDate:`${a}-07-02`,paymentMethod:"tarjeta"},{id:5,userId:this.authContext.user.id,month:6,year:a,amount:25e3,paid:!0,paidDate:`${a}-06-05`,paymentMethod:"transferencia"}]}}catch(a){return console.error("Error getting membership payments:",a),{success:!1,error:"Error obteniendo historial de pagos"}}}async getUserTournaments(){var t;try{return await new Promise(a=>setTimeout(a,400)),(t=this.authContext)!=null&&t.user?{success:!0,data:[{id:1,name:"Campeonato Nacional de Asado 2024",date:"2024-09-15",position:3,participants:24,category:"Profesional"},{id:2,name:"Torneo Regional Santiago",date:"2024-07-20",position:1,participants:16,category:"Amateur"},{id:3,name:"Copa ACA Primavera",date:"2024-06-10",position:5,participants:32,category:"Profesional"},{id:4,name:"Desafo Parrilleros del Sur",date:"2024-05-05",position:2,participants:12,category:"Regional"}]}:{success:!1,error:"Usuario no autenticado"}}catch(s){return console.error("Error getting user tournaments:",s),{success:!1,error:"Error obteniendo historial de torneos"}}}async getUserAwards(){var t;try{return await new Promise(a=>setTimeout(a,350)),(t=this.authContext)!=null&&t.user?{success:!0,data:[{id:1,title:"Mejor Asado Tradicional",description:"Primer lugar en categora tradicional",date:"2024-09-15",category:"torneo"},{id:2,title:"Participacin Destacada",description:"Por excelente participacin en eventos 2024",date:"2024-08-01",category:"reconocimiento"},{id:3,title:"Asistencia Perfecta",description:"Asisti a todos los eventos del ao",date:"2024-07-15",category:"participacion"}]}:{success:!1,error:"Usuario no autenticado"}}catch(s){return console.error("Error getting user awards:",s),{success:!1,error:"Error obteniendo premios y reconocimientos"}}}async getUserEvents(){var t;try{return await new Promise(a=>setTimeout(a,300)),(t=this.authContext)!=null&&t.user?{success:!0,data:[{id:1,title:"Workshop de Tcnicas Avanzadas",date:"2024-10-01",type:"taller"},{id:2,title:"Encuentro Mensual Octubre",date:"2024-10-15",type:"encuentro"},{id:3,title:"Masterclass con Chef Invitado",date:"2024-09-20",type:"masterclass"},{id:4,title:"Torneo Regional Santiago",date:"2024-07-20",type:"torneo"}]}:{success:!1,error:"Usuario no autenticado"}}catch(s){return console.error("Error getting user events:",s),{success:!1,error:"Error obteniendo eventos del usuario"}}}async recordPayment(t,s,a,n){var o;try{return await new Promise(i=>setTimeout(i,800)),(o=this.authContext)!=null&&o.user?(console.log("Registrando pago:",{month:t,year:s,amount:a,paymentMethod:n,userId:this.authContext.user.id}),{success:!0,message:`Pago de ${a.toLocaleString("es-CL")} registrado exitosamente para ${t}/${s}`}):{success:!1,error:"Usuario no autenticado"}}catch(i){return console.error("Error recording payment:",i),{success:!1,error:"Error registrando el pago"}}}}const sh=new v1,b1=()=>{const{user:e,updateUser:t}=$e();return g.useEffect(()=>{e&&sh.setAuthContext({user:e,updateUser:t})},[e,t]),sh},j1=()=>{const e=b1(),[t,s]=g.useState("payments"),[a,n]=g.useState(""),[o,i]=g.useState("2024"),[l,c]=g.useState(!1),[d,m]=g.useState(null),[h,x]=g.useState([]),[N,w]=g.useState([]),[j,b]=g.useState([]),[f,u]=g.useState([]);g.useEffect(()=>{y()},[]),g.useEffect(()=>{(async()=>{const I=await e.getMembershipPayments(parseInt(o));I.success&&I.data&&x(I.data)})()},[o]);const y=async()=>{c(!0),m(null);try{const[_,I,L,R]=await Promise.all([e.getMembershipPayments(parseInt(o)),e.getUserTournaments(),e.getUserAwards(),e.getUserEvents()]);_.success&&_.data&&x(_.data),I.success&&I.data&&w(I.data),L.success&&L.data&&b(L.data),R.success&&R.data&&u(R.data)}catch(_){console.error("Error loading account data:",_),m("Error cargando datos de la cuenta")}finally{c(!1)}},v=_=>["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][_-1],S=_=>{switch(_){case"transferencia":return"";case"efectivo":return"";case"tarjeta":return"";default:return""}},A=_=>({1:"from-yellow-400 to-yellow-500 text-yellow-900",2:"from-gray-300 to-gray-400 text-gray-800",3:"from-orange-400 to-orange-500 text-orange-900"})[_]||"from-blue-400 to-blue-500 text-blue-900",T=h.filter(_=>_.year.toString()===o),p=T.filter(_=>_.paid).length,k=T.filter(_=>!_.paid).length,C=[{id:"payments",title:"Cuotas",icon:fa,count:T.length},{id:"tournaments",title:"Torneos",icon:fm,count:N.length},{id:"awards",title:"Premios",icon:ol,count:j.length},{id:"events",title:"Eventos",icon:ye,count:f.length}];return l?r.jsx("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(Ue,{className:"w-8 h-8 text-primary-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-neutral-600",children:"Cargando datos de la cuenta..."})]})}):d?r.jsx("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(dr,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-red-600 font-medium",children:d}),r.jsx("button",{onClick:y,className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Reintentar"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-700 mb-6",children:"Mi Cuenta"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-green-25 border border-green-200/50 rounded-xl",children:[r.jsx(Re,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-green-700",children:"Cuotas Pagadas"}),r.jsx("p",{className:"text-2xl font-bold text-green-800",children:p})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-red-50 to-red-25 border border-red-200/50 rounded-xl",children:[r.jsx(dr,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-red-700",children:"Cuotas Pendientes"}),r.jsx("p",{className:"text-2xl font-bold text-red-800",children:k})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-blue-25 border border-blue-200/50 rounded-xl",children:[r.jsx(fm,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Torneos"}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:N.length})]}),r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-purple-25 border border-purple-200/50 rounded-xl",children:[r.jsx(ol,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Premios"}),r.jsx("p",{className:"text-2xl font-bold text-purple-800",children:j.length})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(_=>{const I=_.icon,L=t===_.id;return r.jsxs("button",{onClick:()=>s(_.id),className:`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 ${L?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-soft-sm":"bg-white/50 hover:bg-white/70 text-neutral-700 hover:shadow-soft-xs"}`,children:[r.jsx(I,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:_.title}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L?"bg-white/20 text-white":"bg-neutral-100 text-neutral-600"}`,children:_.count})]},_.id)})})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:a,onChange:_=>n(_.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm"})]}),t==="payments"&&r.jsxs("select",{value:o,onChange:_=>i(_.target.value),className:"px-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"2024",children:"2024"}),r.jsx("option",{value:"2023",children:"2023"}),r.jsx("option",{value:"2022",children:"2022"})]})]}),t==="payments"&&r.jsx("div",{className:"space-y-3",children:T.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl hover:shadow-soft-sm transition-shadow",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${_.paid?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:_.paid?r.jsx(Re,{className:"w-6 h-6"}):r.jsx(mr,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-neutral-700",children:[v(_.month)," ",_.year]}),r.jsxs("p",{className:"text-sm text-neutral-500",children:["$",_.amount.toLocaleString("es-CL"),_.paid&&_.paymentMethod&&r.jsxs("span",{className:"ml-2",children:[S(_.paymentMethod)," ",_.paymentMethod]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:`font-semibold ${_.paid?"text-green-600":"text-red-600"}`,children:_.paid?"Pagado":"Pendiente"}),_.paidDate&&r.jsx("p",{className:"text-xs text-neutral-500",children:new Date(_.paidDate).toLocaleDateString("es-CL")})]})]},_.id))}),t==="tournaments"&&r.jsx("div",{className:"space-y-3",children:N.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl hover:shadow-soft-sm transition-shadow",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`w-12 h-12 rounded-full bg-gradient-to-r ${A(_.position||0)} flex items-center justify-center font-bold text-lg shadow-soft-xs`,children:[_.position,""]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:_.name}),r.jsxs("p",{className:"text-sm text-neutral-500",children:[new Date(_.date).toLocaleDateString("es-CL"),"  ",_.participants," participantes"]})]})]}),r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:_.category})]},_.id))}),t==="awards"&&r.jsx("div",{className:"space-y-3",children:j.map(_=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl hover:shadow-soft-sm transition-shadow",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-500 flex items-center justify-center shadow-soft-xs",children:r.jsx(ol,{className:"w-6 h-6 text-yellow-900"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-neutral-700",children:_.title}),r.jsx("p",{className:"text-sm text-neutral-500",children:_.description}),r.jsx("p",{className:"text-xs text-neutral-400",children:new Date(_.date).toLocaleDateString("es-CL")})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_.category==="torneo"?"bg-red-100 text-red-700":_.category==="reconocimiento"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:_.category})]},_.id))}),t==="events"&&r.jsx("div",{className:"space-y-3",children:f.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl hover:shadow-soft-sm transition-shadow",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-primary-100 to-primary-200 flex items-center justify-center",children:r.jsx(ye,{className:"w-6 h-6 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:_.title}),r.jsx("p",{className:"text-sm text-neutral-500",children:new Date(_.date).toLocaleDateString("es-CL")})]})]}),r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:_.type})]},_.id))})]})]})},Ac=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],w1=()=>{const{user:e}=$e(),[t]=g.useState(new Date().getFullYear()),[s,a]=g.useState(t),[n,o]=g.useState([]),[i,l]=g.useState(!0),[c,d]=g.useState(null),[m,h]=g.useState(!1),[x,N]=g.useState(null);g.useEffect(()=>{w()},[s,e]);const w=async()=>{if(e!=null&&e.id)try{l(!0),d(null);const u=await we.getCuotas({ao:s,socioId:e.id});u.success&&u.data?o(u.data.cuotas):d(u.error||"Error al cargar cuotas")}catch(u){d("Error al cargar cuotas"),console.error(u)}finally{l(!1)}},j=u=>n.find(y=>y.mes===u),f=(()=>{const u=n.length,y=n.filter(T=>T.pagado).length,v=u-y,S=n.filter(T=>T.pagado).reduce((T,p)=>T+p.valor,0),A=n.filter(T=>!T.pagado).reduce((T,p)=>T+p.valor,0);return{totalCuotas:u,pagadas:y,pendientes:v,totalPagado:S,totalDeuda:A}})();return i?r.jsx("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(Ue,{className:"w-8 h-8 text-primary-600 animate-spin mr-2"}),r.jsx("span",{className:"text-neutral-600",children:"Cargando tus cuotas..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Mis Cuotas"}),r.jsx("p",{className:"text-neutral-600",children:"Estado de tus cuotas mensuales"})]}),r.jsx("select",{value:s,onChange:u=>a(parseInt(u.target.value)),className:"px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[t-1,t,t+1].map(u=>r.jsx("option",{value:u,children:u},u))})]}),c&&r.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700",children:c})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Pagadas"}),r.jsx("p",{className:"text-3xl font-bold text-green-800",children:f.pagadas})]}),r.jsx(Re,{className:"h-10 w-10 text-green-500"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-4 border border-red-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Pendientes"}),r.jsx("p",{className:"text-3xl font-bold text-red-800",children:f.pendientes})]}),r.jsx(dr,{className:"h-10 w-10 text-red-500"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Pagado"}),r.jsxs("p",{className:"text-xl font-bold text-blue-800",children:["$",f.totalPagado.toLocaleString("es-CL")]})]}),r.jsx(_d,{className:"h-10 w-10 text-blue-500"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"Deuda"}),r.jsxs("p",{className:"text-xl font-bold text-orange-800",children:["$",f.totalDeuda.toLocaleString("es-CL")]})]}),r.jsx(mr,{className:"h-10 w-10 text-orange-500"})]})})]})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-neutral-900 mb-6",children:["Calendario ",s]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ac.map((u,y)=>{const v=j(y+1),S=new Date().getMonth(),A=y===S&&s===t,T=()=>v!=null&&v.pagado?"bg-green-50 border-green-300 hover:border-green-400":v?"bg-red-50 border-red-300 hover:border-red-400":"bg-gray-50 border-gray-200";return r.jsxs("div",{className:`relative border-2 rounded-xl p-4 transition-all ${T()} ${A?"ring-2 ring-primary-400":""}`,children:[A&&r.jsx("div",{className:"absolute -top-2 -right-2 bg-primary-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Actual"}),r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-neutral-900",children:u}),r.jsx("p",{className:"text-sm text-neutral-600",children:s})]}),r.jsx("div",{children:v?v.pagado?r.jsx(Re,{className:"h-6 w-6 text-green-600"}):r.jsx(dr,{className:"h-6 w-6 text-red-600"}):r.jsx(mr,{className:"h-6 w-6 text-gray-400"})})]}),v?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-neutral-600",children:"Valor:"}),r.jsxs("span",{className:"font-bold text-neutral-900",children:["$",v.valor.toLocaleString("es-CL")]})]}),v.pagado&&v.fechaPago&&r.jsxs("div",{className:"text-xs text-green-700",children:["Pagado el ",new Date(v.fechaPago).toLocaleDateString("es-CL")]}),v.pagado?v.comprobanteUrl&&r.jsxs("button",{onClick:()=>{N(v),h(!0)},className:"w-full mt-2 flex items-center justify-center px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors text-sm",children:[r.jsx(ot,{className:"h-4 w-4 mr-2"}),"Ver Comprobante"]}):r.jsxs("button",{onClick:()=>{N(v),h(!0)},className:"w-full mt-2 flex items-center justify-center px-3 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium",children:[r.jsx(fa,{className:"h-4 w-4 mr-2"}),"Pagar"]})]}):r.jsx("div",{className:"text-sm text-neutral-500 text-center py-2",children:"No generada"})]},u)})})]}),m&&x&&r.jsx(N1,{cuota:x,onClose:()=>{h(!1),N(null)},onPagado:()=>{h(!1),N(null),w()}})]})};function N1({cuota:e,onClose:t,onPagado:s}){const[a,n]=g.useState(null),[o,i]=g.useState(null),[l,c]=g.useState(!1),[d,m]=g.useState(null),[h,x]=g.useState(!1),N=j=>{var f;const b=(f=j.target.files)==null?void 0:f[0];if(b){n(b);const u=new FileReader;u.onloadend=()=>{i(u.result)},u.readAsDataURL(b)}},w=async()=>{if(!a){m("Debes seleccionar un comprobante");return}c(!0),m(null);try{const j=await we.subirComprobante(a,e.id);if(!j.success)throw new Error(j.error||"Error al subir comprobante");x(!0),setTimeout(()=>{s()},2e3)}catch(j){m(j instanceof Error?j.message:"Error desconocido")}finally{c(!1)}};return e.pagado&&e.comprobanteUrl?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Comprobante de Pago"}),r.jsx("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600",children:r.jsx(Ye,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(Re,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"font-semibold text-green-800",children:"Cuota Pagada"})]}),r.jsxs("p",{className:"text-sm text-green-700",children:[Ac[e.mes-1]," ",e.ao," - $",e.valor.toLocaleString("es-CL")]}),e.fechaPago&&r.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Pagado el ",new Date(e.fechaPago).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Comprobante"}),r.jsx("div",{className:"border-2 border-neutral-200 rounded-xl overflow-hidden",children:r.jsx("img",{src:e.comprobanteUrl,alt:"Comprobante de pago",className:"w-full h-auto"})}),r.jsxs("a",{href:e.comprobanteUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-primary-600 hover:text-primary-700",children:[r.jsx(ot,{className:"h-4 w-4 mr-1"}),"Ver en tamao completo"]})]})]}),r.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:r.jsx("button",{onClick:t,className:"px-6 py-2 bg-neutral-600 text-white rounded-lg hover:bg-neutral-700",children:"Cerrar"})})]})})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Pagar Cuota"}),r.jsx("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600",children:r.jsx(Ye,{className:"h-6 w-6"})})]}),d&&r.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 rounded",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ne,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("p",{className:"text-red-700 text-sm",children:d})]})}),h?r.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded mb-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Re,{className:"h-5 w-5 text-green-400 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-700 font-medium",children:"Comprobante enviado!"}),r.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Tu pago est en revisin. Te notificaremos cuando sea confirmado."})]})]})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-neutral-50 rounded-xl p-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-neutral-600",children:"Perodo"}),r.jsxs("p",{className:"font-semibold",children:[Ac[e.mes-1]," ",e.ao]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-neutral-600",children:"Valor"}),r.jsxs("p",{className:"font-semibold text-xl",children:["$",e.valor.toLocaleString("es-CL")]})]})]})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instrucciones de Pago"}),r.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Realiza la transferencia a la cuenta de ACA Chile"}),r.jsx("li",{children:"Toma una foto o screenshot del comprobante"}),r.jsx("li",{children:"Sube el comprobante aqu"}),r.jsx("li",{children:"Espera la confirmacin del pago"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"comprobante-upload",className:"block text-sm font-medium text-neutral-700 mb-2",children:["Comprobante de Pago ",r.jsx("span",{className:"text-red-500",children:"*"})]}),o?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:o,alt:"Preview comprobante",className:"w-full h-48 object-cover rounded-xl border-2 border-neutral-200"}),r.jsx("button",{type:"button",onClick:()=>{n(null),i(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:r.jsx(Ye,{className:"h-4 w-4"})})]}):r.jsxs("label",{htmlFor:"comprobante-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-neutral-300 rounded-xl cursor-pointer hover:bg-neutral-50 transition-colors",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(_s,{className:"h-12 w-12 text-neutral-400 mb-3"}),r.jsx("p",{className:"text-sm text-neutral-600 font-medium",children:"Subir Comprobante"}),r.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"PNG, JPG hasta 5MB"})]}),r.jsx("input",{id:"comprobante-upload",type:"file",accept:"image/*",onChange:N,className:"hidden"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50",children:h?"Cerrar":"Cancelar"}),!h&&r.jsx("button",{onClick:w,disabled:l||!a,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"h-5 w-5 mr-2 animate-spin"}),"Enviando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_s,{className:"h-5 w-5 mr-2"}),"Enviar Comprobante"]})})]})]})})})}const k1=()=>{const e=mx(),[t,s]=g.useState("password"),[a,n]=g.useState({current:!1,new:!1,confirm:!1}),[o,i]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,c]=g.useState({noticiasImportantes:!0,noticiasCorrientes:!1,comunicadosUrgentes:!0,medios:{email:!0,whatsapp:!0,sms:!1}}),[d,m]=g.useState({showEmail:!1,showPhone:!1,showRut:!1,showAddress:!1,showBirthdate:!1,showPublicProfile:!0});g.useEffect(()=>{(async()=>{const C=await e.getNotificationPreferences();C.success&&C.data&&c(C.data)})()},[]),g.useEffect(()=>{(async()=>{const C=await e.getPrivacyPreferences();C.success&&C.data&&m(C.data)})()},[]);const[h,x]=g.useState(!1),[N,w]=g.useState(null),j=(k,C)=>{i(_=>({..._,[k]:C}))},b=k=>{n(C=>({...C,[k]:!C[k]}))},f=async k=>{if(k.preventDefault(),o.newPassword!==o.confirmPassword){w({type:"error",message:"Las contraseas no coinciden"});return}if(o.newPassword.length<8){w({type:"error",message:"La contrasea debe tener al menos 8 caracteres"});return}x(!0),w(null);try{const C=await e.changePassword(o.currentPassword,o.newPassword);C.success?(w({type:"success",message:C.message||"Contrasea actualizada exitosamente"}),i({currentPassword:"",newPassword:"",confirmPassword:""})):w({type:"error",message:C.error||"Error al cambiar la contrasea"})}catch{w({type:"error",message:"Error al cambiar la contrasea"})}finally{x(!1)}},u=(k,C)=>{c(_=>({..._,[k]:C}))},y=(k,C)=>{c(_=>({..._,medios:{..._.medios,[k]:C}}))},v=(k,C)=>{m(_=>({..._,[k]:C}))},S=async()=>{x(!0),w(null);try{const k=await e.updateNotificationPreferences(l);k.success?w({type:"success",message:k.message||"Preferencias de notificaciones guardadas"}):w({type:"error",message:k.error||"Error al guardar las preferencias"})}catch{w({type:"error",message:"Error al guardar las preferencias"})}finally{x(!1)}},A=async()=>{x(!0),w(null);try{const k=await e.updatePrivacyPreferences(d);k.success?w({type:"success",message:k.message||"Preferencias de privacidad actualizadas"}):w({type:"error",message:k.error||"Error al guardar la privacidad"})}catch{w({type:"error",message:"Error al guardar la privacidad"})}finally{x(!1)}},T=[{id:"password",title:"Cambiar Contrasea",icon:sa},{id:"notifications",title:"Notificaciones",icon:Sn},{id:"privacy",title:"Privacidad",icon:Ko}],p=[{key:"showPublicProfile",label:"Perfil pblico visible",description:"Permite que otros socios encuentren tu perfil en el buscador pblico.",icon:ot},{key:"showEmail",label:"Correo electrnico",description:"Permite que otros socios vean tu email pblico para contactarte.",icon:er},{key:"showPhone",label:"Telfono",description:"Comparte tu nmero de contacto con quienes visiten tu perfil.",icon:mm},{key:"showAddress",label:"Direccin y ciudad",description:"Muestra tu ciudad, regin y direccin configurada en el perfil.",icon:it},{key:"showRut",label:"RUT",description:"Exhibe tu RUT en tu perfil pblico slo si decides compartirlo.",icon:Ed},{key:"showBirthdate",label:"Fecha de nacimiento",description:"Permite que tu comunidad conozca tu fecha de cumpleaos.",icon:Cd}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-700 mb-6",children:"Configuracin"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(k=>{const C=k.icon,_=t===k.id;return r.jsxs("button",{onClick:()=>{s(k.id),w(null)},className:`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all duration-300 ${_?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-soft-sm":"bg-white/50 hover:bg-white/70 text-neutral-700 hover:shadow-soft-xs"}`,children:[r.jsx(C,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:k.title})]},k.id)})})]}),N&&r.jsx("div",{className:`p-4 rounded-xl border ${N.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[N.type==="success"?r.jsx(mc,{className:"w-5 h-5"}):r.jsx(js,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:N.message})]})}),t==="password"&&r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-100 to-red-200 rounded-full flex items-center justify-center",children:r.jsx(sa,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-neutral-700",children:"Cambiar Contrasea"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Actualiza tu contrasea para mantener tu cuenta segura"})]})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Contrasea Actual"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:a.current?"text":"password",value:o.currentPassword,onChange:k=>j("currentPassword",k.target.value),className:"w-full pr-12 pl-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm",placeholder:"Ingresa tu contrasea actual",required:!0}),r.jsx("button",{type:"button",onClick:()=>b("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:a.current?r.jsx(ra,{className:"w-5 h-5"}):r.jsx(ot,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Nueva Contrasea"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:a.new?"text":"password",value:o.newPassword,onChange:k=>j("newPassword",k.target.value),className:"w-full pr-12 pl-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm",placeholder:"Mnimo 8 caracteres",required:!0,minLength:8}),r.jsx("button",{type:"button",onClick:()=>b("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:a.new?r.jsx(ra,{className:"w-5 h-5"}):r.jsx(ot,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Confirmar Nueva Contrasea"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:a.confirm?"text":"password",value:o.confirmPassword,onChange:k=>j("confirmPassword",k.target.value),className:"w-full pr-12 pl-4 py-3 bg-white/50 backdrop-blur-medium border border-white/30 rounded-xl shadow-soft-xs focus:outline-none focus:ring-2 focus:ring-primary-500 focus:shadow-soft-sm",placeholder:"Repite tu nueva contrasea",required:!0}),r.jsx("button",{type:"button",onClick:()=>b("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:a.confirm?r.jsx(ra,{className:"w-5 h-5"}):r.jsx(ot,{className:"w-5 h-5"})})]})]})]}),r.jsx("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:"Cambiando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(aa,{className:"w-5 h-5"}),r.jsx("span",{children:"Cambiar Contrasea"})]})})]})]}),t==="privacy"&&r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-100 to-emerald-200 rounded-full flex items-center justify-center",children:r.jsx(Ko,{className:"w-6 h-6 text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-neutral-700",children:"Privacidad de Perfil"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Controla qu informacin personal es visible para la comunidad."})]})]}),r.jsx("div",{className:"p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:r.jsxs("p",{className:"text-sm text-neutral-600",children:["Tu ",r.jsx("strong",{children:"nombre y foto"})," siempre son pblicos para identificarte como socio activo. El resto de los datos son opcionales y puedes activarlos o desactivarlos cuando quieras."]})}),r.jsx("div",{className:"space-y-3",children:p.map(k=>{const C=k.icon,_=d[k.key];return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${_?"bg-emerald-500/15 text-emerald-600":"bg-neutral-100 text-neutral-500"}`,children:r.jsx(C,{className:"w-4 h-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:k.label}),r.jsx("p",{className:"text-sm text-neutral-500",children:k.description})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_,onChange:I=>v(k.key,I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]},k.key)})}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:A,disabled:h,className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-500 text-white rounded-xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Ue,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Guardando"})]}):r.jsxs(r.Fragment,{children:[r.jsx(aa,{className:"w-4 h-4"}),r.jsx("span",{children:"Guardar privacidad"})]})})})]}),t==="notifications"&&r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-100 to-blue-200 rounded-full flex items-center justify-center",children:r.jsx(Sn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-neutral-700",children:"Preferencias de Notificaciones"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Configura qu notificaciones quieres recibir y cmo"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold text-neutral-700 mb-4",children:"Tipos de Notificaciones"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(js,{className:"w-4 h-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:"Noticias Importantes"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Eventos importantes y anuncios crticos"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.noticiasImportantes,onChange:k=>u("noticiasImportantes",k.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Pd,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:"Noticias Corrientes"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Actualizaciones generales y noticias regulares"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.noticiasCorrientes,onChange:k=>u("noticiasCorrientes",k.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(js,{className:"w-4 h-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:"Comunicados Urgentes"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Avisos urgentes que requieren atencin inmediata"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.comunicadosUrgentes,onChange:k=>u("comunicadosUrgentes",k.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold text-neutral-700 mb-4",children:"Medios de Notificacin"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(er,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:"Correo Electrnico"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Recibir notificaciones por email"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.medios.email,onChange:k=>y("email",k.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(pc,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:"WhatsApp"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Recibir mensajes por WhatsApp"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.medios.whatsapp,onChange:k=>y("whatsapp",k.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/40 backdrop-blur-soft border border-white/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(mm,{className:"w-4 h-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-neutral-700",children:"SMS"}),r.jsx("p",{className:"text-sm text-neutral-500",children:"Recibir mensajes de texto"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.medios.sms,onChange:k=>y("sms",k.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),r.jsx("button",{onClick:S,disabled:h,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-500 text-white rounded-xl shadow-soft-sm hover:shadow-soft-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:"Guardando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(aa,{className:"w-5 h-5"}),r.jsx("span",{children:"Guardar Preferencias"})]})})]})]})]})},lo=({defaultTab:e})=>{var d,m;const t=hr(),{user:s,getRoleDisplayName:a}=$e(),n=()=>{if(e)return e;const h=t.pathname;return h==="/mi-cuenta"?"account":h==="/configuracion"?"settings":"profile"},[o,i]=g.useState(n());if(g.useEffect(()=>{i(n())},[t.pathname,e]),!s)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-pastel-purple-50 to-neutral-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-700 mb-4",children:"Acceso Denegado"}),r.jsx("p",{className:"text-neutral-600",children:"Debes iniciar sesin para acceder a tu perfil"})]})});const l=[{id:"profile",title:"Mi Perfil",description:"Informacin personal y datos de contacto",icon:Ni,color:"blue"},{id:"account",title:"Mi Cuenta",description:"Cuotas, torneos, premios y eventos",icon:sj,color:"green"},{id:"settings",title:"Configuracin",description:"Contrasea, notificaciones y preferencias",icon:Sn,color:"purple"}],c=()=>{switch(o){case"profile":return r.jsx(rh,{});case"account":return r.jsxs("div",{className:"space-y-6",children:[r.jsx(w1,{}),r.jsx(j1,{})]});case"settings":return r.jsx(k1,{});default:return r.jsx(rh,{})}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-pastel-purple-50 to-neutral-100 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-r from-primary-200/20 to-pastel-blue-200/20 rounded-full blur-3xl animate-soft-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-pastel-pink-200/20 to-primary-200/20 rounded-full blur-3xl animate-soft-pulse delay-1000"}),r.jsx(bs,{children:r.jsxs("div",{className:"py-12 relative z-10",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"rounded-full bg-gradient-to-r from-primary-600 to-primary-500 shadow-soft-lg overflow-hidden",style:{width:"64px",height:"64px",minWidth:"64px",minHeight:"64px",maxWidth:"64px",maxHeight:"64px"},children:s.avatar?r.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",overflow:"hidden",position:"relative",backgroundColor:"#f3f4f6"},children:r.jsx("img",{src:s.avatar,alt:s.name,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center top",display:"block"}})}):r.jsx("div",{style:{width:"64px",height:"64px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("span",{className:"text-white font-bold text-xl",children:((m=(d=s.name)==null?void 0:d.charAt(0))==null?void 0:m.toUpperCase())||"U"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:s.name}),r.jsxs("p",{className:"text-lg text-neutral-600 flex items-center space-x-2",children:[r.jsx("span",{children:a()}),r.jsx("span",{children:""}),r.jsx("span",{children:s.email})]})]})]})}),r.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white/60 backdrop-blur-soft border border-white/30 rounded-2xl shadow-soft-lg p-6 sticky top-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-neutral-700 mb-4",children:"Navegacin"}),r.jsx("nav",{className:"space-y-2",children:l.map(h=>{const x=h.icon,N=o===h.id;return r.jsxs("button",{onClick:()=>i(h.id),className:`w-full flex items-center justify-between p-3 rounded-xl transition-all duration-300 group ${N?"bg-gradient-to-r from-primary-100 to-primary-50 border border-primary-200 shadow-soft-sm":"hover:bg-white/50 hover:shadow-soft-xs"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${N?`bg-${h.color}-500 text-white shadow-soft-xs`:`bg-${h.color}-100 text-${h.color}-600 group-hover:bg-${h.color}-200`} transition-all duration-300`,children:r.jsx(x,{className:"w-4 h-4"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:`font-medium text-sm ${N?"text-primary-700":"text-neutral-700"}`,children:h.title}),r.jsx("p",{className:"text-xs text-neutral-500 hidden sm:block",children:h.description})]})]}),r.jsx(wi,{className:`w-4 h-4 transition-all duration-300 ${N?"text-primary-500 transform rotate-90":"text-neutral-400 group-hover:text-primary-500 group-hover:translate-x-1"}`})]},h.id)})})]})}),r.jsx("div",{className:"lg:col-span-3",children:c()})]})]})})]})},S1=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];function ah(){const{id:e}=Ln(),t=Rt(),[s,a]=g.useState(null),[n,o]=g.useState([]),[i,l]=g.useState(!0),[c,d]=g.useState(null);g.useEffect(()=>{console.log("[PerfilSocio] Component mounted, id:",e),e?m(parseInt(e)):(console.error("[PerfilSocio] No ID provided"),d("No se especific ID de socio"),l(!1))},[e]);const m=async f=>{var u;try{console.log("[PerfilSocio] Loading socio data for ID:",f),l(!0),d(null);const y=await we.getSocio(f);if(console.log("[PerfilSocio] Socio response:",y),!y.success||!y.data)throw new Error(y.error||"No se pudo cargar el socio");a(y.data),console.log("[PerfilSocio] Socio data loaded:",y.data),console.log("[PerfilSocio] RUT value:",y.data.rut),console.log("[PerfilSocio] RUT type:",typeof y.data.rut);const v=new Date().getFullYear();console.log("[PerfilSocio] Loading cuotas for year:",v);const S=await we.getCuotas({ao:v,socioId:f});console.log("[PerfilSocio] Cuotas response:",S),S.success&&S.data&&(o(S.data.cuotas||[]),console.log("[PerfilSocio] Cuotas loaded:",((u=S.data.cuotas)==null?void 0:u.length)||0))}catch(y){const v=y instanceof Error?y.message:"Error desconocido";d(v),console.error("[PerfilSocio] Error loading data:",y)}finally{console.log("[PerfilSocio] Loading complete, setting loading to false"),l(!1)}},h=f=>{const u=new Date(f.ao,f.mes-1,5);return new Date>u},x=f=>{const u=n.find(y=>y.mes===f);return u?u.pagado?"pagada":h(u)?"vencida":"pendiente":"sin-generar"},N=f=>n.find(u=>u.mes===f);if(console.log("[PerfilSocio] Render - loading:",i,"error:",c,"socio:",s),i)return console.log("[PerfilSocio] Rendering loading state"),r.jsx("div",{className:"p-6 flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando perfil..."})]})});if(c||!s)return console.log("[PerfilSocio] Rendering error state"),r.jsx("div",{className:"p-6 flex items-center justify-center min-h-96",children:r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ne,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error al cargar perfil"}),r.jsx("p",{className:"text-gray-600 mb-6",children:c||"Socio no encontrado"}),r.jsx("button",{onClick:()=>t("/panel-admin/users"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Volver a Gestin de Socios"})]})})});console.log("[PerfilSocio] Rendering main content");const w=n.filter(f=>h(f)&&!f.pagado),j=n.filter(f=>f.pagado),b=()=>{const f=w.length;return f===0?"from-green-600 to-green-700":f<=2?"from-yellow-500 to-yellow-600":"from-red-600 to-red-700"};return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("button",{onClick:()=>t("/panel-admin/users"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[r.jsx(Sr,{className:"h-5 w-5"}),"Volver a Gestin de Socios"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:[r.jsx("div",{className:`bg-gradient-to-r ${b()} px-8 py-12`,children:r.jsxs("div",{className:"flex items-center gap-6",children:[s.fotoUrl?r.jsx("img",{src:s.fotoUrl,alt:s.nombreCompleto,className:"h-24 w-24 rounded-full object-cover border-4 border-white shadow-lg"}):r.jsx("div",{className:"h-24 w-24 rounded-full bg-white flex items-center justify-center border-4 border-white shadow-lg",children:r.jsx(ir,{className:"h-12 w-12 text-red-600"})}),r.jsxs("div",{className:"flex-1 text-white",children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.nombreCompleto,s.role&&r.jsx("span",{className:"ml-2 px-2 py-1 text-sm font-semibold rounded-full bg-white/20",children:Ha.getRoleDisplayName(s.role||"usuario")})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:s.email})]}),s.telefono&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mn,{className:"h-4 w-4"}),r.jsx("span",{children:s.telefono})]}),s.direccion&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(it,{className:"h-4 w-4"}),r.jsx("span",{children:s.direccion})]})]})]})]})}),r.jsx("div",{className:"px-8 py-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"RUT"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.rut&&s.rut.trim()!==""?s.rut:"No registrado"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Cuota Mensual"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",s.valorCuota?s.valorCuota.toLocaleString("es-CL"):"0"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Fecha de Ingreso"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.fechaIngreso?new Date(s.fechaIngreso).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}):"No registrada"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Cuotas Pagadas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:j.length})]}),r.jsx(Re,{className:"h-12 w-12 text-green-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Cuotas Vencidas"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:w.length})]}),r.jsx(dr,{className:"h-12 w-12 text-red-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),r.jsx("p",{className:`text-2xl font-bold ${w.length===0?"text-green-600":"text-red-600"}`,children:w.length===0?"Al da":"Con atrasos"})]}),w.length===0?r.jsx(Re,{className:"h-12 w-12 text-green-500"}):r.jsx(Ne,{className:"h-12 w-12 text-red-500"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx(ye,{className:"h-6 w-6"}),"Estado de Cuotas ",new Date().getFullYear()]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:S1.map((f,u)=>{const y=u+1,v=x(y),S=N(y);return r.jsx("div",{className:`
                    relative p-4 rounded-lg border-2 transition-all
                    ${v==="pagada"?"bg-green-50 border-green-500":""}
                    ${v==="vencida"?"bg-red-50 border-red-500":""}
                    ${v==="pendiente"?"bg-blue-50 border-blue-500":""}
                    ${v==="sin-generar"?"bg-gray-50 border-gray-300":""}
                  `,children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:f}),r.jsxs("div",{className:"flex justify-center mb-2",children:[v==="pagada"&&r.jsx(Re,{className:"h-6 w-6 text-green-600"}),v==="vencida"&&r.jsx(dr,{className:"h-6 w-6 text-red-600"}),v==="pendiente"&&r.jsx(fa,{className:"h-6 w-6 text-blue-600"}),v==="sin-generar"&&r.jsx(ye,{className:"h-6 w-6 text-gray-400"})]}),r.jsxs("p",{className:`text-xs font-semibold ${v==="pagada"?"text-green-700":v==="vencida"?"text-red-700":v==="pendiente"?"text-blue-700":"text-gray-500"}`,children:[v==="pagada"&&"Pagada",v==="vencida"&&"Vencida",v==="pendiente"&&"Pendiente",v==="sin-generar"&&"N/A"]}),S&&S.fechaPago&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(S.fechaPago).toLocaleDateString("es-CL",{day:"numeric",month:"short"})})]})},y)})}),r.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 justify-center text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Re,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-gray-600",children:"Pagada"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{className:"text-gray-600",children:"Vencida"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fa,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-gray-600",children:"Pendiente"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:"No generada"})]})]})]})]})})}const nh=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})},C1=e=>{if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const s=new Date;let a=s.getFullYear()-t.getFullYear();const n=s.getMonth()-t.getMonth();return(n<0||n===0&&s.getDate()<t.getDate())&&(a-=1),a>=0?a:0};class _1 extends Pe.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("[LocalErrorBoundary] Error caught:",t,s)}render(){return this.state.hasError?r.jsx("div",{className:"min-h-[60vh] bg-soft-gradient-light flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-lg bg-white rounded-2xl shadow-lg p-8 text-center",children:[r.jsx(zp,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Ocurri un error"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Estamos trabajando para resolverlo. Intenta recargar la pgina."}),r.jsxs(ne,{to:"/buscar",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Volver a la bsqueda"]})]})}):this.props.children}}const E1=()=>{var N,w,j,b,f,u,y,v,S,A,T,p;const{id:e}=Ln(),[t,s]=g.useState(!0),[a,n]=g.useState(null),[o,i]=g.useState(null);g.useEffect(()=>{(async()=>{if(!e){n("Identificador de socio no vlido."),s(!1);return}try{s(!0),n(null);const C=await fetch(`/api/socios/${e}`);if(!C.ok){const I=C.status===404?"No encontramos a este socio.":"Tuvimos un problema al cargar la informacin.";n(I),s(!1);return}const _=await C.json();if(!_.success||!_.data){n(_.error||"No pudimos obtener la informacin del socio."),s(!1);return}i(_.data)}catch(C){console.error("[PublicSocioPage] Error loading socio:",C),n("No pudimos conectar con el servidor en este momento.")}finally{s(!1)}})()},[e]);const l=g.useMemo(()=>o?typeof o.yearsActive=="number"?o.yearsActive:C1(o.joinedAt):null,[o]),c=g.useMemo(()=>{if(!(o!=null&&o.fullName))return"A";const k=o.fullName.split(" ").filter(Boolean);return k.length===0?"A":k.length===1?k[0].charAt(0).toUpperCase():`${k[0].charAt(0)}${k[k.length-1].charAt(0)}`.toUpperCase()},[o==null?void 0:o.fullName]);if(t)return r.jsx("div",{className:"min-h-[60vh] bg-soft-gradient-light flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg px-8 py-6 text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-10 w-10 animate-spin rounded-full border-2 border-red-600 border-t-transparent"}),r.jsx("p",{className:"text-gray-600",children:"Cargando perfil pblico"})]})});if(a||!o)return r.jsx("div",{className:"min-h-[60vh] bg-soft-gradient-light flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-lg bg-white rounded-2xl shadow-lg p-8 text-center",children:[r.jsx(zp,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Perfil no disponible"}),r.jsx("p",{className:"text-gray-600 mb-6",children:a||"No pudimos mostrar la informacin solicitada."}),r.jsxs(ne,{to:"/buscar",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Volver a la bsqueda"]})]})});const d=!!((N=o==null?void 0:o.contact)!=null&&N.email||(w=o==null?void 0:o.contact)!=null&&w.phone),m=!!((j=o==null?void 0:o.location)!=null&&j.city||(b=o==null?void 0:o.location)!=null&&b.region||(f=o==null?void 0:o.location)!=null&&f.address),h=nh((o==null?void 0:o.joinedAt)??null),x=nh((o==null?void 0:o.birthdate)??null);return r.jsx(_1,{children:r.jsx("div",{className:"bg-soft-gradient-light min-h-[48vh] py-6 px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs(ne,{to:"/buscar",className:"inline-flex items-center text-sm text-red-600 hover:text-red-700 font-medium",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"})," Volver a resultados"]})}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[r.jsx("div",{className:"relative h-20 md:h-24 bg-gradient-to-r from-red-600/80 via-orange-500/80 to-amber-400/80",children:r.jsx("div",{className:"absolute -bottom-12 md:-bottom-16 left-1/2 -translate-x-1/2 transform",children:o.avatar?r.jsx("img",{src:o.avatar,alt:o.fullName,className:"h-24 w-24 rounded-full border-4 border-white object-cover shadow-lg"}):r.jsx("div",{className:"h-24 w-24 rounded-full border-4 border-white bg-red-100 text-red-600 flex items-center justify-center text-3xl font-semibold shadow-lg",children:c})})}),r.jsxs("div",{className:"pt-10 pb-8 px-6 sm:px-10 space-y-6",children:[r.jsxs("header",{className:"text-center space-y-3",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 text-xs uppercase tracking-wide text-red-600 bg-red-50 rounded-full px-3 py-1",children:[r.jsx(Ni,{className:"h-4 w-4"}),"Perfil pblico de socio"]}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:o==null?void 0:o.fullName}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-sm text-gray-600",children:[(o==null?void 0:o.status)&&r.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:["Estado: ",r.jsx("span",{className:"font-semibold capitalize",children:o.status})]}),h&&r.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:[r.jsx(ye,{className:"h-4 w-4"})," Socio desde ",h]}),typeof l=="number"&&l>=0&&r.jsx("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:l===0?"Menos de 1 ao en ACA":`${l} ao${l!==1?"s":""} en ACA`})]})]}),r.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4 p-5 rounded-2xl border border-gray-100 bg-gray-50/60",children:[r.jsx("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Contacto"}),d?r.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[((u=o==null?void 0:o.contact)==null?void 0:u.email)&&r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(er,{className:"h-4 w-4 text-red-500"}),r.jsx("a",{href:`mailto:${o.contact.email}`,className:"hover:text-red-600 transition-colors",children:o.contact.email})]}),((y=o==null?void 0:o.contact)==null?void 0:y.phone)&&r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(Mn,{className:"h-4 w-4 text-red-500"}),r.jsx("a",{href:`tel:${o.contact.phone}`,className:"hover:text-red-600 transition-colors",children:o.contact.phone})]})]}):r.jsx("p",{className:"text-sm text-gray-600",children:"Este socio decidi reservar su informacin de contacto."})]}),r.jsxs("div",{className:"space-y-4 p-5 rounded-2xl border border-gray-100 bg-gray-50/60",children:[r.jsx("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Ubicacin y detalles"}),m?r.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[(((v=o==null?void 0:o.location)==null?void 0:v.city)||((S=o==null?void 0:o.location)==null?void 0:S.region))&&r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(it,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{children:[(A=o==null?void 0:o.location)==null?void 0:A.city,(T=o==null?void 0:o.location)==null?void 0:T.region].filter(Boolean).join(", ")})]}),((p=o==null?void 0:o.location)==null?void 0:p.address)&&r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(Ad,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{children:o.location.address})]}),(o==null?void 0:o.birthdate)&&r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(Cd,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{children:x})]}),(o==null?void 0:o.rut)&&r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(Ed,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{children:o.rut})]})]}):r.jsx("p",{className:"text-sm text-gray-600",children:"Este socio mantiene en privado su ubicacin y datos personales."})]})]}),r.jsx("footer",{className:"pt-4 border-t border-gray-100 text-center text-sm text-gray-500",children:o!=null&&o.privacy&&(o.privacy.showEmail||o.privacy.showPhone||o.privacy.showAddress||o.privacy.showRut||o.privacy.showBirthdate)?r.jsx("p",{children:"Los datos mostrados respetan la configuracin de privacidad establecida por el socio en su perfil."}):r.jsx("p",{children:"Este perfil pblico muestra informacin limitada. Para contactar a este socio, utiliza los canales oficiales de ACA Chile."})})]})]})]})})})},us=({children:e})=>{var l,c;const[t,s]=g.useState(!1),a=hr(),{user:n,logout:o}=$e(),i=[{name:"Dashboard",href:"/admin/dashboard",icon:$p},{name:"Usuarios",href:"/admin/users",icon:ct},{name:"Socios",href:"/admin/socios",icon:ct},{name:"Cuotas",href:"/admin/cuotas",icon:ye},{name:"Eventos",href:"/admin/eventos",icon:ye},{name:"Noticias",href:"/admin/noticias",icon:Qt},{name:"Comentarios",href:"/admin/comentarios",icon:Qo},{name:"Monitoreo",href:"/admin/monitoring",icon:kv},{name:"Configuracin",href:"/admin/settings",icon:Pd}];return console.log("[AdminLayout] Usuario:",n),console.log("[AdminLayout] Es admin?:",(n==null?void 0:n.role)==="admin"),!n||n.role!=="admin"?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acceso Denegado"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No tienes permisos para acceder al panel de administracin."}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Usuario: ",(n==null?void 0:n.email)||"No autenticado"," | Rol: ",(n==null?void 0:n.role)||"N/A"]}),r.jsx(ne,{to:"/",className:"text-red-600 hover:text-red-800",children:"Volver al inicio"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"":"pointer-events-none"}`,children:[r.jsx("div",{className:`fixed inset-0 bg-black transition-opacity ${t?"opacity-50":"opacity-0"}`,onClick:()=>s(!1)}),r.jsxs("div",{className:`fixed left-0 top-0 bottom-0 w-64 bg-white transform transition-transform ${t?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs(ne,{to:"/admin",className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),r.jsx("span",{className:"font-semibold text-gray-900",children:"Admin Panel"})]}),r.jsx("button",{onClick:()=>s(!1),className:"p-1 rounded-lg hover:bg-gray-100",children:r.jsx(Ye,{className:"h-5 w-5 text-gray-500"})})]}),r.jsx("nav",{className:"p-4 space-y-1",children:i.map(d=>{const m=d.icon;return r.jsxs(ne,{to:d.href,onClick:()=>s(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${a.pathname===d.href?"bg-red-100 text-red-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[r.jsx(m,{className:"h-5 w-5"}),r.jsx("span",{children:d.name})]},d.name)})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsxs("button",{onClick:o,className:"flex items-center space-x-3 w-full px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors",children:[r.jsx(fc,{className:"h-5 w-5"}),r.jsx("span",{children:"Cerrar Sesin"})]})})]})]}),r.jsxs("div",{className:"hidden lg:fixed lg:left-0 lg:top-0 lg:bottom-0 lg:w-64 lg:bg-white lg:border-r lg:border-gray-200 lg:flex lg:flex-col",children:[r.jsx("div",{className:"flex items-center p-6 border-b border-gray-200",children:r.jsxs(ne,{to:"/admin",className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),r.jsx("span",{className:"font-semibold text-gray-900",children:"Admin Panel"})]})}),r.jsx("nav",{className:"flex-1 p-4 space-y-1",children:i.map(d=>{const m=d.icon;return r.jsxs(ne,{to:d.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${a.pathname===d.href?"bg-red-100 text-red-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[r.jsx(m,{className:"h-5 w-5"}),r.jsx("span",{children:d.name})]},d.name)})}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("button",{onClick:o,className:"flex items-center space-x-3 w-full px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors",children:[r.jsx(fc,{className:"h-5 w-5"}),r.jsx("span",{children:"Cerrar Sesin"})]})})]}),r.jsxs("div",{className:"lg:ml-64",children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 lg:hidden",children:r.jsx(Dp,{className:"h-5 w-5"})}),r.jsx("div",{className:"ml-4 lg:ml-0",children:r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:((l=i.find(d=>d.href===a.pathname))==null?void 0:l.name)||"Panel de Administracin"})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"hidden md:flex items-center",children:r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar en admin...",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm w-64"})]})}),r.jsxs("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 relative",children:[r.jsx(Sn,{className:"h-5 w-5"}),r.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"hidden sm:block text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.name}),r.jsx("p",{className:"text-xs text-gray-500",children:"Administrador"})]}),r.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-medium text-sm",children:(c=n.name)==null?void 0:c.charAt(0).toUpperCase()})})]})]})]})}),r.jsx("main",{className:"p-6",children:e||r.jsx(Vy,{})})]})]})},A1=[{path:"/panel-admin",label:"Dashboard",icon:$p,description:"Vista general"},{path:"/panel-admin/postulantes",label:"Postulantes",icon:gc,description:"Revisin y aprobacin"},{path:"/panel-admin/users",label:"Gestin de Socios",icon:ct,description:"Administrar socios"},{path:"/panel-admin/payments",label:"Gestin de Cuotas",icon:fa,description:"Pagos y cuotas"},{path:"/panel-admin/content",label:"Gestin de Contenido",icon:Qt,description:"Eventos y noticias"},{path:"/panel-admin/news",label:"Comunicados",icon:Jo,description:"Anuncios y avisos"}];function rr({children:e}){const t=hr(),[s,a]=g.useState(!1),n=c=>c==="/panel-admin"?t.pathname===c:t.pathname.startsWith(c),o=c=>r.jsx("ul",{className:"space-y-2",children:A1.map(d=>{const m=d.icon,h=n(d.path);return r.jsx("li",{children:r.jsxs(ne,{to:d.path,onClick:()=>{c==null||c()},className:`flex items-start p-3 rounded-lg transition-all ${h?"bg-red-50 text-red-600 border border-red-200":"text-gray-700 hover:bg-gray-50 hover:text-red-600"}`,children:[r.jsx(m,{className:`h-5 w-5 mt-0.5 mr-3 flex-shrink-0 ${h?"text-red-600":"text-gray-400"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`text-sm font-medium ${h?"text-red-600":"text-gray-900"}`,children:d.label}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:d.description})]})]})},d.path)})}),i=()=>a(!1),l=()=>a(c=>!c);return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs(ne,{to:"/perfil",className:"flex items-center text-gray-600 hover:text-red-600 transition-colors text-sm font-medium",children:[r.jsx(hc,{className:"h-5 w-5 mr-2"}),"Volver a Mi Perfil"]}),r.jsx("button",{type:"button",onClick:l,className:"w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 shadow-sm hover:text-red-600 hover:border-red-200 transition-colors","aria-label":"Abrir men de administracin",children:s?r.jsx(Ye,{className:"h-5 w-5"}):r.jsx(Dp,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Panel Admin"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Gestin de ACA Chile"})]})]}),r.jsxs("div",{className:"flex flex-1 flex-col md:flex-row",children:[r.jsxs("aside",{className:"hidden md:flex w-64 bg-white border-r border-gray-200 flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs(ne,{to:"/perfil",className:"flex items-center text-gray-600 hover:text-red-600 transition-colors mb-4",children:[r.jsx(hc,{className:"h-5 w-5 mr-1"}),r.jsx("span",{className:"text-sm",children:"Volver a Mi Perfil"})]}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Panel Admin"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gestin de ACA Chile"})]}),r.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:o()}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:"ACA Chile  2025"})})]}),r.jsx("main",{className:"flex-1 min-w-0 px-4 py-6 sm:px-6 lg:px-8",children:e})]}),s&&r.jsxs("div",{className:"md:hidden fixed inset-0 z-40",children:[r.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:i}),r.jsxs("aside",{className:"relative ml-auto flex h-full w-72 max-w-[85%] flex-col bg-white border-l border-gray-200 shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Panel Admin"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Gestin de ACA Chile"})]}),r.jsx("button",{type:"button",onClick:i,className:"w-10 h-10 flex items-center justify-center rounded-lg border border-gray-200 hover:border-red-200 hover:text-red-600 transition-colors","aria-label":"Cerrar men de administracin",children:r.jsx(Ye,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:o(i)}),r.jsx("div",{className:"p-4 border-t border-gray-200 text-xs text-gray-500 text-center",children:"ACA Chile  2025"})]})]})]})}function P1(){return r.jsx(Yy,{children:r.jsxs(hw,{children:[r.jsxs(Hy,{children:[r.jsx(de,{path:"/",element:r.jsx(vw,{})}),r.jsx(de,{path:"/quienes-somos",element:r.jsx(Nw,{})}),r.jsx(de,{path:"/unete",element:r.jsx(cN,{})}),r.jsx(de,{path:"/eventos",element:r.jsx(xN,{})}),r.jsx(de,{path:"/eventos/crear",element:r.jsx(vN,{})}),r.jsx(de,{path:"/eventos/mis-eventos",element:r.jsx(bN,{})}),r.jsx(de,{path:"/eventos/:id",element:r.jsx(gN,{})}),r.jsx(de,{path:"/auth",element:r.jsx(jN,{})}),r.jsx(de,{path:"/forgot-password",element:r.jsx(NN,{})}),r.jsx(de,{path:"/reset-password",element:r.jsx(SN,{})}),r.jsx(de,{path:"/blog",element:r.jsx(CN,{})}),r.jsx(de,{path:"/blog/:slug",element:r.jsx(_N,{})}),r.jsx(de,{path:"/noticias",element:r.jsx(FN,{})}),r.jsx(de,{path:"/noticias/:slug",element:r.jsx(VN,{})}),r.jsx(de,{path:"/buscar",element:r.jsx(BN,{})}),r.jsx(de,{path:"/socios/:id",element:r.jsx(E1,{})}),r.jsx(de,{path:"/admin",element:r.jsx(us,{children:r.jsx(Qm,{})})}),r.jsx(de,{path:"/admin/dashboard",element:r.jsx(us,{children:r.jsx(Qm,{})})}),r.jsx(de,{path:"/admin/users",element:r.jsx(us,{children:r.jsx(qN,{})})}),r.jsx(de,{path:"/admin/eventos",element:r.jsx(us,{children:r.jsx(eh,{})})}),r.jsx(de,{path:"/admin/socios",element:r.jsx(lo,{defaultTab:"admin"})}),r.jsx(de,{path:"/admin/socios/:id",element:r.jsx(rr,{children:r.jsx(ah,{})})}),r.jsx(de,{path:"/admin/cuotas",element:r.jsx(us,{children:r.jsx(Ym,{})})}),r.jsx(de,{path:"/admin/settings",element:r.jsx(us,{children:r.jsx(r1,{})})}),r.jsx(de,{path:"/admin/monitoring",element:r.jsx(us,{children:r.jsx(s1,{})})}),r.jsx(de,{path:"/panel-admin",element:r.jsx(rr,{children:r.jsx(n1,{})})}),r.jsx(de,{path:"/panel-admin/users",element:r.jsx(rr,{children:r.jsx(hl,{})})}),r.jsx(de,{path:"/panel-admin/users/createuser",element:r.jsx(rr,{children:r.jsx(hl,{})})}),r.jsx(de,{path:"/panel-admin/users/:socioId/edituser",element:r.jsx(rr,{children:r.jsx(hl,{})})}),r.jsx(de,{path:"/panel-admin/users/:id",element:r.jsx(rr,{children:r.jsx(ah,{})})}),r.jsx(de,{path:"/panel-admin/payments",element:r.jsx(rr,{children:r.jsx(Ym,{})})}),r.jsx(de,{path:"/panel-admin/content",element:r.jsx(rr,{children:r.jsx(eh,{})})}),r.jsx(de,{path:"/panel-admin/news",element:r.jsx(rr,{children:r.jsx(c1,{})})}),r.jsx(de,{path:"/panel-admin/postulantes",element:r.jsx(rr,{children:r.jsx(h1,{})})}),r.jsx(de,{path:"/perfil",element:r.jsx(lo,{})}),r.jsx(de,{path:"/configuracion",element:r.jsx(lo,{})}),r.jsx(de,{path:"/mi-cuenta",element:r.jsx(lo,{})}),r.jsx(de,{path:"/contacto",element:r.jsx(RN,{})}),r.jsx(de,{path:"*",element:r.jsx(LN,{})})]}),r.jsx(fw,{})]})})}ge.auth.info(" Aplicacin iniciando...");vp(document.getElementById("root")).render(r.jsx(g.StrictMode,{children:r.jsx(dv,{children:r.jsx(hN,{children:r.jsx(P1,{})})})}));export{ux as B,_r as g,r as j,g as r};
